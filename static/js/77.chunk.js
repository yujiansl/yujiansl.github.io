(window.webpackJsonp=window.webpackJsonp||[]).push([[77,124],{"1dju":function(M,m,a){"use strict";a.r(m),a.d(m,"query",function(){return X}),a.d(m,"recharge",function(){return k}),a.d(m,"getBase64Img",function(){return I}),a.d(m,"orderSearch",function(){return B});var _=a("qLMh"),x=a("9og8"),v=a("czNd"),C="X1R1";function X(l){return j.apply(this,arguments)}function j(){return j=Object(x.a)(Object(_.a)().mark(function l(r){return Object(_.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.a)("/v1/api/rechargeorder/list",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function k(l){return b.apply(this,arguments)}function b(){return b=Object(x.a)(Object(_.a)().mark(function l(r){return Object(_.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.a)("/v1/api/rechargeorder/create",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)})),b.apply(this,arguments)}function I(){return f.apply(this,arguments)}function f(){return f=Object(x.a)(Object(_.a)().mark(function l(){return Object(_.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(v.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return E.stop()}},l)})),f.apply(this,arguments)}function B(l){return p.apply(this,arguments)}function p(){return p=Object(x.a)(Object(_.a)().mark(function l(r){return Object(_.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.a)("/v1/api/rechargeorder/search",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)})),p.apply(this,arguments)}},A9Vk:function(M,m,a){"use strict";a.r(m);var _=a("14J3"),x=a("BMrR"),v=a("jCWc"),C=a("kPKH"),X=a("+L6B"),j=a("2/Rp"),k=a("5NDa"),b=a("5rEg"),I=a("y8nQ"),f=a("Vl3Y"),B=a("7Kak"),p=a("9yH6"),l=a("k1fw"),r=a("tJVT"),E=a("WQX3"),n=a("q1tI"),z=a.n(n),w=a("2PG1"),s=a("tL7X"),N=a("1dju"),q=a("9kvl"),Oe=a("miYZ"),ee=a("tsqr"),ve="TZQN";function F(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=document.createElement("textarea");d.readOnly=Boolean("readonly"),d.style.position="absolute",d.style.left="-9999px",d.value=h,document.body.appendChild(d),d.select(),d.setSelectionRange(0,d.value.length),document.execCommand("Copy"),document.body.removeChild(d),g||ee.default.success("\u590D\u5236\u6210\u529F"),g&&Object.prototype.toString.call(g)==="[object Function]"&&g()}var e=a("nKUr"),t="dS1/",R,U,be=m.default=function(){var h=z.a.useRef(null),g=Object(n.useState)("trc"),d=Object(r.a)(g,2),P=d[0],te=d[1],ae=Object(n.useState)(""),W=Object(r.a)(ae,2),ne=W[0],se=W[1],re=Object(n.useState)({trc:{},erc:{}}),$=Object(r.a)(re,2),O=$[0],ce=$[1],le=Object(n.useState)(""),K=Object(r.a)(le,2),de=K[0],oe=K[1],ie=Object(n.useState)("1"),V=Object(r.a)(ie,2),T=V[0],L=V[1],ue=Object(n.useState)({}),G=Object(r.a)(ue,2),J=G[0],me=G[1],_e=Object(n.useState)(""),Q=Object(r.a)(_e,2),ye=Q[0],S=Q[1],je=Object(n.useState)(!1),H=Object(r.a)(je,2),fe=H[0],Y=H[1],Ee=function(u){var o=new Date(u.expiredAt).toLocaleString(),c=new Date(o).getTime(),y=new Date().getTime();if(console.log(c,"expireTime"),console.log(o,"localString"),c<y){console.log("expire"),S("expire"),clearTimeout(R);return}R=setInterval(function(){y=new Date().getTime();var Z=Math.ceil((c-y)/1e3),D=Z%60,A=Math.ceil(Z/60),ge="00:".concat(A<10?"0".concat(A):A,":").concat(D<10?"0".concat(D):D);oe(ge),S("wait")},1e3)},pe=function(u){Y(!0),Object(N.recharge)(Object(l.a)({},u)).then(function(o){var c;me(o.data),(c=h.current)===null||c===void 0||c.resetFields(),te(u.chainType==="1"?"trc":"erc"),L(function(){return"2"}),Ee(o.data),U=setInterval(function(){Object(N.orderSearch)({orderNo:o.data.orderNo}).then(function(y){y.data.status===1&&(clearInterval(U),S("complete"),L("3"))})},1e4)}).finally(function(){Y(!1)})};Object(n.useEffect)(function(){var i;Object(N.getBase64Img)().then(function(u){console.log(u,"res"),ce(u.data)}),(i=h.current)===null||i===void 0||i.setFieldsValue({chainType:1})},[]);var xe=function(u){var o,c=u.target.value;console.log(c,"value",Number(c||0).toFixed(2)),(o=h.current)===null||o===void 0||o.setFieldsValue({crypto:Number(c||0).toFixed(2)})},he=function(u){var o=u.target.value,c=Number(o||0).toFixed(2);se(c)};return Object(e.jsx)(x.a,{className:"content",_nk:"".concat(t,"11"),children:Object(e.jsxs)(C.a,{md:24,_nk:"".concat(t,"21"),children:[T==="1"&&Object(e.jsxs)(f.a,{layout:"vertical",ref:h,name:"control-ref",onFinish:pe,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(t,"31"),children:[Object(e.jsx)(f.a.Item,{name:"chainType",label:s.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(t,"41"),children:Object(e.jsxs)(p.a.Group,{_nk:"".concat(t,"42"),children:[Object(e.jsx)(p.a,{value:1,_nk:"".concat(t,"51"),children:s.a.text("reg_tips49")}),Object(e.jsx)(p.a,{value:2,_nk:"".concat(t,"52"),children:s.a.text("reg_tips50")})]})}),Object(e.jsx)(f.a.Item,{name:"crypto",label:s.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(t,"43"),children:Object(e.jsx)(b.a,{onChange:he,type:"number",onBlur:xe,_nk:"".concat(t,"61")})}),Object(e.jsxs)(f.a.Item,{style:{marginTop:"40px"},_nk:"".concat(t,"44"),children:[Object(e.jsx)(j.a,{loading:fe,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(t,"71"),children:"".concat(s.a.text("reg_tips18")," ").concat(ne," USDT")}),Object(e.jsx)(j.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(t,"72"),children:s.a.text("reg_tip44")})]})]}),T==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(t,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(t,"82"),children:s.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(t,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(t,"91"),children:de}),s.a.text("reg_tips95")]}),Object(e.jsx)("div",{className:"amount-box flex-s-c",_nk:"".concat(t,"84"),children:J.crypto}),Object(e.jsx)("div",{onClick:function(){return F(J.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(t,"85"),children:s.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(t,"86"),children:[s.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(t,"92"),children:P==="trc"?s.a.text("reg_tips49"):s.a.text("reg_tips50")}),s.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(t,"87"),children:Object(e.jsx)("img",{src:(P==="trc","data:image/jpg;base64,".concat(O.trc.img)),alt:"",_nk:"".concat(t,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(t,"88"),children:s.a.text("reg_tips97")}),Object(e.jsx)("div",{className:"address-text flex-s-c",_nk:"".concat(t,"89"),children:P==="trc"?O.trc.address:O.erc.address}),Object(e.jsx)("div",{onClick:function(){return F(P==="trc"?O.trc.address:O.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(t,"8a"),children:s.a.text("reg_tips98")}),Object(e.jsx)(j.a,{onClick:function(){L("1"),R&&clearInterval(R),U&&clearInterval(U)},style:{marginTop:"70px"},type:"default",_nk:"".concat(t,"73"),children:s.a.text("reg_tips109")})]}),T==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(t,"8b"),children:[Object(e.jsx)("img",{src:"",alt:"",_nk:"".concat(t,"a2")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(t,"8c"),children:s.a.text("reg_tips110")}),Object(e.jsx)("div",{className:"s-tips",_nk:"".concat(t,"8d"),children:s.a.text("reg_tips111")}),Object(e.jsx)(j.a,{onClick:function(){L("1"),q.c.push("/merchant/index")},type:"primary",_nk:"".concat(t,"74"),children:s.a.text("reg_tips46")})]}),T!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(t,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(t,"8f"),children:[Object(e.jsx)(w.a,{style:{marginRight:"10px"},_nk:"".concat(t,"b1")}),s.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(t,"8g"),children:s.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(t,"8h"),children:s.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(t,"8i"),children:s.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(t,"8j"),children:s.a.text("reg_tips103")})]})]})})}},WQX3:function(M,m,a){}}]);
