(window.webpackJsonp=window.webpackJsonp||[]).push([[78,123],{"1dju":function(C,d,a){"use strict";a.r(d),a.d(d,"query",function(){return S}),a.d(d,"recharge",function(){return A}),a.d(d,"getBase64Img",function(){return L}),a.d(d,"orderSearch",function(){return W});var m=a("qLMh"),O=a("9og8"),E=a("czNd"),B="X1R1";function S(i){return h.apply(this,arguments)}function h(){return h=Object(O.a)(Object(m.a)().mark(function i(_){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(E.a)("/v1/api/rechargeorder/list",{method:"POST",data:_}));case 1:case"end":return n.stop()}},i)})),h.apply(this,arguments)}function A(i){return P.apply(this,arguments)}function P(){return P=Object(O.a)(Object(m.a)().mark(function i(_){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(E.a)("/v1/api/rechargeorder/create",{method:"POST",data:_}));case 1:case"end":return n.stop()}},i)})),P.apply(this,arguments)}function L(){return j.apply(this,arguments)}function j(){return j=Object(O.a)(Object(m.a)().mark(function i(){return Object(m.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(E.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return f.stop()}},i)})),j.apply(this,arguments)}function W(i){return p.apply(this,arguments)}function p(){return p=Object(O.a)(Object(m.a)().mark(function i(_){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(E.a)("/v1/api/rechargeorder/search",{method:"POST",data:_}));case 1:case"end":return n.stop()}},i)})),p.apply(this,arguments)}},A9Vk:function(C,d,a){"use strict";a.r(d);var m=a("14J3"),O=a("BMrR"),E=a("jCWc"),B=a("kPKH"),S=a("+L6B"),h=a("2/Rp"),A=a("5NDa"),P=a("5rEg"),L=a("y8nQ"),j=a("Vl3Y"),W=a("7Kak"),p=a("9yH6"),i=a("k1fw"),_=a("tJVT"),f=a("WQX3"),n=a.n(f),o=a("q1tI"),Q=a.n(o),H=a("2PG1"),r=a("tL7X"),D=a("1dju"),z=a("9kvl"),t=a("nKUr"),Ot=a.n(t),e="dS1/",g,b;d.default=function(){var x=Q.a.useRef(null),Y=Object(o.useState)("trc"),K=Object(_.a)(Y,2),M=K[0],Z=K[1],w=Object(o.useState)(""),N=Object(_.a)(w,2),q=N[0],tt=N[1],et=Object(o.useState)({trc:{},erc:{}}),k=Object(_.a)(et,2),y=k[0],at=k[1],rt=Object(o.useState)(""),F=Object(_.a)(rt,2),_t=F[0],nt=F[1],st=Object(o.useState)("1"),$=Object(_.a)(st,2),R=$[0],U=$[1],ct=Object(o.useState)({}),V=Object(_.a)(ct,2),it=V[0],lt=V[1],ot=Object(o.useState)(""),G=Object(_.a)(ot,2),Et=G[0],T=G[1],ut=Object(o.useState)(!1),J=Object(_.a)(ut,2),dt=J[0],X=J[1],mt=Object(o.useCallback)(function(u){var s=new Date().getTime(),c=new Date(u.createdAt).getTime()+30*60*1e3;if(c<s){T("expire"),clearTimeout(g);return}g=setInterval(function(){s=new Date().getTime(),c=new Date(u.createdAt).getTime()+30*60*1e3;var l=Math.ceil((c-s)/1e3),v=l%60,I=Math.ceil(l/60),pt="00:".concat(I<10?"0".concat(I):I,":").concat(v<10?"0".concat(v):v);nt(pt),T("wait")},1e3)},[]),ft=function(s){X(!0),Object(D.recharge)(Object(i.a)({},s)).then(function(c){var l;lt(c.data),(l=x.current)===null||l===void 0||l.resetFields(),Z(s.chainType==="1"?"trc":"erc"),U(function(){return"2"}),mt(c.data),b=setInterval(function(){Object(D.orderSearch)({orderNo:c.data.orderNo}).then(function(v){v.data.status===1&&(clearInterval(b),T("complete"),U("3"))})},1e4)}).finally(function(){X(!1)})};Object(o.useEffect)(function(){var u;Object(D.getBase64Img)().then(function(s){console.log(s,"res"),at(s.data)}),(u=x.current)===null||u===void 0||u.setFieldsValue({chainType:1})},[]);var ht=function(s){var c,l=s.target.value;console.log(l,"value",Number(l||0).toFixed(2)),(c=x.current)===null||c===void 0||c.setFieldsValue({crypto:Number(l||0).toFixed(2)})},jt=function(s){var c=s.target.value,l=Number(c||0).toFixed(2);tt(l)};return Object(t.jsx)(O.a,{className:"content",_nk:"".concat(e,"11"),children:Object(t.jsxs)(B.a,{md:24,_nk:"".concat(e,"21"),children:[R==="1"&&Object(t.jsxs)(j.a,{layout:"vertical",ref:x,name:"control-ref",onFinish:ft,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(e,"31"),children:[Object(t.jsx)(j.a.Item,{name:"chainType",label:r.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(e,"41"),children:Object(t.jsxs)(p.a.Group,{_nk:"".concat(e,"42"),children:[Object(t.jsx)(p.a,{value:1,_nk:"".concat(e,"51"),children:r.a.text("reg_tips49")}),Object(t.jsx)(p.a,{value:2,_nk:"".concat(e,"52"),children:r.a.text("reg_tips50")})]})}),Object(t.jsx)(j.a.Item,{name:"crypto",label:r.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(e,"43"),children:Object(t.jsx)(P.a,{onChange:jt,type:"number",onBlur:ht,_nk:"".concat(e,"61")})}),Object(t.jsxs)(j.a.Item,{style:{marginTop:"70px"},_nk:"".concat(e,"44"),children:[Object(t.jsx)(h.a,{loading:dt,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(e,"71"),children:"".concat(r.a.text("reg_tips18")," ").concat(q," USDT")}),Object(t.jsx)(h.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(e,"72"),children:r.a.text("reg_tip44")})]})]}),R==="2"&&Object(t.jsxs)("div",{className:"",_nk:"".concat(e,"81"),children:[Object(t.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(e,"82"),children:r.a.text("reg_tips94")}),Object(t.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(e,"83"),children:[Object(t.jsx)("span",{_nk:"".concat(e,"91"),children:_t}),r.a.text("reg_tips95")]}),Object(t.jsx)("div",{className:"amount-box flex-s-c",_nk:"".concat(e,"84"),children:it.crypto}),Object(t.jsx)("div",{className:"copy-text flex-s-c",_nk:"".concat(e,"85"),children:r.a.text("reg_tips96")}),Object(t.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(e,"86"),children:[r.a.text("reg_tips92"),Object(t.jsx)("span",{_nk:"".concat(e,"92"),children:M==="trc"?r.a.text("reg_tips49"):r.a.text("reg_tips50")}),r.a.text("reg_tips93")]}),Object(t.jsx)("div",{className:"qr-box",_nk:"".concat(e,"87"),children:Object(t.jsx)("img",{src:(M==="trc","data:image/jpg;base64,".concat(y.trc.img)),alt:"",_nk:"".concat(e,"a1")})}),Object(t.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(e,"88"),children:r.a.text("reg_tips97")}),Object(t.jsx)("div",{className:"address-text flex-s-c",_nk:"".concat(e,"89"),children:M==="trc"?y.trc.address:y.erc.address}),Object(t.jsx)("div",{className:"copy-text flex-s-c",_nk:"".concat(e,"8a"),children:r.a.text("reg_tips98")}),Object(t.jsx)(h.a,{onClick:function(){U("1"),g&&clearInterval(g),b&&clearInterval(b)},style:{marginTop:"70px"},type:"default",_nk:"".concat(e,"73"),children:r.a.text("reg_tips109")})]}),R==="3"&&Object(t.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(e,"8b"),children:[Object(t.jsx)("img",{src:"",alt:"",_nk:"".concat(e,"a2")}),Object(t.jsx)("div",{className:"s-title",_nk:"".concat(e,"8c"),children:r.a.text("reg_tips110")}),Object(t.jsx)("div",{className:"s-tips",_nk:"".concat(e,"8d"),children:r.a.text("reg_tips111")}),Object(t.jsx)(h.a,{onClick:function(){U("1"),z.c.push("/merchant/index")},type:"primary",_nk:"".concat(e,"74"),children:r.a.text("reg_tips46")})]}),R!=="3"&&Object(t.jsxs)("div",{className:"intro",_nk:"".concat(e,"8e"),children:[Object(t.jsxs)("div",{className:"title",_nk:"".concat(e,"8f"),children:[Object(t.jsx)(H.a,{style:{marginRight:"10px"},_nk:"".concat(e,"b1")}),r.a.text("reg_tip59")]}),Object(t.jsx)("div",{_nk:"".concat(e,"8g"),children:r.a.text("reg_tips105")}),Object(t.jsx)("div",{_nk:"".concat(e,"8h"),children:r.a.text("reg_tips106")}),Object(t.jsx)("div",{_nk:"".concat(e,"8i"),children:r.a.text("reg_tips107")}),Object(t.jsx)("div",{_nk:"".concat(e,"8j"),children:r.a.text("reg_tips108")})]})]})})}},WQX3:function(C,d,a){}}]);
