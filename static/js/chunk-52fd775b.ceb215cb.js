(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52fd775b"],{"5d51":function(e,a,t){"use strict";var r=t("6a70"),n=t.n(r);n.a},"635f":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"bg-w pt-2 pl-3"},[t("a-breadcrumb",[t("a-breadcrumb-item",[t("a",{on:{click:e.toHome}},[e._v("首頁")])]),t("a-breadcrumb-item",[t("a",{on:{click:e.toPage1}},[e._v(e._s(e.secondMenu.name))])]),t("a-breadcrumb-item",[e.thirdMenu.path?t("a",[e._v(e._s(e.thirdMenu.name))]):e._e()])],1),t("div",{staticClass:"py-1 fw-b fs-18 fc-bl"},[e._v(e._s(e.title))])],1)},n=[],s=(t("b0c0"),t("ac1f"),t("1276"),t("53ca")),o=t("a09f"),c={name:"Breadcrumb",props:{title:{type:String,default:""}},data:function(){return{name1:"",name2:"",path1:"",path2:"",secondMenu:{},thirdMenu:{}}},created:function(){this.init()},methods:{init:function(){var e=this.$route.path,a=e.split("/").length,t=e.split("/");2===a?(this.secondMenu.path="",this.secondMenu.name=this.getName(t[1])):(this.secondMenu.path="/"+t[1]+"/"+t[2],this.secondMenu.name=this.getName(this.secondMenu.path),this.thirdMenu.path=e,this.thirdMenu.name="商户详情")},getName:function(e){return"object"===Object(s["a"])(o["a"][e])?o["a"][e].name:""},toHome:function(){var e=this.$store.getters["account/roles"][0].id||"merchant",a=this.$route.path,t="merchant"===e?"/index":"/adminIndex";a!==t&&this.$router.push({path:t})},toPage1:function(){this.secondMenu.path&&this.$router.push({path:this.secondMenu.path})}}},l=c,i=(t("d54b"),t("0c7c")),u=Object(i["a"])(l,r,n,!1,null,"69611da6",null);a["a"]=u.exports},"6a70":function(e,a,t){},7871:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"setting-container mt-2"},[t("Breadcrumb"),t("div",{staticClass:"setting-box br-05  mt-2"},[t("a-tabs",{on:{change:function(a){e.pass={},e.challengeId="",e.btnLoading=!1}},model:{value:e.currentTab,callback:function(a){e.currentTab=a},expression:"currentTab"}},[t("a-tab-pane",{key:"1",attrs:{tab:"商戶信息"}},[t("div",{staticClass:"tab-item"},[t("a-form",[t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"登錄賬戶"}},[t("a-input",{attrs:{disabled:"",placeholder:"Please input your name"},model:{value:e.userInfo.name,callback:function(a){e.$set(e.userInfo,"name",a)},expression:"userInfo.name"}})],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"商户名称 *"}},[t("a-input",{attrs:{autocomplete:"off",placeholder:"请输入商户名称"},model:{value:e.merName,callback:function(a){e.merName=a},expression:"merName"}})],1)],1),t("a-button",{staticClass:"reg-btn",attrs:{type:"primary",loading:e.btnLoading},on:{click:e.setMerName}},[e._v("確認")])],1)]),t("a-tab-pane",{key:"2",attrs:{tab:"修改密碼","force-render":""}},[t("div",{staticClass:"tab-item"},[t("a-form",[t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"登錄密碼 *"}},[t("a-input-password",{attrs:{placeholder:"請輸入新的登錄密碼"},model:{value:e.pass.password,callback:function(a){e.$set(e.pass,"password",a)},expression:"pass.password"}})],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"確認密碼 *"}},[t("a-input-password",{attrs:{autocomplete:"off",placeholder:"請再次輸入登錄密碼"},model:{value:e.pass.rePassword,callback:function(a){e.$set(e.pass,"rePassword",a)},expression:"pass.rePassword"}})],1),t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"郵箱驗證碼 *"}},[t("a-input",{attrs:{placeholder:"郵箱驗證碼"},model:{value:e.pass.code,callback:function(a){e.$set(e.pass,"code",a)},expression:"pass.code"}}),t("div",{staticClass:"get-code flex jc-c ai-c",on:{click:e.emailCode}},[e._v(e._s(e.codeText))])],1)],1),t("a-button",{staticClass:"reg-btn",attrs:{type:"primary",loading:e.btnLoading},on:{click:e.setPass}},[e._v("確認")])],1)]),t("a-tab-pane",{key:"3",attrs:{tab:"回調地址"}},[t("div",{staticClass:"tab-item"},[t("a-form",[t("a-form-item",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol,label:"回調地址 *"}},[t("a-input",{attrs:{placeholder:"請輸入回調地址"},model:{value:e.cbUrl,callback:function(a){e.cbUrl=a},expression:"cbUrl"}})],1)],1),t("a-button",{staticClass:"reg-btn",attrs:{type:"primary",loading:e.btnLoading},on:{click:e.setCbUrl}},[e._v("確認")])],1)])],1)],1)],1)},n=[],s=(t("b0c0"),t("96cf"),t("1da1")),o=t("635f"),c=t("4703"),l={name:"Setting",components:{Breadcrumb:o["a"]},data:function(){var e=function(e,a,t){t(new Error("請輸入密碼"))},a={labelCol:{span:24},wrapperCol:{span:24}};return{validatePass:e,btnLoading:!1,challengeId:"",cbUrl:"",merName:"",pass:{},currentTab:"1",codeText:"獲取驗證碼",codeLoading:!1,checkNick:!1,formItemLayout:a,userInfo:"",form:this.$form.createForm(this,{name:"dynamic_rule"})}},mounted:function(){this.userInfo=JSON.parse(localStorage.getItem("user-info")),this.getMerInfo()},methods:{getMerInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c["g"])();case 3:t=a.sent,e.merName=t.data.name,e.cbUrl=t.data.callback,a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},setMerName:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t={merchantId:"",name:e.merName},e.merName){a.next=4;break}return e.$message.error("請輸入商戶名稱"),a.abrupt("return");case 4:return e.btnLoading=!0,a.prev=5,a.next=8,Object(c["n"])(t);case 8:return e.$message.success("設置成功"),a.next=11,e.getMerInfo();case 11:e.pass.code="",e.challengeId="",e.btnLoading=!1,a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](5),e.btnLoading=!1;case 19:case"end":return a.stop()}}),a,null,[[5,16]])})))()},setPass:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t={challengeId:e.challengeId,challengeResult:e.pass.code,merchantId:"",password:e.pass.password},e.pass.password){a.next=4;break}return e.$message.error("請輸入登錄密碼"),a.abrupt("return");case 4:if(!(e.pass.password.length<6||e.pass.password.length>30)){a.next=7;break}return e.$message.error("密碼的長度應在6-30位之間"),a.abrupt("return");case 7:if(e.pass.rePassword){a.next=10;break}return e.$message.error("請再次輸入密碼"),a.abrupt("return");case 10:if(e.pass.rePassword===e.pass.password){a.next=13;break}return e.$message.error("兩次輸入的密碼不一致"),a.abrupt("return");case 13:if(e.pass.code){a.next=16;break}return e.$message.error("請輸入郵箱驗證碼"),a.abrupt("return");case 16:if(e.challengeId){a.next=19;break}return e.$message.error("驗證碼錯誤，請重試"),a.abrupt("return");case 19:return e.btnLoading=!0,a.prev=20,a.next=23,Object(c["o"])(t);case 23:e.$message.success("設置成功"),e.pass={},e.challengeId="",e.btnLoading=!1,a.next=32;break;case 29:a.prev=29,a.t0=a["catch"](20),e.btnLoading=!1;case 32:case"end":return a.stop()}}),a,null,[[20,29]])})))()},setCbUrl:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t={merchantId:"",callbackUrl:e.cbUrl},e.cbUrl){a.next=4;break}return e.$message.error("請輸入回調地址"),a.abrupt("return");case 4:return e.btnLoading=!0,a.prev=5,a.next=8,Object(c["p"])(t);case 8:e.$message.success("設置成功"),e.pass={},e.challengeId="",e.btnLoading=!1,e.getMerInfo(),a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](5),e.btnLoading=!1;case 18:case"end":return a.stop()}}),a,null,[[5,15]])})))()},emailCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var t,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.codeLoading){a.next=2;break}return a.abrupt("return");case 2:return e.codeLoading=!0,a.prev=3,t={challengeType:"EmailConfirmCode",email:e.userInfo.name},e.codeText="發送中",a.next=8,Object(c["e"])(t);case 8:r=a.sent,e.challengeId=r.data.challengeId,e.$message.success("驗證碼已發送"),e.codeText=60,n=window.setInterval((function(){e.codeText--<=0&&(e.codeText="發送驗證碼",e.codeLoading=!1,window.clearInterval(n))}),1e3),a.next=20;break;case 15:a.prev=15,a.t0=a["catch"](3),e.codeText="發送驗證碼",e.codeLoading=!1,e.$message.error("驗證碼發送失敗，請稍後再試");case 20:case"end":return a.stop()}}),a,null,[[3,15]])})))()},check:function(){this.form.validateFields((function(e){}))}}},i=l,u=(t("5d51"),t("0c7c")),p=Object(u["a"])(i,r,n,!1,null,"1f39ee6e",null);a["default"]=p.exports},b6e8:function(e,a,t){},d54b:function(e,a,t){"use strict";var r=t("b6e8"),n=t.n(r);n.a}}]);