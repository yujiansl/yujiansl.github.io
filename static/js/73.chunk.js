(window.webpackJsonp=window.webpackJsonp||[]).push([[73,125],{"0a62":function(x,l,t){x.exports=t.p+"static/images/success.svg"},"1dju":function(x,l,t){"use strict";t.r(l),t.d(l,"query",function(){return I}),t.d(l,"recharge",function(){return W}),t.d(l,"getBase64Img",function(){return d}),t.d(l,"orderSearch",function(){return M});var p=t("qLMh"),b=t("9og8"),P=t("czNd"),K="X1R1";function I(s){return f.apply(this,arguments)}function f(){return f=Object(b.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("/v1/api/rechargeorder/list",{method:"POST",data:_}));case 1:case"end":return o.stop()}},s)})),f.apply(this,arguments)}function W(s){return c.apply(this,arguments)}function c(){return c=Object(b.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("/v1/api/rechargeorder/create",{method:"POST",data:_}));case 1:case"end":return o.stop()}},s)})),c.apply(this,arguments)}function d(){return r.apply(this,arguments)}function r(){return r=Object(b.a)(Object(p.a)().mark(function s(){return Object(p.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(P.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return j.stop()}},s)})),r.apply(this,arguments)}function M(s){return E.apply(this,arguments)}function E(){return E=Object(b.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("/v1/api/rechargeorder/search",{method:"POST",data:_}));case 1:case"end":return o.stop()}},s)})),E.apply(this,arguments)}},A9Vk:function(x,l,t){"use strict";t.r(l);var p=t("14J3"),b=t("BMrR"),P=t("jCWc"),K=t("kPKH"),I=t("+L6B"),f=t("2/Rp"),W=t("5NDa"),c=t("5rEg"),d=t("y8nQ"),r=t("Vl3Y"),M=t("7Kak"),E=t("9yH6"),s=t("k1fw"),_=t("tJVT"),j=t("WQX3"),o=t.n(j),h=t("q1tI"),q=t.n(h),tt=t("2PG1"),n=t("tL7X"),A=t("1dju"),et=t("9kvl"),S=t("pn+7"),e=t("nKUr"),Pt=t.n(e),a="dS1/",v,y;l.default=function(){var B=q.a.useRef(null),at=Object(h.useState)("trc"),$=Object(_.a)(at,2),C=$[0],nt=$[1],rt=Object(h.useState)(""),V=Object(_.a)(rt,2),ct=V[0],st=V[1],_t=Object(h.useState)({trc:{},erc:{}}),G=Object(_.a)(_t,2),g=G[0],ot=G[1],lt=Object(h.useState)(""),J=Object(_.a)(lt,2),it=J[0],ut=J[1],dt=Object(h.useState)("1"),Q=Object(_.a)(dt,2),T=Q[0],R=Q[1],mt=Object(h.useState)({}),X=Object(_.a)(mt,2),k=X[0],pt=X[1],ft=Object(h.useState)("timeout"),H=Object(_.a)(ft,2),L=H[0],U=H[1],ht=Object(h.useState)(!1),Y=Object(_.a)(ht,2),Ot=Y[0],Z=Y[1],Et=t("0a62"),jt=t("baxK"),vt=function(O){var m=new Date(O.expiredAt).toLocaleString(),u=new Date(m).getTime(),D=new Date().getTime();if(console.log(u,"expireTime"),console.log(m,"localString"),u<D){console.log("expire"),U("timeout"),clearTimeout(v);return}v=setInterval(function(){console.log("timer"),D=new Date().getTime();var z=Math.ceil((u-D)/1e3),N=z%60,F=Math.ceil(z/60),w="00:".concat(F<10?"0".concat(F):F,":").concat(N<10?"0".concat(N):N);ut(w),U("wait"),w==="00:00:00"&&(clearTimeout(v),U("timeout"))},1e3)},gt=function(O){Z(!0),Object(A.recharge)(Object(s.a)({},O)).then(function(m){var u;pt(m.data),(u=B.current)===null||u===void 0||u.resetFields(),nt(O.chainType==="1"?"trc":"erc"),R(function(){return"2"}),vt(m.data),y=setInterval(function(){console.log("searchTimer"),Object(A.orderSearch)({orderNo:m.data.orderNo}).then(function(D){D.data.status===1&&(clearInterval(y),U("success"),R("3")),D.data.status===2&&(clearInterval(y),clearInterval(v),U("timeout"),R("3")),D.data.status===3&&(clearInterval(y),clearInterval(v),U("fail"),R("3"))})},1e4)}).finally(function(){Z(!1)})};Object(h.useEffect)(function(){T!=="2"&&(clearInterval(y),clearInterval(v))},[T]),Object(h.useEffect)(function(){var i;Object(A.getBase64Img)().then(function(O){console.log(O,"res"),ot(O.data)}),(i=B.current)===null||i===void 0||i.setFieldsValue({chainType:1})},[]);var xt=function(O){var m,u=O.target.value;console.log(u,"value",Number(u||0).toFixed(2)),(m=B.current)===null||m===void 0||m.setFieldsValue({crypto:Number(u||0).toFixed(2)})},bt=function(O){var m=O.target.value,u=Number(m||0).toFixed(2);st(u)};return Object(e.jsx)(b.a,{className:"content",_nk:"".concat(a,"11"),children:Object(e.jsxs)(K.a,{md:24,_nk:"".concat(a,"21"),children:[T==="1"&&Object(e.jsxs)(r.a,{layout:"vertical",ref:B,name:"control-ref",onFinish:gt,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(a,"31"),children:[Object(e.jsx)(r.a.Item,{name:"chainType",label:n.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(a,"41"),children:Object(e.jsxs)(E.a.Group,{_nk:"".concat(a,"42"),children:[Object(e.jsx)(E.a,{value:1,_nk:"".concat(a,"51"),children:n.a.text("reg_tips49")}),Object(e.jsx)(E.a,{value:2,_nk:"".concat(a,"52"),children:n.a.text("reg_tips50")})]})}),Object(e.jsx)(r.a.Item,{name:"crypto",label:n.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(a,"43"),children:Object(e.jsx)(c.a,{placeholder:n.a.text("reg_tips125"),onChange:bt,type:"number",onBlur:xt,_nk:"".concat(a,"61")})}),Object(e.jsxs)(r.a.Item,{style:{marginTop:"40px"},_nk:"".concat(a,"44"),children:[Object(e.jsx)(f.a,{loading:Ot,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(a,"71"),children:"".concat(n.a.text("reg_tips18")," ").concat(ct," USDT")}),Object(e.jsx)(f.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(a,"72"),children:n.a.text("reg_tip44")})]})]}),T==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(a,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(a,"82"),children:n.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(a,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(a,"91"),children:it}),n.a.text("reg_tips95")]}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(k.crypto)},className:"amount-box flex-s-c",_nk:"".concat(a,"84"),children:k.crypto}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(k.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(a,"85"),children:n.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(a,"86"),children:[n.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(a,"92"),children:C==="trc"?n.a.text("reg_tips49"):n.a.text("reg_tips50")}),n.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(a,"87"),children:Object(e.jsx)("img",{src:(C==="trc","data:image/jpg;base64,".concat(g.trc.img)),alt:"",_nk:"".concat(a,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(a,"88"),children:n.a.text("reg_tips97")}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(C==="trc"?g.trc.address:g.erc.address)},className:"address-text flex-s-c",_nk:"".concat(a,"89"),children:C==="trc"?g.trc.address:g.erc.address}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(C==="trc"?g.trc.address:g.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(a,"8a"),children:n.a.text("reg_tips98")}),Object(e.jsx)(f.a,{onClick:function(){R("1"),v&&clearInterval(v),y&&clearInterval(y)},style:{marginTop:"70px"},type:"default",_nk:"".concat(a,"73"),children:n.a.text("reg_tips109")})]}),T==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(a,"8b"),children:[L==="success"?Object(e.jsx)("img",{src:Et,alt:"",_nk:"".concat(a,"a2")}):Object(e.jsx)("img",{src:jt,alt:"",_nk:"".concat(a,"a3")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(a,"8c"),children:L==="success"?n.a.text("reg_tips110"):n.a.text("reg_tips137")}),Object(e.jsxs)("div",{className:"s-tips",_nk:"".concat(a,"8d"),children:[" ",L==="success"?n.a.text("reg_tips111"):n.a.text("reg_tips138")]}),L==="success"?Object(e.jsx)(f.a,{onClick:function(){R("1"),et.c.push("/merchant/index")},type:"primary",_nk:"".concat(a,"74"),children:n.a.text("reg_tips46")}):Object(e.jsx)(f.a,{onClick:function(){R("1"),U("")},type:"default",_nk:"".concat(a,"75"),children:n.a.text("reg_tips109")})]}),T!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(a,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(a,"8f"),children:[Object(e.jsx)(tt.a,{style:{marginRight:"10px"},_nk:"".concat(a,"b1")}),n.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(a,"8g"),children:n.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(a,"8h"),children:n.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(a,"8i"),children:n.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(a,"8j"),children:n.a.text("reg_tips103")})]})]})})}},WQX3:function(x,l,t){},baxK:function(x,l,t){x.exports=t.p+"static/images/error.svg"},"pn+7":function(x,l,t){"use strict";t.d(l,"b",function(){return I}),t.d(l,"a",function(){return f});var p=t("jrin"),b=t("miYZ"),P=t("tsqr"),K="TZQN";function I(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=document.createElement("textarea");r.readOnly=Boolean("readonly"),r.style.position="absolute",r.style.left="-9999px",r.value=c,document.body.appendChild(r),r.select(),r.setSelectionRange(0,r.value.length),document.execCommand("Copy"),document.body.removeChild(r),d||P.default.success("\u590D\u5236\u6210\u529F"),d&&Object.prototype.toString.call(d)==="[object Function]"&&d()}function f(c,d){var r,M,E=Math.abs((c==null||((r=c.current)===null||r===void 0)?void 0:r.getFieldValue(d))||0),s=Number(E.toFixed(4)).toString();console.log(s,"num"),c==null||((M=c.current)===null||M===void 0)||M.setFieldsValue(Object(p.a)({},d,s))}function W(c){var d=new Date(c).toLocaleString();console.log(d,"local")}}}]);
