(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"7LQ8":function(N,p,e){"use strict";var u=e("J9WQ"),E=e("HgcE"),L=e.n(E),n="lNZJ";p.default=u.a},HgcE:function(N,p){var e="/78F"},J9WQ:function(N,p,e){"use strict";var u=e("14J3"),E=e("BMrR"),L=e("jCWc"),n=e("kPKH"),P=e("k1fw"),v=e("tJVT"),o=e("13Nf"),r=e("q1tI"),f=e("YQfW"),c=e("LvDl"),h=e("2qtc"),O=e("kLXV"),s=e("T2oS"),j=e("W9HT"),y=e("DZo9"),C=e("8z0m"),le=e("+L6B"),M=e("2/Rp"),te=e("7LQ8"),X=e("tL7X"),ne=e("z7Xi"),d=e("xvlK"),de=e("tUHX"),g=e("k5nK"),ae=e("VA6q"),t=e("nKUr"),a="AOv/",Q=200,H=200,k=function(I){var A=I.visible,l=I.onVisibleChange,w=l===void 0?function(){}:l,B=I.onSave,W=Object(r.useRef)(),G=Object(r.useState)([]),V=Object(v.a)(G,2),x=V[0],Z=V[1],Y=Object(r.useState)(),q=Object(v.a)(Y,2),J=q[0],oe=q[1],se=Object(r.useState)(!1),i=Object(v.a)(se,2),ee=i[0],$=i[1],F=function(z,ie){if(!x||x.length===0){X.a.error("cropper.avatar.select");return}W!=null&&W.current&&W.current[z](ie)};return Object(t.jsx)(O.a,{width:"800px",title:"\u5934\u50CF\u4E0A\u4F20",bodyStyle:{paddingBottom:0},visible:A,footer:Object(t.jsxs)(E.a,{_nk:"".concat(a,"21"),children:[Object(t.jsxs)(n.a,{xs:24,md:12,style:{textAlign:"left"},_nk:"".concat(a,"31"),children:[Object(t.jsx)(C.a,{accept:"image/*",fileList:x,showUploadList:!1,maxCount:1,onChange:function(z){return Z(z.fileList)},_nk:"".concat(a,"41"),children:Object(t.jsxs)(M.a,{_nk:"".concat(a,"51"),children:[Object(t.jsx)(ne.a,{_nk:"".concat(a,"61")}),"\u9009\u62E9\u56FE\u7247"]})}),Object(t.jsx)(M.a,{style:{marginLeft:"8px"},onClick:function(){return F("zoom",.1)},_nk:"".concat(a,"52"),children:Object(t.jsx)(d.a,{_nk:"".concat(a,"71")})}),Object(t.jsx)(M.a,{onClick:function(){return F("zoom",-.1)},_nk:"".concat(a,"53"),children:Object(t.jsx)(de.a,{_nk:"".concat(a,"81")})}),Object(t.jsx)(M.a,{onClick:function(){return F("rotate",-90)},_nk:"".concat(a,"54"),children:Object(t.jsx)(g.a,{_nk:"".concat(a,"91")})}),Object(t.jsx)(M.a,{onClick:function(){return F("rotate",90)},_nk:"".concat(a,"55"),children:Object(t.jsx)(ae.a,{_nk:"".concat(a,"a1")})})]}),Object(t.jsx)(n.a,{xs:24,md:12,_nk:"".concat(a,"32"),children:Object(t.jsx)(M.a,{type:"primary",loading:ee,onClick:function(){if(!J){X.a.error("cropper.avatar.select");return}B&&($(!0),setTimeout(function(){B(J,x[0]).finally(function(){return $(!1)})},600))},_nk:"".concat(a,"56"),children:"\u4FDD\u5B58"})})]}),onCancel:function(){return w(!1)},_nk:"".concat(a,"11"),children:Object(t.jsx)(j.a,{spinning:ee,_nk:"".concat(a,"b1"),children:Object(t.jsx)(te.default,{imgHeight:350,imgWidth:350,previewHeight:Q,previewWidth:H,cr:W,value:x&&x.length>0?x[0].originFileObj:"",options:{minCropBoxHeight:200,minCropBoxWidth:200,autoCropArea:1,aspectRatio:1},onChange:oe,_nk:"".concat(a,"c1")})})})},re=e("bwIe"),T="twNa",D={viewMode:2,background:!0,responsive:!0,autoCropArea:.3,checkOrientation:!1,zoomTo:.5,zoomable:!0,guides:!0,rotatable:!0,cropBoxResizable:!0,cropBoxMovable:!0,dragMode:"move",center:!0,minCropBoxHeight:10,minCropBoxWidth:10,initialAspectRatio:1,autoCrop:!0,highlight:!0},_=function(A){var l=A.value,w=A.onChange,B=A.onUrlChange,W=A.options,G=A.imgWidth,V=G===void 0?400:G,x=A.imgHeight,Z=x===void 0?400:x,Y=A.previewWidth,q=Y===void 0?V:Y,J=A.previewHeight,oe=J===void 0?Z:J,se=A.cr,i=Object(r.useRef)(null),ee=Object(r.useState)(),$=Object(v.a)(ee,2),F=$[0],b=$[1],z=Object(r.useMemo)(function(){return Object(c.debounce)(function(S){var m=S.getCroppedCanvas();w&&m.toBlob(function(U){return w(U||void 0)}),B&&B(m.toDataURL())},500)},[w,B]),ie=function(){var m,U=i==null||((m=i.current)===null||m===void 0)?void 0:m.cropper;U&&(w||B)&&z(U)};return Object(r.useImperativeHandle)(se,function(){return{zoom:function(m){var U,K;i==null||((U=i.current)===null||U===void 0||((K=U.cropper)===null||K===void 0))||K.zoom(m)},rotate:function(m){var U,K;i==null||((U=i.current)===null||U===void 0||((K=U.cropper)===null||K===void 0))||K.rotate(m)},getCropper:function(){var m;return i==null||((m=i.current)===null||m===void 0)?void 0:m.cropper}}}),Object(r.useEffect)(function(){if(!l){b(void 0);return}typeof l=="string"?b(l):re.a.getBase64(l).then(function(S){b(S)})},[l]),Object(t.jsxs)(E.a,{style:{userSelect:"none",WebkitUserSelect:"none"},_nk:"".concat(T,"11"),children:[Object(t.jsx)(n.a,{xs:24,md:12,_nk:"".concat(T,"21"),children:Object(t.jsx)("div",{style:{width:"100%"},_nk:"".concat(T,"31"),children:Object(t.jsx)(o.a,Object(P.a)(Object(P.a)(Object(P.a)({},D),W),{},{preview:".lt-cropper-preview",style:{height:"".concat(Z,"px"),width:"".concat(V,"px"),backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC')"},src:F,crop:ie,ref:i,_nk:"".concat(T,"41")}))})}),Object(t.jsx)(n.a,{xs:24,md:12,style:{display:"flex",justifyContent:"center",alignItems:"center"},_nk:"".concat(T,"22"),children:Object(t.jsx)("div",{className:"lt-cropper-preview",style:{overflow:"hidden",display:"inline-block",boxSizing:"border-box",height:"".concat(oe,"px"),width:"".concat(q,"px"),boxShadow:"0 0 4px #ccc",WebkitBoxShadow:"0 0 4px #ccc"},_nk:"".concat(T,"32")})})]})};_.Avatar=k;var R=p.a=_},XZIN:function(N,p,e){"use strict";var u="mExg",E=function(o){return o&&!o.startsWith("http")?"https://hccake-img.oss-cn-shanghai.aliyuncs.com/".concat(o):o},L=function(o){return o},n=function(o){return o},P={resolveImage:E,resolveVideo:L,resolveAudio:n};p.a=P},XlJJ:function(N,p,e){"use strict";e.d(p,"a",function(){return f});var u=e("fWQN"),E=e("mtLc"),L=e("NFKh"),n=e.n(L),P="0amg",v=function(){function c(){Object(u.a)(this,c)}return Object(E.a)(c,[{key:"encrypt",value:function(O){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"XwKsGlMcdPMEhR1B",j=n.a.enc.Utf8.parse(s),y=n.a.enc.Utf8.parse(O),C=n.a.AES.encrypt(y,j,{mode:n.a.mode.ECB,padding:n.a.pad.Pkcs7});return C.toString()}}]),c}(),o=function(){function c(){Object(u.a)(this,c),this.securityKey="==BallCat-Auth=="}return Object(E.a)(c,[{key:"encrypt",value:function(O){var s=n.a.enc.Utf8.parse(this.securityKey);return n.a.AES.encrypt(O,s,{iv:s,mode:n.a.mode.CBC,padding:n.a.pad.Pkcs7}).toString()}}]),c}(),r=new v,f=new o},bwIe:function(N,p,e){"use strict";var u=e("qLMh"),E=e("9og8"),L="jIV/";function n(r,f){return P.apply(this,arguments)}function P(){return P=Object(E.a)(Object(u.a)().mark(function r(f,c){var h,O,s;return Object(u.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:h=c||new Date().getTime().toString(),window.navigator.msSaveOrOpenBlob?navigator.msSaveBlob(f,c):(O=URL.createObjectURL(f),s=document.createElement("a"),s.style.display="none",s.href=O,s.download=h,s.click(),URL.revokeObjectURL(s.href));case 2:case"end":return y.stop()}},r)})),P.apply(this,arguments)}function v(r){return o.apply(this,arguments)}function o(){return o=Object(E.a)(Object(u.a)().mark(function r(f){return Object(u.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",new Promise(function(O,s){var j=new FileReader;j.onload=function(){return O(j.result)},j.onerror=function(y){return s(y)},j.readAsDataURL(f)}));case 1:case"end":return h.stop()}},r)})),o.apply(this,arguments)}p.a={remoteFileDownload:n,getBase64:v}},tPYg:function(N,p,e){"use strict";e.r(p);var u=e("qLMh"),E=e("miYZ"),L=e("tsqr"),n=e("9og8"),P=e("14J3"),v=e("BMrR"),o=e("jCWc"),r=e("kPKH"),f=e("k1fw"),c=e("Telt"),h=e("Tckk"),O=e("tJVT"),s=e("Ag2N"),j=e("Bmqs"),y=e("XlJJ"),C=e("q1tI"),le=e.n(C),M=e("cJ7L"),te=e("XZIN"),X=e("GF/2"),ne=e("7LQ8"),d=e("nKUr"),de=e.n(d),g="7XH8";p.default=function(){var ae=Object(C.useRef)(),t=Object(C.useRef)(),a=Object(C.useState)(),Q=Object(O.a)(a,2),H=Q[0],k=Q[1],re=[{title:"ID",dataIndex:"userId",align:"center",order:2,width:"100px"},{title:"\u6392\u5E8F",dataIndex:"userId",align:"center",width:"100px"},{title:"\u767B\u5F55\u5546\u6237",dataIndex:"username",align:"center",width:"100px"},{title:"\u767B\u5F55\u6B21\u6570",dataIndex:"userId",align:"center",width:"100px"},{title:"\u5907\u6CE8\u4FE1\u606F",dataIndex:"remark",align:"center",width:"100px"},{title:"\u7528\u6237\u540D",dataIndex:"username",align:"center",width:"100px"},{title:"\u6635\u79F0",dataIndex:"nickname",align:"center",width:"100px"},{title:"\u5934\u50CF",dataIndex:"avatar",align:"center",hideInSearch:!0,render:function(_,R){return Object(d.jsx)("span",{onClick:function(){return k(R)},_nk:"".concat(g,"11"),children:Object(d.jsx)(h.a,{alt:"avatar",shape:"square",size:"large",style:{cursor:"pointer"},icon:Object(d.jsx)(M.a,{_nk:"".concat(g,"31")}),src:te.a.resolveImage(R.avatar),_nk:"".concat(g,"21")})})},width:"100px"},{title:"\u6027\u522B",dataIndex:"gender",align:"center",hideInSearch:!0,render:function(_,R){return Object(d.jsx)(X.DictTag,{code:"gender",value:R.gender,_nk:"".concat(g,"41")})},width:"100px"},{title:"\u7EC4\u7EC7",dataIndex:"organizationName",align:"center",hideInSearch:!0,width:"100px"},{title:"\u7535\u8BDD",dataIndex:"phoneNumber",align:"center",width:"100px"},{title:"\u90AE\u7BB1",dataIndex:"email",align:"center",hideInTable:!0,width:"100px"},{title:"\u72B6\u6001",dataIndex:"status",align:"center",width:"80px",order:1,render:function(_,R){return Object(d.jsx)(X.DictBadge,{code:"user_status",value:R.status,_nk:"".concat(g,"51")})},renderFormItem:function(){return Object(d.jsx)(X.DictSelect,{allowClear:!0,code:"user_status",_nk:"".concat(g,"61")})}},{title:"\u521B\u5EFA\u65F6\u95F4",valueType:"dateTime",dataIndex:"createTime",align:"center",hideInSearch:!0,width:"150px",sorter:!0}];function T(){}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(v.a,{_nk:"".concat(g,"71"),children:Object(d.jsx)(r.a,{md:24,_nk:"".concat(g,"81"),children:Object(d.jsx)(s.default.Modal,Object(f.a)(Object(f.a)({},j.user),{},{title:"\u7CFB\u7EDF\u7528\u6237",rowKey:"userId",columns:re,tableRef:ae,formRef:t,handlerData:function(_,R){return R==="create"?Object(f.a)(Object(f.a)({},_),{},{pass:y.a.encrypt(_.pass)}):_},operateBar:[],operateBarProps:{width:0},toolBarActions:[],tableProps:{},formProps:{titleSuffix:"\u7528\u6237"},onStatusChange:T,_nk:"".concat(g,"91")}))})}),Object(d.jsx)(ne.default.Avatar,{visible:H!==void 0,onVisibleChange:function(_){_||k(void 0)},onSave:function(){var D=Object(n.a)(Object(u.a)().mark(function _(R,I){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(H){l.next=4;break}return L.default.error("\u8BF7\u6307\u5B9A\u8981\u66F4\u65B0\u5934\u50CF\u7684\u7528\u6237!"),k(void 0),l.abrupt("return",Promise.resolve());case 4:return l.abrupt("return",j.user.updateAvatar(H,R,I).then(function(){return k(void 0)}));case 5:case"end":return l.stop()}},_)}));return function(_,R){return D.apply(this,arguments)}}(),_nk:"".concat(g,"92")})]})}}}]);
