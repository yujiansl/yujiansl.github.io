(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{PKFI:function(C,g,a){"use strict";var P=a("oBTY"),f=a("k1fw"),T="u6lJ";function p(_,l){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(y){return y},u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"id",e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"parentId",r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"children",n=[],t=0;t<_.length;){var s=o(_[t]);if(s[e]===l){_.splice(t,1);var h=p(_,s[u],o,u,e,r);s[r]=h.length>0?h:void 0,s.permissionNodes&&s.permissionNodes.length&&(s.children=p(s.permissionNodes,s[u],o,u,e,r)),n.push(s),t=0}else t+=1}return n}function D(_){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(n){return n},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"id",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"name",e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"children",r=[];return _.forEach(function(n){var t=Object(f.a)({label:n[u],value:n[o]},l(n));n[e]&&n[e]instanceof Array?t[e]=D(n[e],l,o,u,e):t[e]=void 0,r.push(t)}),r.length>0?r:void 0}function E(_){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(n){return n},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"id",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"name",e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"children",r=[];return _.forEach(function(n){var t=Object(f.a)({title:n[u],key:n[o]},l(n));n[e]&&n[e]instanceof Array?t[e]=E(n[e],l,o,u,e):t[e]=void 0,r.push(t)}),r.length>0?r:void 0}function c(_){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return!0},u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",e=[];return _.forEach(function(r){var n=l(r),t=c(r[u]||[],l,o,u);t=t&&t.length>0?t:void 0;var s=Object(f.a)({},r);n?(s[u]=t,e.push(s)):t&&t.length>0&&(o(r,t)?(s[u]=t,e.push(s)):e.push.apply(e,Object(P.a)(t)))}),e}g.a={ofList:p,toTreeSelectData:D,toTreeData:E,treeFilter:c}},lMdx:function(C,g,a){"use strict";a.r(g);var P=a("y8nQ"),f=a("Vl3Y"),T=a("nRaC"),p=a("5RzL"),D=a("miYZ"),E=a("tsqr"),c=a("k1fw"),_=a("tJVT"),l=a("+Mfq"),o=a("ZqYi"),u=a("Ag2N"),e=a("Bmqs"),r=a("PKFI"),n=a("Xcxh"),t=a("Qurx"),s=a("BiO0"),h=a("q1tI"),y=a.n(h),i=a("nKUr"),A=a.n(i),d="VVaT",R=[{title:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"name",hideInTable:!0},{title:"\u7EC4\u7EC7\u673A\u6784\u5C42\u7EA7",width:250,dataIndex:"name",hideInSearch:!0},{title:"\u6392\u5E8F",width:80,dataIndex:"sort",hideInSearch:!0},{title:"\u5907\u6CE8",dataIndex:"remarks",ellipsis:!0,hideInSearch:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",width:150,hideInSearch:!0}];g.default=function(){var M=Object(h.useRef)(),U=Object(h.useState)([{value:0,label:"\u6839\u76EE\u5F55",children:[]}]),j=Object(_.a)(U,2),v=j[0],I=j[1];return Object(i.jsxs)(u.default.Modal,Object(c.a)(Object(c.a)({},e.organization),{},{query:function(){return e.organization.query({}).then(function(m){var O;return Object(c.a)(Object(c.a)({},m),{},{data:{records:m.data,total:((O=m.data)===null||O===void 0?void 0:O.length)||0}})})},title:"\u7EC4\u7EC7\u67B6\u6784",rowKey:"id",columns:R,tableRef:M,toolBarActions:[Object(i.jsx)(l.default.Button,{permission:"system:organization:revised",text:"\u6821\u6B63\u5C42\u7EA7\u6DF1\u5EA6",type:"primary",icon:Object(i.jsx)(n.a,{_nk:"".concat(d,"21")}),danger:!0,confirm:{title:"\u786E\u8BA4\u8FDB\u884C\u6821\u6B63\u64CD\u4F5C?",overlayStyle:{width:"200px"}},onClick:function(){e.organization.revised().then(function(){var m;E.default.success("\u6821\u6B63\u5B8C\u6210!"),(m=M.current)===null||m===void 0||m.reload()})},_nk:"".concat(d,"12")}),{type:"create",permission:"system:organization:add"}],operateBar:[{type:"edit",permission:"system:organization:edit"},{type:"del",permission:"system:organization:del"}],tableProps:{pagination:!1,postData:function(m){return v[0].children=r.a.toTreeSelectData(m),I(v),v[0].children}},formProps:{titleSuffix:"\u7EC4\u7EC7"},_nk:"".concat(d,"11"),children:[Object(i.jsx)(t.a,{name:"id",hidden:!0,_nk:"".concat(d,"31")}),Object(i.jsx)(f.a.Item,{label:"\u7236\u7EA7\u7EC4\u7EC7",name:"parentId",initialValue:0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7236\u7EA7\u7EC4\u7EC7"}],_nk:"".concat(d,"13"),children:Object(i.jsx)(p.a,{treeDefaultExpandAll:!0,treeData:v,dropdownStyle:{maxHeight:"400px",overflow:"auto"},_nk:"".concat(d,"41")})}),Object(i.jsx)(t.a,{name:"name",label:"\u7EC4\u7EC7\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7EC4\u7EC7\u540D\u79F0"}],_nk:"".concat(d,"32")}),Object(i.jsx)(o.FormNumber,{min:0,initialValue:1,name:"sort",label:"\u6392\u5E8F",placeholder:"\u6309\u6570\u503C\u7531\u5C0F\u5230\u5927\u5347\u5E8F",_nk:"".concat(d,"51")}),Object(i.jsx)(s.a,{name:"remarks",label:"\u5907\u6CE8",rules:[{max:512,message:"\u5907\u6CE8\u6700\u591A\u53EF\u4EE5\u586B\u5199512\u4E2A\u5B57\u7B26!"}],_nk:"".concat(d,"61")})]}))}}}]);
