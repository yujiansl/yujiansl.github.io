(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{10:function(s,n){},11:function(s,n){},2:function(s,n){},3:function(s,n){},4:function(s,n){},5:function(s,n){},6:function(s,n){},7:function(s,n){},8:function(s,n){},9:function(s,n){},Z55w:function(s,n,e){"use strict";e.d(n,"logout",function(){return x}),e.d(n,"login",function(){return L}),e.d(n,"register",function(){return A});var c=e("k1fw"),d=e("qLMh"),E=e("9og8"),g=e("9kvl"),W=e("B7OH"),D=e("vty2"),S=e.n(D),M="2bjP";function x(){return o.apply(this,arguments)}function o(){return o=Object(E.a)(Object(d.a)().mark(function p(){var i;return Object(d.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=W.c.get(),t.abrupt("return",Object(g.e)("oauth2/revoke",{method:"POST",headers:{Authorization:"Basic dWk6dWk="},params:{token:i}}));case 2:case"end":return t.stop()}},p)})),o.apply(this,arguments)}function L(p){return j.apply(this,arguments)}function j(){return j=Object(E.a)(Object(d.a)().mark(function p(i){return Object(d.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g.e)("/v1/api/open/auth/login",{method:"POST",headers:{},data:Object(c.a)({},i)}));case 1:case"end":return t.stop()}},p)})),j.apply(this,arguments)}function A(p){return m.apply(this,arguments)}function m(){return m=Object(E.a)(Object(d.a)().mark(function p(i){return Object(d.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(g.e)("/v1/api/open/auth/signup",{method:"POST",headers:{},data:Object(c.a)({},i)}));case 1:case"end":return t.stop()}},p)})),m.apply(this,arguments)}function Q(){return y.apply(this,arguments)}function y(){return y=Object(E.a)(Object(d.a)().mark(function p(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",Object(g.e)("system/menu/router",{method:"GET"}));case 1:case"end":return h.stop()}},p)})),y.apply(this,arguments)}},jwAW:function(s,n,e){"use strict";e.r(n);var c=e("qLMh"),d=e("k1fw"),E=e("9og8"),g=e("tJVT"),W=e("fOrg"),D=e("+KLJ"),S=e("Z55w"),M=e("B7OH"),x=e("ZPOE"),o=e("tL7X"),L=e("VMEa"),j=e("Qurx"),A=e("tneF"),m=e("q1tI"),Q=e.n(m),y=e("P52E"),p=e.n(y),i=e("9kvl"),h=e("NFKh"),t=e.n(h),Y=e("tOgl"),b=e.n(Y),a=e("nKUr"),le=e.n(a),_="LALo",w="HelloWorldUpay00",C=function(O){var v=t.a.enc.Utf8.parse(w),P=t.a.enc.Utf8.parse(O),T=t.a.AES.encrypt(P,v,{mode:t.a.mode.ECB,padding:t.a.pad.Pkcs7});return T.ciphertext.toString().toLowerCase()},ce=function(O){var v=t.a.enc.Utf8.parse(w),P=t.a.AES.decrypt(O,v,{mode:t.a.mode.ECB,padding:t.a.pad.Pkcs7});return t.a.enc.Utf8.stringify(P).toString()},k=function(O){var v=O.content;return Object(a.jsx)(D.a,{style:{marginBottom:24},message:v,type:"error",showIcon:!0,_nk:"".concat(_,"11")})},q=function(){var O=Object(i.h)("@@initialState"),v=O.refresh,P=O.initialState;o.a.setIntl(Object(i.g)());var T=Object(y.useAliveController)(),ee=T.clear,te=Object(m.useState)(!1),N=Object(g.a)(te,2),ae=N[0],$=N[1],re=Object(m.useState)({}),F=Object(g.a)(re,2),H=F[0],ne=F[1],_e=Object(m.useState)("account"),oe=Object(g.a)(_e,1),J=oe[0];Object(m.useEffect)(function(){var u=C("hello");console.log(u,"value")},[]);var se=function(){var u=Object(E.a)(Object(c.a)().mark(function f(l){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return $(!0),r.abrupt("return",Object(S.register)({name:l.name,rePassword:C(l.rePassword),password:C("".concat(l.password))}).then(function(){var ue=Object(E.a)(Object(c.a)().mark(function Z(K){var I,z,G;return Object(c.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return I=Object(d.a)(Object(d.a)({},K),{},{roles:K.attributes.roleCodes,permissions:K.attributes.permissions}),U.next=3,ee();case 3:return M.d.set(JSON.stringify(I)),M.c.set(I.access_token),z=i.c.location.query,G=z.redirect,o.a.success("pages.login.success"),i.c.replace(G||"/"),U.next=10,v();case 10:case"end":return U.stop()}},Z)}));return function(Z){return ue.apply(this,arguments)}}()).catch(function(){o.a.error("pages.login.failure"),ne({status:"error",type:J}),$(!1)}));case 2:case"end":return r.stop()}},f)}));return function(l){return u.apply(this,arguments)}}(),ie=function(){var u=Object(E.a)(Object(c.a)().mark(function f(l){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se(l);case 2:case"end":return r.stop()}},f)}));return function(l){return u.apply(this,arguments)}}(),V=H.status,X=H.type;return Object(m.useEffect)(function(){var u;document.title=(P==null||((u=P.settings)===null||u===void 0)?void 0:u.title)||"upay"},[P]),Object(a.jsxs)("div",{className:b.a.container,_nk:"".concat(_,"21"),children:[Object(a.jsx)("div",{hidden:!x.b.i18n,className:b.a.lang,"data-lang":!0,_nk:"".concat(_,"22"),children:i.a&&Object(a.jsx)(i.a,{_nk:"".concat(_,"31")})}),Object(a.jsx)("div",{className:b.a.content,_nk:"".concat(_,"23"),children:Object(a.jsxs)("div",{className:b.a.main,_nk:"".concat(_,"24"),children:[Object(a.jsxs)("div",{className:b.a.titleBox,_nk:"".concat(_,"25"),children:[Object(a.jsx)("span",{className:b.a.title,_nk:"".concat(_,"41"),children:"Paye"}),Object(a.jsx)("span",{className:b.a["title-desc"],_nk:"".concat(_,"42"),children:"\u7BA1\u7406\u540E\u53F0"})]}),Object(a.jsxs)(L.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:o.a.text("pages.login.submit")},render:function(f,l){return l.pop()},submitButtonProps:{loading:ae,size:"large",style:{width:"100%"}}},onFinish:function(){var u=Object(E.a)(Object(c.a)().mark(function f(l){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ie(l);case 2:case"end":return r.stop()}},f)}));return function(f){return u.apply(this,arguments)}}(),_nk:"".concat(_,"51"),children:[V==="error"&&X==="account"&&Object(a.jsx)(k,{content:o.a.text("pages.login.accountLogin.errorMessage"),_nk:"".concat(_,"61")}),J==="account"&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.a,{name:"name",placeholder:o.a.text("pages.login.username.placeholder"),rules:[{required:!0,message:o.a.text("pages.login.username.required")}],_nk:"".concat(_,"71")}),Object(a.jsx)(j.a.Password,{name:"password",placeholder:o.a.text("pages.login.password.placeholder"),rules:[{required:!0,message:o.a.text("pages.login.password.required")}],_nk:"".concat(_,"81")}),Object(a.jsx)(j.a.Password,{name:"rePassword",placeholder:o.a.text("pages.login.password.placeholder"),rules:[{required:!0,message:o.a.text("pages.login.password.required")},function(u){return{validator:function(l,R){var r;return u.getFieldValue("password")!==R&&(r="\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4!"),r&&r.length>0?Promise.reject(r):Promise.resolve()}}}],_nk:"".concat(_,"82")})]}),V==="error"&&X==="mobile"&&Object(a.jsx)(k,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF",_nk:"".concat(_,"62")}),Object(a.jsxs)("div",{style:{marginBottom:24},_nk:"".concat(_,"26"),children:[Object(a.jsx)(A.a,{noStyle:!0,name:"autoLogin",_nk:"".concat(_,"91"),children:o.a.text("pages.login.rememberMe")}),Object(a.jsx)("a",{style:{float:"right"},_nk:"".concat(_,"a1"),children:o.a.text("pages.login.forgotPassword")})]})]})]})})]})};n.default=q},tOgl:function(s,n,e){s.exports={container:"container___3u4qc",lang:"lang___3VyRW",content:"content___1k5Ro",top:"top___1x2PK",header:"header___3Kw-q",logo:"logo___2aK9c",titleBox:"titleBox___3T_HW",title:"title___1Izp8","title-desc":"title-desc___1q-ns",desc:"desc___vFX8U",main:"main___19HXK",icon:"icon___14_b2",other:"other____-JZS",register:"register___3QsXc",prefixIcon:"prefixIcon___2x9jr"}},vty2:function(s,n){var e="v3EN"}}]);
