(window.webpackJsonp=window.webpackJsonp||[]).push([[11,102],{DAaq:function(P,l,e){"use strict";e.d(l,"b",function(){return d}),e.d(l,"a",function(){return D}),e.d(l,"c",function(){return v});var j=e("qLMh"),_=e("9og8"),I=e("9kvl"),f="d8VO";function d(c){return U.apply(this,arguments)}function U(){return U=Object(_.a)(Object(j.a)().mark(function c(O){return Object(j.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(I.e)("/v1/api/merchant/update",{method:"POST",data:O}));case 1:case"end":return a.stop()}},c)})),U.apply(this,arguments)}function D(){return u.apply(this,arguments)}function u(){return u=Object(_.a)(Object(j.a)().mark(function c(){return Object(j.a)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",Object(I.e)("/v1/api/merchant/detail",{method:"POST"}));case 1:case"end":return p.stop()}},c)})),u.apply(this,arguments)}function v(c){return b.apply(this,arguments)}function b(){return b=Object(_.a)(Object(j.a)().mark(function c(O){return Object(j.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(I.e)("/v1/api/withdraw/merchant/create",{method:"POST",data:O}));case 1:case"end":return a.stop()}},c)})),b.apply(this,arguments)}},IQRO:function(P,l,e){P.exports={container:"container___1uJsr",menu:"menu___1q5Bj",right:"right___31nBQ",action:"action___3BVYh",search:"search___Banr6",account:"account___2y9w6",avatar:"avatar___WyhZy",dark:"dark___1Nivb"}},ObQG:function(P,l,e){P.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",titleBox:"titleBox___1OZ7L",title:"title___1-xuF","title-desc":"title-desc___1bGDk",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},PdsH:function(P,l,e){"use strict";e.r(l);var j=e("y8nQ"),_=e("Vl3Y"),I=e("miYZ"),f=e("tsqr"),d=e("qLMh"),U=e("k1fw"),D=e("9og8"),u=e("tJVT"),v=e("fOrg"),b=e("+KLJ"),c=e("Z55w"),O=e("B7OH"),p=e("ZPOE"),a=e("tL7X"),$=e("VMEa"),s=e("Qurx"),i=e("q1tI"),y=e.n(i),g=e("P52E"),o=e.n(g),L=e("9kvl"),V=e("Tb/n"),z=e("ObQG"),R=e.n(z),F=e("og4B"),S=e("DAaq"),r=e("nKUr"),H=e.n(r),t="orTG",J=function(n){var M=n.content;return Object(r.jsx)(b.a,{style:{marginBottom:24},message:M,type:"error",showIcon:!0,_nk:"".concat(t,"11")})},Z=function(){var n=Object(L.h)("@@initialState"),M=n.refresh,se=n.initialState,Q=y.a.createRef(),re=Object(i.useState)(""),q=Object(u.a)(re,2),A=q[0],m=q[1];a.a.setIntl(Object(L.g)());var h=Object(g.useAliveController)(),N=h.clear,W=Object(i.useState)(!1),G=Object(u.a)(W,2),ne=G[0],ee=G[1],_e=Object(i.useState)({}),te=Object(u.a)(_e,2),X=te[0],he=te[1],Ee=Object(i.useState)("account"),fe=Object(u.a)(Ee,1),oe=fe[0],Oe=function(){var K=Object(D.a)(Object(d.a)().mark(function B(C){return Object(d.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ee(!0),x.abrupt("return",Object(c.login)({name:C.name,password:"".concat(C.password)}).then(function(){var T=Object(D.a)(Object(d.a)().mark(function ce(ue){var ae,me,de,w;return Object(d.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("res",ue),ae=Object(U.a)({},ue.data),E.next=4,N();case 4:O.d.set(JSON.stringify(ae)),localStorage.setItem("name",Object(r.jsx)("remoteUser",{className:"user name",_nk:"".concat(t,"21")})),O.c.set(ae.accessToken),me=L.c.location.query,de=me.redirect,a.a.success("pages.login.success"),w="",E.t0=ae.roleId,E.next=E.t0===1?13:E.t0===2?15:E.t0===3?17:19;break;case 13:return w="admin",E.abrupt("break",20);case 15:return w="merchant",E.abrupt("break",20);case 17:return w="agent",E.abrupt("break",20);case 19:return E.abrupt("break",20);case 20:if(w){E.next=23;break}return localStorage.clear(),E.abrupt("return");case 23:return w==="merchant"?Object(S.a)().then(function(ve){localStorage.setItem("appid",ve.data.appId)}):a.a.setLocal("zh-CN"),L.c.replace(de||"/".concat(w,"/index")),E.next=27,M();case 27:case"end":return E.stop()}},ce)}));return function(ce){return T.apply(this,arguments)}}()).catch(function(){a.a.error("pages.login.failure"),he({status:"error",type:oe}),ee(!1)}).finally(function(){var T;(T=Q.current)===null||T===void 0||T.drawCodeImg()}));case 2:case"end":return x.stop()}},B)}));return function(C){return K.apply(this,arguments)}}(),pe=function(){var K=Object(D.a)(Object(d.a)().mark(function B(C){var Y;return Object(d.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(console.log(C.captcha.toString().toUpperCase(),A,77777),!(C.captcha.toString().toUpperCase()!==A)){T.next=5;break}return f.default.error("\u8F93\u5165\u7684\u9A8C\u8BC1\u7801\u9519\u8BEF"),(Y=Q.current)===null||Y===void 0||Y.drawCodeImg(),T.abrupt("return");case 5:return T.next=7,Oe(C);case 7:case"end":return T.stop()}},B)}));return function(C){return K.apply(this,arguments)}}(),ie=X.status,le=X.type,ge=function(B){m(B)};return Object(i.useEffect)(function(){document.title="UPay \u767B\u5F55"},[]),Object(r.jsxs)("div",{className:R.a.container,_nk:"".concat(t,"31"),children:[Object(r.jsx)("div",{hidden:!p.a.i18n,style:{padding:"20px 40px"},className:"flex-e-c cp","data-lang":!0,_nk:"".concat(t,"32"),children:L.a&&Object(r.jsx)(F.a,{color:"#fff",_nk:"".concat(t,"41")})}),Object(r.jsx)("div",{className:R.a.content,_nk:"".concat(t,"33"),children:Object(r.jsxs)("div",{className:R.a.main,_nk:"".concat(t,"34"),children:[Object(r.jsxs)("div",{className:R.a.titleBox,_nk:"".concat(t,"35"),children:[Object(r.jsx)("span",{className:R.a.title,_nk:"".concat(t,"51"),children:"UPay"}),Object(r.jsx)("span",{className:R.a["title-desc"],_nk:"".concat(t,"52"),children:"\u7BA1\u7406\u540E\u53F0"})]}),Object(r.jsxs)($.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:a.a.text("pages.login.submit")},render:function(B,C){return C.pop()},submitButtonProps:{loading:ne,size:"large",style:{width:"100%"}}},onFinish:function(){var K=Object(D.a)(Object(d.a)().mark(function B(C){return Object(d.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,pe(C);case 2:case"end":return x.stop()}},B)}));return function(B){return K.apply(this,arguments)}}(),_nk:"".concat(t,"61"),children:[ie==="error"&&le==="account"&&Object(r.jsx)(J,{content:a.a.text("pages.login.accountLogin.errorMessage"),_nk:"".concat(t,"71")}),oe==="account"&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.a,{name:"name",placeholder:a.a.text("pages.login.username.placeholder"),rules:[{required:!0,message:a.a.text("pages.login.username.required")}],_nk:"".concat(t,"81")}),Object(r.jsx)(s.a.Password,{name:"password",placeholder:a.a.text("pages.login.password.placeholder"),rules:[{required:!0,message:a.a.text("pages.login.password.required")}],_nk:"".concat(t,"91")}),Object(r.jsx)(_.a.Item,{_nk:"".concat(t,"92"),children:Object(r.jsxs)("div",{className:"flex-sb-s mb0",_nk:"".concat(t,"36"),children:[Object(r.jsx)(s.a,{valueType:"number",name:"captcha",style:{marginBottom:"0"},placeholder:a.a.text("reg_tip5"),rules:[{required:!0,message:a.a.text("reg_tip5")}],_nk:"".concat(t,"82")}),Object(r.jsx)(V.default,{onRef:Q,width:120,height:42,length:4,change:ge,_nk:"".concat(t,"a1")})]})})]}),ie==="error"&&le==="mobile"&&Object(r.jsx)(J,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF",_nk:"".concat(t,"72")})]}),Object(r.jsxs)("div",{className:"flex-sb-c",style:{marginTop:24},_nk:"".concat(t,"37"),children:[Object(r.jsx)("a",{href:"https://upay.ink/",target:"_blank",_nk:"".concat(t,"b1"),children:a.a.text("reg_tip7")}),Object(r.jsx)("a",{onClick:function(){return L.c.push("/user/register")},_nk:"".concat(t,"b2"),children:a.a.text("reg_tip8")})]})]})})]})};l.default=Z},"Tb/n":function(P,l,e){"use strict";e.r(l);var j=e("tJVT"),_=e("q1tI"),I=e.n(_),f=e("nKUr"),d=e.n(f),U="13Vp",D=function(v){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",c=6,O=50,p=v.width,a=p===void 0?120:p,$=v.height,s=$===void 0?40:$,i=v.letters,y=i===void 0?b:i,g=v.length,o=g===void 0?4:g,L=v.minFontSize,V=L===void 0?20:L,z=v.maxFontSize,R=z===void 0?30:z,F=v.change,S=Object(_.useRef)(null),r=Object(_.useState)(),H=Object(j.a)(r,2),t=H[0],J=H[1];Object(_.useEffect)(function(){J(S.current.getContext("2d"))},[S]),Object(_.useEffect)(function(){t&&k()},[t]);var Z=function(){k()};Object(_.useImperativeHandle)(v.onRef,function(){return{drawCodeImg:k}});var k=function(){t.fillStyle=M(200,230),t.fillRect(0,0,a,s),se(),Q(),re()},n=function(m,h){return Math.floor(Math.random()*(h-m)+m)},M=function(m,h){return"rgb(".concat(n(m,h),", ").concat(n(m,h),", ").concat(n(m,h),")")},se=function(){for(var m="",h=0;h<o;h++){var N=n(V,R),W=R-V+6,G=(a-W*o)/(o+1),ne=(h+1)*G+W*h,ee=n(22,s),_e=n(-40,40),te=n(0,y.length),X=y[te];t.textBaseline="alphabetic",t.font="".concat(N,"px Simhei"),t.fillStyle=M(60,150),t.save(),t.translate(ne,ee),t.rotate(_e*Math.PI/180),t.fillText(X,0,0),t.restore(),m+=X}F(m)},Q=function(){for(var m=0;m<c;m++){var h=n(0,t.canvas.clientWidth),N=n(0,t.canvas.clientHeight),W=n(0,t.canvas.clientWidth),G=n(0,t.canvas.clientHeight);t.beginPath(),t.moveTo(h,N),t.lineTo(W,G),t.lineWidth=1,t.strokeStyle=M(150,250),t.stroke()}},re=function(){for(var m=0;m<O;m++){var h=n(0,t.canvas.clientWidth),N=n(0,t.canvas.clientHeight),W=n(1,2);t.beginPath(),t.arc(h,N,W,0,2*Math.PI),t.fillStyle=M(100,200),t.fill()}},q={width:a,height:s,border:"1px solid #d9d9d9"};return Object(f.jsx)("div",{style:q,_nk:"".concat(U,"11"),children:Object(f.jsx)("canvas",{onClick:Z,ref:S,width:a-2,height:s-2,_nk:"".concat(U,"21")})})};l.default=D},Z55w:function(P,l,e){"use strict";e.d(l,"logout",function(){return v}),e.d(l,"login",function(){return c}),e.d(l,"register",function(){return p});var j=e("k1fw"),_=e("qLMh"),I=e("9og8"),f=e("9kvl"),d=e("B7OH"),U=e("vty2"),D=e.n(U),u="2bjP";function v(){return b.apply(this,arguments)}function b(){return b=Object(I.a)(Object(_.a)().mark(function i(){var y;return Object(_.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return y=d.c.get(),o.abrupt("return",Object(f.e)("oauth2/revoke",{method:"POST",headers:{Authorization:"Basic dWk6dWk="},params:{token:y}}));case 2:case"end":return o.stop()}},i)})),b.apply(this,arguments)}function c(i){return O.apply(this,arguments)}function O(){return O=Object(I.a)(Object(_.a)().mark(function i(y){return Object(_.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.e)("/v1/api/open/auth/login",{method:"POST",headers:{},data:Object(j.a)({},y)}));case 1:case"end":return o.stop()}},i)})),O.apply(this,arguments)}function p(i){return a.apply(this,arguments)}function a(){return a=Object(I.a)(Object(_.a)().mark(function i(y){return Object(_.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.e)("/v1/api/open/auth/signup",{method:"POST",headers:{},data:Object(j.a)({},y)}));case 1:case"end":return o.stop()}},i)})),a.apply(this,arguments)}function $(){return s.apply(this,arguments)}function s(){return s=Object(I.a)(Object(_.a)().mark(function i(){return Object(_.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(f.e)("system/menu/router",{method:"GET"}));case 1:case"end":return g.stop()}},i)})),s.apply(this,arguments)}},dm4i:function(P,l,e){P.exports=e.p+"static/images/lang-white.svg"},ibdd:function(P,l,e){P.exports=e.p+"static/images/lang.svg"},og4B:function(P,l,e){"use strict";var j=e("qVdP"),_=e("jsC+"),I=e("lUTK"),f=e("BvKs"),d=e("tJVT"),U=e("tL7X"),D=e("B7OH"),u=e("q1tI"),v=e.n(u),b=e("IQRO"),c=e.n(b),O=e("9kvl"),p=e("ZPOE"),a=e("nKUr"),$=e.n(a),s="mTWg",i=function(g){var o=g.color,L=e("ibdd"),V=e("dm4i"),z=Object(u.useState)(""),R=Object(d.a)(z,2),F=R[0],S=R[1],r=Object(u.useState)(),H=Object(d.a)(r,2),t=H[0],J=H[1];Object(u.useEffect)(function(){var n,M=((n=JSON.parse(D.d.get()))===null||n===void 0?void 0:n.roleId)||0;J(M)},[t]),Object(u.useEffect)(function(){S(U.a.getLocal())},[F]);var Z=Object(u.useCallback)(function(n){var M=n.key;Object(O.f)(M==="en"?"en-US":"zh-CN")},[]),k=Object(a.jsxs)(f.a,{className:c.a.menu,selectedKeys:[],onClick:Z,_nk:"".concat(s,"11"),children:[Object(a.jsx)(f.a.Item,{_nk:"".concat(s,"21"),children:Object(a.jsx)("div",{className:"flex-s-c",_nk:"".concat(s,"31"),children:"\u7B80\u4F53\u4E2D\u6587"})},"cn"),Object(a.jsx)(f.a.Item,{_nk:"".concat(s,"22"),children:Object(a.jsx)("div",{className:"flex-s-c",_nk:"".concat(s,"32"),children:"English"})},"en")]});return t===2||!Object(D.e)()?Object(a.jsx)(_.a,{overlay:k,overlayClassName:c.a.container,_nk:"".concat(s,"41"),children:Object(a.jsxs)("span",{className:"".concat(c.a.action," ").concat(c.a.account," flex-s-c"),_nk:"".concat(s,"51"),children:[Object(a.jsx)("img",{style:{width:"16px",height:"16px",marginRight:"8px"},src:o?V:L,alt:"cn",_nk:"".concat(s,"61")}),Object(a.jsx)("span",{style:{color:o||""},className:"".concat(c.a.name," anticon"),_nk:"".concat(s,"52"),children:p.a.i18n&&F==="zh-CN"?"\u7B80\u4F53\u4E2D\u6587":"English"})]})}):""};l.a=i},vty2:function(P,l){var e="v3EN"}}]);
