(window.webpackJsonp=window.webpackJsonp||[]).push([[74,125],{"0a62":function(P,i,t){P.exports=t.p+"static/images/success.svg"},"1dju":function(P,i,t){"use strict";t.r(i),t.d(i,"query",function(){return T}),t.d(i,"recharge",function(){return l}),t.d(i,"getBase64Img",function(){return k}),t.d(i,"orderSearch",function(){return N});var f=t("qLMh"),O=t("9og8"),v=t("czNd"),M="X1R1";function T(u){return c.apply(this,arguments)}function c(){return c=Object(O.a)(Object(f.a)().mark(function u(r){return Object(f.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.a)("/v1/api/rechargeorder/list",{method:"POST",data:r}));case 1:case"end":return _.stop()}},u)})),c.apply(this,arguments)}function l(u){return b.apply(this,arguments)}function b(){return b=Object(O.a)(Object(f.a)().mark(function u(r){return Object(f.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.a)("/v1/api/rechargeorder/create",{method:"POST",data:r}));case 1:case"end":return _.stop()}},u)})),b.apply(this,arguments)}function k(){return j.apply(this,arguments)}function j(){return j=Object(O.a)(Object(f.a)().mark(function u(){return Object(f.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",Object(v.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return h.stop()}},u)})),j.apply(this,arguments)}function N(u){return g.apply(this,arguments)}function g(){return g=Object(O.a)(Object(f.a)().mark(function u(r){return Object(f.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(v.a)("/v1/api/rechargeorder/search",{method:"POST",data:r}));case 1:case"end":return _.stop()}},u)})),g.apply(this,arguments)}},A9Vk:function(P,i,t){"use strict";t.r(i);var f=t("14J3"),O=t("BMrR"),v=t("jCWc"),M=t("kPKH"),T=t("+L6B"),c=t("2/Rp"),l=t("5NDa"),b=t("5rEg"),k=t("y8nQ"),j=t("Vl3Y"),N=t("7Kak"),g=t("9yH6"),u=t("k1fw"),r=t("tJVT"),h=t("WQX3"),_=t.n(h),m=t("q1tI"),z=t.n(m),w=t("2PG1"),n=t("tL7X"),B=t("1dju"),q=t("9kvl"),C=t("pn+7"),e=t("nKUr"),xt=t.n(e),a="dS1/",y,R;i.default=function(){var I=z.a.useRef(null),tt=Object(m.useState)("trc"),F=Object(r.a)(tt,2),U=F[0],et=F[1],at=Object(m.useState)(""),$=Object(r.a)(at,2),nt=$[0],rt=$[1],_t=Object(m.useState)({trc:{},erc:{}}),V=Object(r.a)(_t,2),E=V[0],ct=V[1],st=Object(m.useState)(""),G=Object(r.a)(st,2),ot=G[0],it=G[1],lt=Object(m.useState)("1"),J=Object(r.a)(lt,2),x=J[0],S=J[1],ut=Object(m.useState)({}),Q=Object(r.a)(ut,2),A=Q[0],dt=Q[1],mt=Object(m.useState)(""),X=Object(r.a)(mt,2),Pt=X[0],L=X[1],pt=Object(m.useState)(!1),H=Object(r.a)(pt,2),ft=H[0],Y=H[1],ht=t("0a62"),Ot=function(p){var d=new Date(p.expiredAt).toLocaleString(),o=new Date(d).getTime(),D=new Date().getTime();if(console.log(o,"expireTime"),console.log(d,"localString"),o<D){console.log("expire"),L("expire"),clearTimeout(y);return}y=setInterval(function(){console.log("timer"),D=new Date().getTime();var Z=Math.ceil((o-D)/1e3),W=Z%60,K=Math.ceil(Z/60),vt="00:".concat(K<10?"0".concat(K):K,":").concat(W<10?"0".concat(W):W);it(vt),L("wait")},1e3)},jt=function(p){Y(!0),Object(B.recharge)(Object(u.a)({},p)).then(function(d){var o;dt(d.data),(o=I.current)===null||o===void 0||o.resetFields(),et(p.chainType==="1"?"trc":"erc"),S(function(){return"2"}),Ot(d.data),R=setInterval(function(){console.log("searchTimer"),Object(B.orderSearch)({orderNo:d.data.orderNo}).then(function(D){D.data.status===1&&(clearInterval(R),L("complete"),S("3"))})},1e4)}).finally(function(){Y(!1)})};Object(m.useEffect)(function(){x!=="2"&&(clearInterval(R),clearInterval(y))},[x]),Object(m.useEffect)(function(){var s;Object(B.getBase64Img)().then(function(p){console.log(p,"res"),ct(p.data)}),(s=I.current)===null||s===void 0||s.setFieldsValue({chainType:1})},[]);var Et=function(p){var d,o=p.target.value;console.log(o,"value",Number(o||0).toFixed(2)),(d=I.current)===null||d===void 0||d.setFieldsValue({crypto:Number(o||0).toFixed(2)})},gt=function(p){var d=p.target.value,o=Number(d||0).toFixed(2);rt(o)};return Object(e.jsx)(O.a,{className:"content",_nk:"".concat(a,"11"),children:Object(e.jsxs)(M.a,{md:24,_nk:"".concat(a,"21"),children:[x==="1"&&Object(e.jsxs)(j.a,{layout:"vertical",ref:I,name:"control-ref",onFinish:jt,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(a,"31"),children:[Object(e.jsx)(j.a.Item,{name:"chainType",label:n.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(a,"41"),children:Object(e.jsxs)(g.a.Group,{_nk:"".concat(a,"42"),children:[Object(e.jsx)(g.a,{value:1,_nk:"".concat(a,"51"),children:n.a.text("reg_tips49")}),Object(e.jsx)(g.a,{value:2,_nk:"".concat(a,"52"),children:n.a.text("reg_tips50")})]})}),Object(e.jsx)(j.a.Item,{name:"crypto",label:n.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(a,"43"),children:Object(e.jsx)(b.a,{placeholder:n.a.text("reg_tips125"),onChange:gt,type:"number",onBlur:Et,_nk:"".concat(a,"61")})}),Object(e.jsxs)(j.a.Item,{style:{marginTop:"40px"},_nk:"".concat(a,"44"),children:[Object(e.jsx)(c.a,{loading:ft,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(a,"71"),children:"".concat(n.a.text("reg_tips18")," ").concat(nt," USDT")}),Object(e.jsx)(c.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(a,"72"),children:n.a.text("reg_tip44")})]})]}),x==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(a,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(a,"82"),children:n.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(a,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(a,"91"),children:ot}),n.a.text("reg_tips95")]}),Object(e.jsx)("div",{onClick:function(){return Object(C.a)(A.crypto)},className:"amount-box flex-s-c",_nk:"".concat(a,"84"),children:A.crypto}),Object(e.jsx)("div",{onClick:function(){return Object(C.a)(A.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(a,"85"),children:n.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(a,"86"),children:[n.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(a,"92"),children:U==="trc"?n.a.text("reg_tips49"):n.a.text("reg_tips50")}),n.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(a,"87"),children:Object(e.jsx)("img",{src:(U==="trc","data:image/jpg;base64,".concat(E.trc.img)),alt:"",_nk:"".concat(a,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(a,"88"),children:n.a.text("reg_tips97")}),Object(e.jsx)("div",{onClick:function(){return Object(C.a)(U==="trc"?E.trc.address:E.erc.address)},className:"address-text flex-s-c",_nk:"".concat(a,"89"),children:U==="trc"?E.trc.address:E.erc.address}),Object(e.jsx)("div",{onClick:function(){return Object(C.a)(U==="trc"?E.trc.address:E.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(a,"8a"),children:n.a.text("reg_tips98")}),Object(e.jsx)(c.a,{onClick:function(){S("1"),y&&clearInterval(y),R&&clearInterval(R)},style:{marginTop:"70px"},type:"default",_nk:"".concat(a,"73"),children:n.a.text("reg_tips109")})]}),x==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(a,"8b"),children:[Object(e.jsx)("img",{src:ht,alt:"",_nk:"".concat(a,"a2")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(a,"8c"),children:n.a.text("reg_tips110")}),Object(e.jsx)("div",{className:"s-tips",_nk:"".concat(a,"8d"),children:n.a.text("reg_tips111")}),Object(e.jsx)(c.a,{onClick:function(){S("1"),q.c.push("/merchant/index")},type:"primary",_nk:"".concat(a,"74"),children:n.a.text("reg_tips46")})]}),x!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(a,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(a,"8f"),children:[Object(e.jsx)(w.a,{style:{marginRight:"10px"},_nk:"".concat(a,"b1")}),n.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(a,"8g"),children:n.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(a,"8h"),children:n.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(a,"8i"),children:n.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(a,"8j"),children:n.a.text("reg_tips103")})]})]})})}},WQX3:function(P,i,t){},"pn+7":function(P,i,t){"use strict";t.d(i,"a",function(){return M});var f=t("miYZ"),O=t("tsqr"),v="TZQN";function M(T){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=document.createElement("textarea");l.readOnly=Boolean("readonly"),l.style.position="absolute",l.style.left="-9999px",l.value=T,document.body.appendChild(l),l.select(),l.setSelectionRange(0,l.value.length),document.execCommand("Copy"),document.body.removeChild(l),c||O.default.success("\u590D\u5236\u6210\u529F"),c&&Object.prototype.toString.call(c)==="[object Function]"&&c()}}}]);
