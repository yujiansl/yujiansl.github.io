(window.webpackJsonp=window.webpackJsonp||[]).push([[74,126],{"0a62":function(U,o,t){U.exports=t.p+"static/images/success.svg"},"1dju":function(U,o,t){"use strict";t.r(o),t.d(o,"query",function(){return I}),t.d(o,"recharge",function(){return S}),t.d(o,"getBase64Img",function(){return u}),t.d(o,"orderSearch",function(){return g});var p=t("qLMh"),R=t("9og8"),D=t("czNd"),K="X1R1";function I(s){return h.apply(this,arguments)}function h(){return h=Object(R.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(D.a)("/v1/api/rechargeorder/list",{method:"POST",data:_}));case 1:case"end":return l.stop()}},s)})),h.apply(this,arguments)}function S(s){return c.apply(this,arguments)}function c(){return c=Object(R.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(D.a)("/v1/api/rechargeorder/create",{method:"POST",data:_}));case 1:case"end":return l.stop()}},s)})),c.apply(this,arguments)}function u(){return r.apply(this,arguments)}function r(){return r=Object(R.a)(Object(p.a)().mark(function s(){return Object(p.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(D.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return v.stop()}},s)})),r.apply(this,arguments)}function g(s){return d.apply(this,arguments)}function d(){return d=Object(R.a)(Object(p.a)().mark(function s(_){return Object(p.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(D.a)("/v1/api/rechargeorder/search",{method:"POST",data:_}));case 1:case"end":return l.stop()}},s)})),d.apply(this,arguments)}},A9Vk:function(U,o,t){"use strict";t.r(o);var p=t("14J3"),R=t("BMrR"),D=t("jCWc"),K=t("kPKH"),I=t("+L6B"),h=t("2/Rp"),S=t("5NDa"),c=t("5rEg"),u=t("y8nQ"),r=t("Vl3Y"),g=t("7Kak"),d=t("9yH6"),s=t("k1fw"),_=t("tJVT"),v=t("WQX3"),l=t.n(v),O=t("q1tI"),q=t.n(O),tt=t("2PG1"),n=t("tL7X"),W=t("1dju"),et=t("9kvl"),B=t("pn+7"),e=t("nKUr"),Pt=t.n(e),a="dS1/",E,b;o.default=function(){var A=q.a.useRef(null),at=Object(O.useState)("trc"),$=Object(_.a)(at,2),C=$[0],nt=$[1],rt=Object(O.useState)(""),V=Object(_.a)(rt,2),ct=V[0],st=V[1],_t=Object(O.useState)({trc:{},erc:{}}),G=Object(_.a)(_t,2),x=G[0],ot=G[1],lt=Object(O.useState)(""),J=Object(_.a)(lt,2),it=J[0],ut=J[1],dt=Object(O.useState)("1"),Q=Object(_.a)(dt,2),T=Q[0],P=Q[1],mt=Object(O.useState)({}),X=Object(_.a)(mt,2),N=X[0],pt=X[1],ft=Object(O.useState)("timeout"),H=Object(_.a)(ft,2),L=H[0],y=H[1],ht=Object(O.useState)(!1),Y=Object(_.a)(ht,2),vt=Y[0],Z=Y[1],Ot=t("0a62"),jt=t("baxK"),gt=function(j){var f=new Date(j.expiredAt).toLocaleString(),m=new Date(f).getTime(),M=new Date().getTime();if(console.log(m,"expireTime"),console.log(f,"localString"),m<M){console.log("expire"),y("timeout"),clearTimeout(E);return}E=setInterval(function(){console.log("timer"),M=new Date().getTime();var z=Math.ceil((m-M)/1e3),k=z%60,F=Math.ceil(z/60),w="00:".concat(F<10?"0".concat(F):F,":").concat(k<10?"0".concat(k):k);ut(w),y("wait"),w==="00:00:00"&&(clearTimeout(E),y("timeout"))},1e3)},Et=function(j){Z(!0),Object(W.recharge)(Object(s.a)({},j)).then(function(f){var m;pt(f.data),(m=A.current)===null||m===void 0||m.resetFields(),nt(j.chainType===1?"trc":"erc"),P(function(){return"2"}),gt(f.data),b=setInterval(function(){console.log("searchTimer"),Object(W.orderSearch)({orderNo:f.data.orderNo}).then(function(M){M.data.status===1&&(console.log(11111),clearInterval(b),y("success"),P("3")),M.data.status===2&&(console.log(2222),clearInterval(b),clearInterval(E),y("timeout"),P("3")),M.data.status===3&&(console.log(3333),clearInterval(b),clearInterval(E),y("fail"),P("3"))}).catch(function(){clearInterval(b),clearInterval(E),y("fail"),P("3")})},1e4)}).finally(function(){Z(!1)})};Object(O.useEffect)(function(){T!=="2"&&(clearInterval(b),clearInterval(E))},[T]),Object(O.useEffect)(function(){var i;Object(W.getBase64Img)().then(function(j){console.log(j,"res"),ot(j.data)}),(i=A.current)===null||i===void 0||i.setFieldsValue({chainType:1})},[]);var bt=function(j){var f,m=j.target.value;console.log(m,"value",Number(m||0).toFixed(2)),(f=A.current)===null||f===void 0||f.setFieldsValue({crypto:Number(m||0).toFixed(2)})},xt=function(j){var f=j.target.value,m=Number(f||0).toFixed(2);st(m)};return Object(e.jsx)(R.a,{className:"content",_nk:"".concat(a,"11"),children:Object(e.jsxs)(K.a,{md:24,_nk:"".concat(a,"21"),children:[T==="1"&&Object(e.jsxs)(r.a,{layout:"vertical",ref:A,name:"control-ref",onFinish:Et,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(a,"31"),children:[Object(e.jsx)(r.a.Item,{name:"chainType",label:n.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(a,"41"),children:Object(e.jsxs)(d.a.Group,{_nk:"".concat(a,"42"),children:[Object(e.jsx)(d.a,{value:1,_nk:"".concat(a,"51"),children:n.a.text("reg_tips49")}),Object(e.jsx)(d.a,{value:2,_nk:"".concat(a,"52"),children:n.a.text("reg_tips50")})]})}),Object(e.jsx)(r.a.Item,{name:"crypto",label:n.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(a,"43"),children:Object(e.jsx)(c.a,{placeholder:n.a.text("reg_tips125"),onChange:xt,type:"number",onBlur:bt,_nk:"".concat(a,"61")})}),Object(e.jsxs)(r.a.Item,{style:{marginTop:"40px"},_nk:"".concat(a,"44"),children:[Object(e.jsx)(h.a,{loading:vt,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(a,"71"),children:"".concat(n.a.text("reg_tips18")," ").concat(ct," USDT")}),Object(e.jsx)(h.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(a,"72"),children:n.a.text("reg_tip44")})]})]}),T==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(a,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(a,"82"),children:n.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(a,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(a,"91"),children:it}),n.a.text("reg_tips95")]}),Object(e.jsxs)("div",{onClick:function(){return Object(B.b)(N.crypto)},className:"amount-box flex-s-c",_nk:"".concat(a,"84"),children:[Number(N.crypto).toFixed(4).toString()," USDT"]}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(N.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(a,"85"),children:n.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(a,"86"),children:[n.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(a,"92"),children:C==="trc"?n.a.text("reg_tips49"):n.a.text("reg_tips50")}),n.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(a,"87"),children:Object(e.jsx)("img",{src:(C==="trc","data:image/jpg;base64,".concat(x.trc.img)),alt:"",_nk:"".concat(a,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(a,"88"),children:n.a.text("reg_tips97")}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(C==="trc"?x.trc.address:x.erc.address)},className:"address-text flex-s-c",_nk:"".concat(a,"89"),children:C==="trc"?x.trc.address:x.erc.address}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(C==="trc"?x.trc.address:x.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(a,"8a"),children:n.a.text("reg_tips98")}),Object(e.jsx)(h.a,{onClick:function(){P("1"),E&&clearInterval(E),b&&clearInterval(b)},style:{marginTop:"70px"},type:"default",_nk:"".concat(a,"73"),children:n.a.text("reg_tips109")})]}),T==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(a,"8b"),children:[L==="success"?Object(e.jsx)("img",{src:Ot,alt:"",_nk:"".concat(a,"a2")}):Object(e.jsx)("img",{src:jt,alt:"",_nk:"".concat(a,"a3")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(a,"8c"),children:L==="success"?n.a.text("reg_tips110"):n.a.text("reg_tips137")}),Object(e.jsxs)("div",{className:"s-tips",_nk:"".concat(a,"8d"),children:[" ",L==="success"?n.a.text("reg_tips111"):n.a.text("reg_tips138")]}),L==="success"?Object(e.jsx)(h.a,{onClick:function(){P("1"),et.c.push("/merchant/index")},type:"primary",_nk:"".concat(a,"74"),children:n.a.text("reg_tips46")}):Object(e.jsx)(h.a,{onClick:function(){P("1"),y("")},type:"default",_nk:"".concat(a,"75"),children:n.a.text("reg_tips109")})]}),T!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(a,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(a,"8f"),children:[Object(e.jsx)(tt.a,{style:{marginRight:"10px"},_nk:"".concat(a,"b1")}),n.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(a,"8g"),children:n.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(a,"8h"),children:n.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(a,"8i"),children:n.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(a,"8j"),children:n.a.text("reg_tips103")})]})]})})}},WQX3:function(U,o,t){},baxK:function(U,o,t){U.exports=t.p+"static/images/error.svg"},"pn+7":function(U,o,t){"use strict";t.d(o,"b",function(){return I}),t.d(o,"a",function(){return h}),t.d(o,"c",function(){return S});var p=t("jrin"),R=t("miYZ"),D=t("tsqr"),K="TZQN";function I(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=document.createElement("textarea");r.readOnly=Boolean("readonly"),r.style.position="absolute",r.style.left="-9999px",r.value=c,document.body.appendChild(r),r.select(),r.setSelectionRange(0,r.value.length),document.execCommand("Copy"),document.body.removeChild(r),u||D.default.success("\u590D\u5236\u6210\u529F"),u&&Object.prototype.toString.call(u)==="[object Function]"&&u()}function h(c,u){var r,g,d=Math.abs((c==null||((r=c.current)===null||r===void 0)?void 0:r.getFieldValue(u))||0),s=Number(d.toFixed(4)).toString();c==null||((g=c.current)===null||g===void 0)||g.setFieldsValue(Object(p.a)({},u,s))}function S(c,u){var r,g,d,s,_=Math.abs((c==null||((r=c.current)===null||r===void 0||((g=r.getForm())===null||g===void 0))?void 0:g.getFieldValue(u))||0),v=Number(_.toFixed(4)).toString();c==null||((d=c.current)===null||d===void 0||((s=d.getForm())===null||s===void 0))||s.setFieldsValue(Object(p.a)({},u,v))}}}]);
