(window.webpackJsonp=window.webpackJsonp||[]).push([[72,124],{"0a62":function(U,i,t){U.exports=t.p+"static/images/success.svg"},"1dju":function(U,i,t){"use strict";t.r(i),t.d(i,"query",function(){return I}),t.d(i,"recharge",function(){return B}),t.d(i,"getBase64Img",function(){return l}),t.d(i,"orderSearch",function(){return O});var d=t("qLMh"),R=t("9og8"),D=t("czNd"),K="X1R1";function I(c){return p.apply(this,arguments)}function p(){return p=Object(R.a)(Object(d.a)().mark(function c(E){return Object(d.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/list",{method:"POST",data:E}));case 1:case"end":return s.stop()}},c)})),p.apply(this,arguments)}function B(c){return _.apply(this,arguments)}function _(){return _=Object(R.a)(Object(d.a)().mark(function c(E){return Object(d.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/create",{method:"POST",data:E}));case 1:case"end":return s.stop()}},c)})),_.apply(this,arguments)}function l(){return n.apply(this,arguments)}function n(){return n=Object(R.a)(Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(D.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return f.stop()}},c)})),n.apply(this,arguments)}function O(c){return u.apply(this,arguments)}function u(){return u=Object(R.a)(Object(d.a)().mark(function c(E){return Object(d.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/search",{method:"POST",data:E}));case 1:case"end":return s.stop()}},c)})),u.apply(this,arguments)}},A9Vk:function(U,i,t){"use strict";t.r(i);var d=t("14J3"),R=t("BMrR"),D=t("jCWc"),K=t("kPKH"),I=t("+L6B"),p=t("2/Rp"),B=t("5NDa"),_=t("5rEg"),l=t("y8nQ"),n=t("Vl3Y"),O=t("7Kak"),u=t("9yH6"),c=t("k1fw"),E=t("miYZ"),f=t("tsqr"),s=t("tJVT"),q=t("WQX3"),Pt=t.n(q),h=t("q1tI"),tt=t.n(h),et=t("2PG1"),r=t("tL7X"),W=t("1dju"),at=t("9kvl"),S=t("pn+7"),e=t("nKUr"),Ut=t.n(e),a="dS1/",g,b;i.default=function(){var A=tt.a.useRef(null),rt=Object(h.useState)("trc"),$=Object(s.a)(rt,2),T=$[0],nt=$[1],st=Object(h.useState)(""),V=Object(s.a)(st,2),_t=V[0],ct=V[1],it=Object(h.useState)({trc:{},erc:{}}),G=Object(s.a)(it,2),x=G[0],ot=G[1],lt=Object(h.useState)(""),J=Object(s.a)(lt,2),ut=J[0],dt=J[1],mt=Object(h.useState)("1"),Q=Object(s.a)(mt,2),C=Q[0],y=Q[1],pt=Object(h.useState)({}),X=Object(s.a)(pt,2),N=X[0],ft=X[1],ht=Object(h.useState)("timeout"),Y=Object(s.a)(ht,2),L=Y[0],P=Y[1],vt=Object(h.useState)(!1),Z=Object(s.a)(vt,2),Ot=Z[0],H=Z[1],jt=t("0a62"),Et=t("baxK"),gt=function(m){var v=new Date(m.expiredAt).toLocaleString(),j=new Date(v).getTime(),M=new Date().getTime();if(j<M){P("timeout"),clearTimeout(g);return}g=setInterval(function(){M=new Date().getTime();var z=Math.ceil((j-M)/1e3),k=z%60,F=Math.ceil(z/60),w="00:".concat(F<10?"0".concat(F):F,":").concat(k<10?"0".concat(k):k);dt(w),P("wait"),w==="00:00:00"&&(clearTimeout(g),P("timeout"))},1e3)},bt=function(m){if(Number(m.crypto)<1||Number(m.crypto)>1e4){f.default.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D\uFF0C1-10000 \u4E4B\u95F4\u6700\u591A\u4E24\u4F4D\u5C0F\u6570");return}H(!0),Object(W.recharge)(Object(c.a)({},m)).then(function(v){var j;ft(v.data),(j=A.current)===null||j===void 0||j.resetFields(),nt(m.chainType===1?"trc":"erc"),y(function(){return"2"}),gt(v.data),b=setInterval(function(){Object(W.orderSearch)({orderNo:v.data.orderNo}).then(function(M){M.data.status===1&&(clearInterval(b),P("success"),y("3")),M.data.status===2&&(clearInterval(b),clearInterval(g),P("timeout"),y("3")),M.data.status===3&&(clearInterval(b),clearInterval(g),P("fail"),y("3"))}).catch(function(){clearInterval(b),clearInterval(g),P("fail"),y("3")})},1e4)}).finally(function(){H(!1)})};Object(h.useEffect)(function(){C!=="2"&&(clearInterval(b),clearInterval(g))},[C]),Object(h.useEffect)(function(){var o;Object(W.getBase64Img)().then(function(m){ot(m.data)}),(o=A.current)===null||o===void 0||o.setFieldsValue({chainType:1})},[]);var xt=function(m){var v,j=m.target.value;(v=A.current)===null||v===void 0||v.setFieldsValue({crypto:Math.abs(Number(j||0)).toFixed(4)})},yt=function(m){var v=m.target.value,j=Math.abs(Number(v||0)).toFixed(4);ct(j)};return Object(e.jsx)(R.a,{className:"content-re",_nk:"".concat(a,"11"),children:Object(e.jsxs)(K.a,{md:24,_nk:"".concat(a,"21"),children:[C==="1"&&Object(e.jsxs)(n.a,{layout:"vertical",ref:A,name:"control-ref",onFinish:bt,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(a,"31"),children:[Object(e.jsx)(n.a.Item,{name:"chainType",label:r.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(a,"41"),children:Object(e.jsxs)(u.a.Group,{_nk:"".concat(a,"42"),children:[Object(e.jsx)(u.a,{value:1,_nk:"".concat(a,"51"),children:r.a.text("reg_tips49")}),Object(e.jsx)(u.a,{value:2,_nk:"".concat(a,"52"),children:r.a.text("reg_tips50")})]})}),Object(e.jsx)(n.a.Item,{name:"crypto",label:r.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(a,"43"),children:Object(e.jsx)(_.a,{placeholder:r.a.text("reg_tips125"),onChange:yt,type:"number",onBlur:xt,_nk:"".concat(a,"61")})}),Object(e.jsxs)(n.a.Item,{style:{marginTop:"40px"},_nk:"".concat(a,"44"),children:[Object(e.jsx)(p.a,{loading:Ot,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(a,"71"),children:"".concat(r.a.text("reg_tips18")," ").concat(_t," USDT")}),Object(e.jsx)(p.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(a,"72"),children:r.a.text("reg_tip44")})]})]}),C==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(a,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(a,"82"),children:r.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(a,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(a,"91"),children:ut}),r.a.text("reg_tips95")]}),Object(e.jsxs)("div",{onClick:function(){return Object(S.b)(N.crypto)},className:"amount-box flex-s-c",_nk:"".concat(a,"84"),children:[Number(N.crypto).toFixed(4).toString()," USDT"]}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(N.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(a,"85"),children:r.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(a,"86"),children:[r.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(a,"92"),children:T==="trc"?r.a.text("reg_tips49"):r.a.text("reg_tips50")}),r.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(a,"87"),children:Object(e.jsx)("img",{src:T==="trc"?"data:image/jpg;base64,".concat(x.trc.img):"data:image/jpg;base64,".concat(x.erc.img),alt:"",_nk:"".concat(a,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(a,"88"),children:r.a.text("reg_tips97")}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(T==="trc"?x.trc.address:x.erc.address)},className:"address-text flex-s-c",_nk:"".concat(a,"89"),children:T==="trc"?x.trc.address:x.erc.address}),Object(e.jsx)("div",{onClick:function(){return Object(S.b)(T==="trc"?x.trc.address:x.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(a,"8a"),children:r.a.text("reg_tips98")}),Object(e.jsx)(p.a,{onClick:function(){y("1"),g&&clearInterval(g),b&&clearInterval(b)},style:{marginTop:"70px"},type:"default",_nk:"".concat(a,"73"),children:r.a.text("reg_tips109")})]}),C==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(a,"8b"),children:[L==="success"?Object(e.jsx)("img",{src:jt,alt:"",_nk:"".concat(a,"a2")}):Object(e.jsx)("img",{src:Et,alt:"",_nk:"".concat(a,"a3")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(a,"8c"),children:L==="success"?r.a.text("reg_tips110"):r.a.text("reg_tips137")}),Object(e.jsxs)("div",{className:"s-tips",_nk:"".concat(a,"8d"),children:[" ",L==="success"?r.a.text("reg_tips111"):r.a.text("reg_tips138")]}),L==="success"?Object(e.jsx)(p.a,{onClick:function(){y("1"),at.c.push("/merchant/index")},type:"primary",_nk:"".concat(a,"74"),children:r.a.text("reg_tips46")}):Object(e.jsx)(p.a,{onClick:function(){y("1"),P("")},type:"default",_nk:"".concat(a,"75"),children:r.a.text("reg_tips109")})]}),C!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(a,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(a,"8f"),children:[Object(e.jsx)(et.a,{style:{marginRight:"10px"},_nk:"".concat(a,"b1")}),r.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(a,"8g"),children:r.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(a,"8h"),children:r.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(a,"8i"),children:r.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(a,"8j"),children:r.a.text("reg_tips103")})]})]})})}},WQX3:function(U,i,t){},baxK:function(U,i,t){U.exports=t.p+"static/images/error.svg"},"pn+7":function(U,i,t){"use strict";t.d(i,"b",function(){return I}),t.d(i,"a",function(){return p}),t.d(i,"c",function(){return B});var d=t("jrin"),R=t("miYZ"),D=t("tsqr"),K="TZQN";function I(_){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=document.createElement("textarea");n.readOnly=Boolean("readonly"),n.style.position="absolute",n.style.left="-9999px",n.value=_,document.body.appendChild(n),n.select(),n.setSelectionRange(0,n.value.length),document.execCommand("Copy"),document.body.removeChild(n),l||D.default.success("\u590D\u5236\u6210\u529F"),l&&Object.prototype.toString.call(l)==="[object Function]"&&l()}function p(_,l){var n,O,u=Math.abs((_==null||((n=_.current)===null||n===void 0)?void 0:n.getFieldValue(l))||0),c=Number(u.toFixed(4)).toString();_==null||((O=_.current)===null||O===void 0)||O.setFieldsValue(Object(d.a)({},l,c))}function B(_,l){var n,O,u,c,E=Math.abs((_==null||((n=_.current)===null||n===void 0||((O=n.getForm())===null||O===void 0))?void 0:O.getFieldValue(l))||0),f=Number(E.toFixed(4)).toString();_==null||((u=_.current)===null||u===void 0||((c=u.getForm())===null||c===void 0))||c.setFieldsValue(Object(d.a)({},l,f))}}}]);
