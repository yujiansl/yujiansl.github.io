(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b0fd0a4"],{"1dba":function(t,e,a){},"635f":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-w pt-2 pl-3"},[a("a-breadcrumb",[a("a-breadcrumb-item",[a("a",{on:{click:t.toHome}},[t._v("首頁")])]),a("a-breadcrumb-item",[a("a",{on:{click:t.toPage1}},[t._v(t._s(t.secondMenu.name))])]),a("a-breadcrumb-item",[t.thirdMenu.path?a("a",[t._v(t._s(t.thirdMenu.name))]):t._e()])],1),a("div",{staticClass:"py-1 fw-b fs-18 fc-bl"},[t._v(t._s(t.title))])],1)},r=[],o=(a("b0c0"),a("ac1f"),a("1276"),a("53ca")),c=a("a09f"),i={name:"Breadcrumb",props:{title:{type:String,default:""}},data:function(){return{name1:"",name2:"",path1:"",path2:"",secondMenu:{},thirdMenu:{}}},created:function(){this.init()},methods:{init:function(){var t=this.$route.path,e=t.split("/").length,a=t.split("/");2===e?(this.secondMenu.path="",this.secondMenu.name=this.getName(a[1])):(this.secondMenu.path="/"+a[1]+"/"+a[2],this.secondMenu.name=this.getName(this.secondMenu.path),this.thirdMenu.path=t,this.thirdMenu.name="商户详情")},getName:function(t){return"object"===Object(o["a"])(c["a"][t])?c["a"][t].name:""},toHome:function(){var t=this.$store.getters["account/roles"][0].id||"merchant",e=this.$route.path,a="merchant"===t?"/index":"/adminIndex";e!==a&&this.$router.push({path:a})},toPage1:function(){this.secondMenu.path&&this.$router.push({path:this.secondMenu.path})}}},s=i,l=(a("d54b"),a("0c7c")),u=Object(l["a"])(s,n,r,!1,null,"69611da6",null);e["a"]=u.exports},7037:function(t,e,a){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),t.exports=n},7878:function(t,e,a){a("99af"),a("4160"),a("c975"),a("a15b"),a("d81d"),a("b64b"),a("ac1f"),a("5319"),a("159b");var n=a("7037");function r(t,e){e=e||1;for(var a="\n",o="  ",c="",i=0;i<e;i++)c+=o;var s=!1,l=!1,u="",d="{",m="}";Array.isArray(t)?(s=!0,d="[",m="]",u=t.map((function(o,i){var s="";return"function"==typeof o||("object"==n(o)?(l=!0,s="".concat(a).concat(c).concat(r(o,e+1),",")):"number"==typeof o&&!isNaN(o)||"boolean"==typeof o?s="".concat(o,","):"string"==typeof o&&(s="'".concat(o,"',"))),i==t.length-1?s=s.substring(0,s.length-1):l=!1,s})).join("")):"function"!=typeof t&&"object"==n(t)&&(u=Object.keys(t).map((function(o,i,s){var l=t[o],u="";return"function"==typeof l||("object"==n(l)?u="".concat(a).concat(c).concat(o,": ").concat(r(l,e+1),","):"number"==typeof l&&!isNaN(l)||"boolean"==typeof l?u="".concat(a).concat(c).concat(o,": ").concat(l,","):"string"==typeof l&&(u="".concat(a).concat(c).concat(o,": '").concat(l,"',"))),i==s.length-1&&(u=u.substring(0,u.length-1)),u})).join(""));var f=o.length;return c.length>=f&&(c=c.substring(0,c.length-f)),s&&!l||(m=a+c+m),"".concat(d).concat(u).concat(m)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return"0";if(t){var a=t+"";if(-1!==a.indexOf(".")){var n=a.substring(0,a.indexOf(".")).replace(/\B(?=(?:\d{3})+$)/g,","),r=a.substring(a.length,a.indexOf("."));1===r.length?r+="00":2===r.length&&(r+="0");var o=n+r;return o}var c=a.replace(/\B(?=(?:\d{3})+$)/g,",");return c+(e?".00":"")}return e?"0.00":"0"}function c(t){var e=t.data.rows||[],a=[];return e.forEach((function(t){var e={};for(var n in t)e[n]=t[n].text||t[n].value,"timezone"===n&&(e["timeValue"]=t[n].value||"0");a.push(e)})),t.data.list=a,t}t.exports={formatConfig:r,getPriceSeparator:o,tableRowFormat:c}},"7ded":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"e",(function(){return l}));a("96cf"),a("1da1");var n=a("b775");function r(t){return Object(n["b"])({url:"/transaction/list",method:"post",data:t})}function o(t){return Object(n["b"])({url:"/traderecord/statistic",method:"get",params:t})}function c(t,e){return Object(n["b"])({url:"/transaction/withdraw".concat(e?"?id="+e:""),method:"post",data:t})}function i(){return Object(n["b"])({url:"/merchant/info",method:"get"})}function s(){return Object(n["b"])({url:"/merchant/balance",method:"get"})}function l(t){return Object(n["b"])({url:"/traderecord/list",method:"post",data:t})}},b6e8:function(t,e,a){},caf0:function(t,e,a){"use strict";var n=a("1dba"),r=a.n(n);r.a},d287:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.globalLoading?n("div",{staticClass:"a-spin flex jc-c ai-c"},[n("a-spin")],1):t._e(),n("Breadcrumb",{attrs:{title:"訂單記錄"}}),n("div",{staticClass:"mt-2 mx-2"},[n("div",{staticClass:"bg-w ta-r py-2 px-3 flex w-100 jc-fe ai-c fw-w"},[n("div",{staticClass:"flex jc-fs ai-c fs-14 mt-2"},[n("a-range-picker",{staticStyle:{width:"260px"},attrs:{placeholder:["開始時間","結束時間"]},on:{change:t.onChange}})],1),n("a-select",{staticClass:"mt-2 ml-2",staticStyle:{width:"95px"},attrs:{"default-value":"1"},on:{change:function(e){return t.getTable()}},model:{value:t.form.stateSearch,callback:function(e){t.$set(t.form,"stateSearch",e)},expression:"form.stateSearch"}},t._l(Object.keys(t.tradeState),(function(e){return n("a-select-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.tradeState[e])+" ")])})),1),n("a-select",{staticClass:"mt-2 ml-2",staticStyle:{},on:{change:function(e){return t.getTable()}},model:{value:t.form.channel,callback:function(e){t.$set(t.form,"channel",e)},expression:"form.channel"}},t._l(t.channelList,(function(e){return n("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),1),n("a-select",{staticClass:"mt-2 ml-2",staticStyle:{width:"95px"},attrs:{"default-value":"幣種"},on:{change:function(e){return t.getTable()}},model:{value:t.form.mType,callback:function(e){t.$set(t.form,"mType",e)},expression:"form.mType"}},t._l(t.mType,(function(e){return n("a-select-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1),n("a-input-search",{staticClass:"w-300 mt-2 ml-2",attrs:{placeholder:"請輸入商戶訂單號/下單用戶/商戶名稱"},on:{search:function(e){return t.getTable()}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),n("div",{staticClass:"bg-w ta-r py-2 px-3 mt-1"},[n("a-table",{attrs:{loading:t.tableLoading,scroll:{x:1500},rowKey:function(t){return t.id},columns:t.columns,"data-source":t.tableData,pagination:t.pagination,bordered:""},on:{change:t.tableChange},scopedSlots:t._u([{key:"tradeState",fn:function(e){return n("div",{style:{color:t.getColor(e)}},[t._v(t._s(t.tradeState[e]))])}},{key:"price",fn:function(e,a){return n("div",{},["Ramp"===a.channelName?n("div",{staticClass:"text-ellipsis-1"},[t._v(t._s(t.getPriceSeparator(e)))]):n("div",{staticClass:"text-ellipsis-1"},[t._v(" "+t._s(t.getPriceSeparator((e||0)/t.currencyData[a.currency.toLowerCase()]))+" "+t._s(" "+a.currency)+" ")])])}},{key:"claim_gasFee",fn:function(e,a){return n("div",{},[e?n("span",[t._v(t._s(e)+t._s(a.claim_gasFeeUnit))]):t._e()])}},{key:"tokenAmount",fn:function(e,r){return n("div",{},[n("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"text"}],staticClass:"flex jc-fs ai-c"},[n("div",[t._v(t._s(e)+t._s(" "+r.tokenType))]),n("a",{directives:[{name:"show",rawName:"v-show",value:r.claimTxHash,expression:"record.claimTxHash"}],staticClass:"ml-1 flex h-100",attrs:{href:"https://tronscan.org/#/transaction/"+r.claimTxHash,target:"_blank"}},[n("img",{attrs:{src:a("e2c9"),alt:""}})])])])}},{key:"orderNo",fn:function(e){return n("div",{},[n("a-popover",{attrs:{placement:"topLeft"}},[n("template",{slot:"content"},[t._v(" "+t._s(e)+" ")]),n("div",{staticClass:"text-ellipsis-1"},[t._v(t._s(e))])],2)],1)}},{key:"bizNo",fn:function(e){return n("div",{},[n("a-popover",{attrs:{placement:"topLeft"}},[n("template",{slot:"content"},[t._v(" "+t._s(e)+" ")]),n("div",{staticClass:"text-ellipsis-1"},[t._v(t._s(e))])],2)],1)}},{key:"accountName",fn:function(e){return n("div",{},[n("a-popover",{attrs:{placement:"topLeft"}},[n("template",{slot:"content"},[t._v(" "+t._s(e)+" ")]),n("div",{staticClass:"text-ellipsis-1"},[t._v(t._s(e))])],2)],1)}},{key:"channelName",fn:function(e){return n("div",{},[t._v(t._s(e+"通道"))])}},{key:"createdAt",fn:function(e,a){return n("div",{},[n("a-popover",{attrs:{placement:"topLeft"}},[n("template",{slot:"content"},[t._v(" "+t._s(t.getLocalTime(e,a))+t._s(" "+a.timezone)+" ")]),n("div",{staticClass:"text-ellipsis-1"},[t._v(t._s(t.getLocalTime(e,a))+t._s(" "+a.timezone))])],2)],1)}},{key:"LocalAt",fn:function(e,a){return n("div",{},[t._v(t._s(t.getTime(a.createdAt,!1)))])}},{key:"action",fn:function(e,a,r){return n("div",{},[t._v(" "+t._s(e)+" "),n("a-button",{attrs:{type:"primary",size:"small",loading:t.loadingArr[r].loading},on:{click:function(e){return t.checkMer(a,r)}}},[t._v(" 手動補單 ")])],1)}}])})],1)]),n("a-modal",{attrs:{title:"结果",visible:t.visible},on:{ok:function(e){t.visible=!1},cancel:function(e){t.visible=!1}}},[n("a-textarea",{staticClass:"modal-content",attrs:{"auto-size":{minRows:3,maxRows:15}},model:{value:t.resultText,callback:function(e){t.resultText=e},expression:"resultText"}})],1)],1)},r=[],o=(a("a630"),a("d3b7"),a("25f0"),a("3ca3"),a("b85c")),c=(a("96cf"),a("1da1")),i=a("7878"),s=a("635f"),l=a("7ded"),u=a("c1df"),d=a.n(u),m=a("4703"),f={name:"Record",components:{Breadcrumb:s["a"]},mounted:function(){this.userInfo=JSON.parse(localStorage.getItem("user-info")),this.getCurrency()},data:function(){return{tableData:[],pagination:{total:1,current:1,pageNumber:1,pageSize:10},merInfo:{},globalLoading:!1,visible:!1,resultText:"",tableLoading:!1,channelList:[{name:"全部通道",value:""},{name:"Ramp通道",value:"Ramp"},{name:"A通道",value:"A"},{name:"F通道",value:"F"}],form:{inpSearch:"",stateSearch:"1",start:"",end:"",username:"",mType:"全部幣種",channel:""},mType:["全部幣種","KRW","PHP","TWD","VND","JPY"],userInfo:{},tradeState:{1:"全部狀態",10:"待支付",20:"支付成功",30:"支付失敗",40:"取消支付"},searchParams:[],loadingArr:[],current:1,pageSize:10,currencyData:{},columns:[{title:"订单号",dataIndex:"orderNo",scopedSlots:{customRender:"orderNo"},width:120},{title:"商户订单号",dataIndex:"bizNo",scopedSlots:{customRender:"bizNo"},width:120},{title:"商户名称",dataIndex:"merchant~merchantName",width:100},{title:"订单状态",dataIndex:"tradeState",scopedSlots:{customRender:"tradeState"},width:100},{title:"订单金额(法币)",dataIndex:"price",scopedSlots:{customRender:"price"},width:120},{title:"订单金额(USDT)",dataIndex:"tokenAmount",scopedSlots:{customRender:"tokenAmount"},width:120},{title:"手续费",dataIndex:"claim_platformFee",scopedSlots:{customRender:"claim_platformFee"},width:100},{title:"GAS费  ",dataIndex:"claim_gasFee",scopedSlots:{customRender:"claim_gasFee"},width:120},{title:"商品名称",dataIndex:"itemName",width:100},{title:"通道类型",dataIndex:"channelName",scopedSlots:{customRender:"channelName"},width:80},{title:"下单用户",dataIndex:"accountName",scopedSlots:{customRender:"accountName"},width:120},{title:"下单时间(当地时间)",dataIndex:"createdAt",scopedSlots:{customRender:"createdAt"},width:170},{title:"下单香港时间",dataIndex:"LocalAt",scopedSlots:{customRender:"LocalAt"},width:150},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},fixed:"right",width:80}]}},methods:{getPriceSeparator:i["getPriceSeparator"],confirmOrder:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n="".concat(t,"&confirmed=1"),a.prev=1,a.next=4,Object(m["l"])(n);case 4:r=a.sent,e.resultText=r.data,e.visible=!0,e.globalLoading=!1,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),e.globalLoading=!1;case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},checkMer:function(t,e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.loadingArr[e].loading=!0,r=a,n.prev=2,n.next=5,Object(m["l"])(t.id);case 5:o=n.sent,a.loadingArr[e].loading=!1,"MUST_CONFIRM"===o.tipType?a.$confirm({title:"确认操作",content:o.msg,onOk:function(){r.globalLoading=!0,r.confirmOrder(t.id)},onCancel:function(){}}):200==o.code&&(a.visible=!0,a.resultText=o.data),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),a.loadingArr[e].loading=!1;case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},getCurrency:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,e.next=4,Object(m["d"])();case 4:a=e.sent,n=Object(o["a"])(a.data);try{for(n.s();!(r=n.n()).done;)c=r.value,t.currencyData[c.symbol.toString().toLowerCase()]=c.multiply}catch(i){n.e(i)}finally{n.f()}e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:return e.next=13,t.getTable();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getLocalTime:function(t,e){if(!t)return"";var a=new Date(t).getTime()+60*e.timeValue*60*1e3;return d()(new Date(a)).format("YYYY-MM-DD HH:mm:ss")},getColor:function(t){var e="";return e="10"==t?"#00A0FF":"20"==t?"#00B53E":"#EB2535",e},tableChange:function(t){this.pagination.current=t.current,this.getTable()},getUTC:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];clearTimeout();var a=d()(t).format("YYYY-MM-DD HH:mm:ss").substring(0,10)+" 00:00:00",n=new Date(a||""),r=n.getTime();e&&(r=864e5+r);var o=6e4*n.getTimezoneOffset(),c=new Date(r+o),i=d()(c).format("YYYY-MM-DD HH:mm:ss");return i},onChange:function(t){var e,a;t.length?(this.form.start=this.getUTC(null===(e=t[0])||void 0===e?void 0:e._d),this.form.end=this.getUTC(null===(a=t[1])||void 0===a?void 0:a._d,!0)):(this.form.start="",this.form.end="");this.getTable()},getTime:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"";var a=new Date(t).getTime()+60*(e?this.userInfo.tz:8)*60*1e3;return d()(new Date(a)).format("YYYY-MM-DD HH:mm:ss")},getTable:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="",n=[],t.form.inpSearch&&n.push({columnName:"bizNo",value:t.form.inpSearch}),"1"!==t.form.stateSearch&&n.push({columnName:"tradeState",value:t.form.stateSearch}),t.form.username&&(a=t.form.username),t.form.channel&&n.push({columnName:"channelName",value:t.form.channel}),"全部幣種"!==t.form.mType&&n.push({columnName:"currency",value:t.form.mType}),t.form.start&&t.form.end&&n.push({columnName:"createdAt",value:[t.form.start,t.form.end].toString()}),r={paging:{pageNumber:t.pagination.current,pageSize:t.pagination.pageSize},searchText:a,searchItems:n,sorting:{columnNames:["createdAt"],direction:"desc"}},t.tableLoading=!0,e.prev=10,e.next=13,Object(l["e"])(r);case 13:o=e.sent,t.tableData=Object(i["tableRowFormat"])(o).data.list,t.pagination.total=o.data.paging.totalCount,t.loadingArr=Array.from(Array(10),(function(){return{loading:!1}})),t.tableLoading=!1,e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](10),t.tableLoading=!1;case 23:case"end":return e.stop()}}),e,null,[[10,20]])})))()}}},p=f,h=(a("caf0"),a("0c7c")),v=Object(h["a"])(p,n,r,!1,null,"ce2635fe",null);e["default"]=v.exports},d54b:function(t,e,a){"use strict";var n=a("b6e8"),r=a.n(n);r.a},e2c9:function(t,e,a){t.exports=a.p+"static/img/hash-tips.57192746.svg"}}]);