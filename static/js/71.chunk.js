(window.webpackJsonp=window.webpackJsonp||[]).push([[71,123],{"0a62":function(U,o,t){U.exports=t.p+"static/images/success.svg"},"1dju":function(U,o,t){"use strict";t.r(o),t.d(o,"query",function(){return I}),t.d(o,"recharge",function(){return S}),t.d(o,"getBase64Img",function(){return u}),t.d(o,"orderSearch",function(){return j});var m=t("qLMh"),R=t("9og8"),D=t("czNd"),K="X1R1";function I(_){return f.apply(this,arguments)}function f(){return f=Object(R.a)(Object(m.a)().mark(function _(E){return Object(m.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/list",{method:"POST",data:E}));case 1:case"end":return s.stop()}},_)})),f.apply(this,arguments)}function S(_){return c.apply(this,arguments)}function c(){return c=Object(R.a)(Object(m.a)().mark(function _(E){return Object(m.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/create",{method:"POST",data:E}));case 1:case"end":return s.stop()}},_)})),c.apply(this,arguments)}function u(){return r.apply(this,arguments)}function r(){return r=Object(R.a)(Object(m.a)().mark(function _(){return Object(m.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",Object(D.a)("/v1/api/rechargeorder/address",{method:"GEt"}));case 1:case"end":return h.stop()}},_)})),r.apply(this,arguments)}function j(_){return d.apply(this,arguments)}function d(){return d=Object(R.a)(Object(m.a)().mark(function _(E){return Object(m.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(D.a)("/v1/api/rechargeorder/search",{method:"POST",data:E}));case 1:case"end":return s.stop()}},_)})),d.apply(this,arguments)}},A9Vk:function(U,o,t){"use strict";t.r(o);var m=t("14J3"),R=t("BMrR"),D=t("jCWc"),K=t("kPKH"),I=t("+L6B"),f=t("2/Rp"),S=t("5NDa"),c=t("5rEg"),u=t("y8nQ"),r=t("Vl3Y"),j=t("7Kak"),d=t("9yH6"),_=t("k1fw"),E=t("miYZ"),h=t("tsqr"),s=t("tJVT"),q=t("WQX3"),Pt=t.n(q),v=t("q1tI"),tt=t.n(v),et=t("2PG1"),n=t("tL7X"),W=t("1dju"),at=t("9kvl"),B=t("pn+7"),e=t("nKUr"),Ut=t.n(e),a="dS1/",g,b;o.default=function(){var A=tt.a.useRef(null),nt=Object(v.useState)("trc"),$=Object(s.a)(nt,2),C=$[0],rt=$[1],st=Object(v.useState)(""),V=Object(s.a)(st,2),ct=V[0],_t=V[1],ot=Object(v.useState)({trc:{},erc:{}}),G=Object(s.a)(ot,2),x=G[0],it=G[1],lt=Object(v.useState)(""),J=Object(s.a)(lt,2),ut=J[0],dt=J[1],mt=Object(v.useState)("1"),Q=Object(s.a)(mt,2),T=Q[0],y=Q[1],pt=Object(v.useState)({}),X=Object(s.a)(pt,2),N=X[0],ft=X[1],ht=Object(v.useState)("timeout"),Y=Object(s.a)(ht,2),L=Y[0],P=Y[1],vt=Object(v.useState)(!1),Z=Object(s.a)(vt,2),Ot=Z[0],H=Z[1],jt=t("0a62"),Et=t("baxK"),gt=function(l){var p=new Date(l.expiredAt).toLocaleString(),O=new Date(p).getTime(),M=new Date().getTime();if(console.log(O,"expireTime"),console.log(p,"localString"),O<M){console.log("expire"),P("timeout"),clearTimeout(g);return}g=setInterval(function(){console.log("timer"),M=new Date().getTime();var z=Math.ceil((O-M)/1e3),k=z%60,F=Math.ceil(z/60),w="00:".concat(F<10?"0".concat(F):F,":").concat(k<10?"0".concat(k):k);dt(w),P("wait"),w==="00:00:00"&&(clearTimeout(g),P("timeout"))},1e3)},bt=function(l){if(console.log(l,"values"),Number(l.crypto)<1||Number(l.crypto)>1e4){h.default.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D\uFF0C1-10000 \u4E4B\u95F4\u6700\u591A\u4E24\u4F4D\u5C0F\u6570");return}H(!0),Object(W.recharge)(Object(_.a)({},l)).then(function(p){var O;ft(p.data),(O=A.current)===null||O===void 0||O.resetFields(),rt(l.chainType===1?"trc":"erc"),y(function(){return"2"}),gt(p.data),b=setInterval(function(){console.log("searchTimer"),Object(W.orderSearch)({orderNo:p.data.orderNo}).then(function(M){M.data.status===1&&(console.log(11111),clearInterval(b),P("success"),y("3")),M.data.status===2&&(console.log(2222),clearInterval(b),clearInterval(g),P("timeout"),y("3")),M.data.status===3&&(console.log(3333),clearInterval(b),clearInterval(g),P("fail"),y("3"))}).catch(function(){clearInterval(b),clearInterval(g),P("fail"),y("3")})},1e4)}).finally(function(){H(!1)})};Object(v.useEffect)(function(){T!=="2"&&(clearInterval(b),clearInterval(g))},[T]),Object(v.useEffect)(function(){var i;Object(W.getBase64Img)().then(function(l){console.log(l,"res"),it(l.data)}),(i=A.current)===null||i===void 0||i.setFieldsValue({chainType:1})},[]);var xt=function(l){var p,O=l.target.value;(p=A.current)===null||p===void 0||p.setFieldsValue({crypto:Math.abs(Number(O||0)).toFixed(4)})},yt=function(l){var p=l.target.value,O=Math.abs(Number(p||0)).toFixed(4);_t(O)};return Object(e.jsx)(R.a,{className:"content-re",_nk:"".concat(a,"11"),children:Object(e.jsxs)(K.a,{md:24,_nk:"".concat(a,"21"),children:[T==="1"&&Object(e.jsxs)(r.a,{layout:"vertical",ref:A,name:"control-ref",onFinish:bt,style:{width:"100%",maxWidth:"700px",marginBottom:"70px"},_nk:"".concat(a,"31"),children:[Object(e.jsx)(r.a.Item,{name:"chainType",label:n.a.text("reg_tips11"),rules:[{required:!0}],_nk:"".concat(a,"41"),children:Object(e.jsxs)(d.a.Group,{_nk:"".concat(a,"42"),children:[Object(e.jsx)(d.a,{value:1,_nk:"".concat(a,"51"),children:n.a.text("reg_tips49")}),Object(e.jsx)(d.a,{value:2,_nk:"".concat(a,"52"),children:n.a.text("reg_tips50")})]})}),Object(e.jsx)(r.a.Item,{name:"crypto",label:n.a.text("reg_tips84"),rules:[{required:!0}],_nk:"".concat(a,"43"),children:Object(e.jsx)(c.a,{placeholder:n.a.text("reg_tips125"),onChange:yt,type:"number",onBlur:xt,_nk:"".concat(a,"61")})}),Object(e.jsxs)(r.a.Item,{style:{marginTop:"40px"},_nk:"".concat(a,"44"),children:[Object(e.jsx)(f.a,{loading:Ot,style:{marginRight:"10px"},type:"primary",className:"btn",htmlType:"submit",_nk:"".concat(a,"71"),children:"".concat(n.a.text("reg_tips18")," ").concat(ct," USDT")}),Object(e.jsx)(f.a,{type:"default",className:"btn",htmlType:"reset",_nk:"".concat(a,"72"),children:n.a.text("reg_tip44")})]})]}),T==="2"&&Object(e.jsxs)("div",{className:"",_nk:"".concat(a,"81"),children:[Object(e.jsx)("div",{className:"top-tips flex-s-c",_nk:"".concat(a,"82"),children:n.a.text("reg_tips94")}),Object(e.jsxs)("div",{className:"cancel-tips flex-s-c",_nk:"".concat(a,"83"),children:[Object(e.jsx)("span",{_nk:"".concat(a,"91"),children:ut}),n.a.text("reg_tips95")]}),Object(e.jsxs)("div",{onClick:function(){return Object(B.b)(N.crypto)},className:"amount-box flex-s-c",_nk:"".concat(a,"84"),children:[Number(N.crypto).toFixed(4).toString()," USDT"]}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(N.crypto)},className:"copy-text cp flex-s-c",_nk:"".concat(a,"85"),children:n.a.text("reg_tips96")}),Object(e.jsxs)("div",{className:"qr-tips flex-s-c",_nk:"".concat(a,"86"),children:[n.a.text("reg_tips92"),Object(e.jsx)("span",{_nk:"".concat(a,"92"),children:C==="trc"?n.a.text("reg_tips49"):n.a.text("reg_tips50")}),n.a.text("reg_tips93")]}),Object(e.jsx)("div",{className:"qr-box",_nk:"".concat(a,"87"),children:Object(e.jsx)("img",{src:C==="trc"?"data:image/jpg;base64,".concat(x.trc.img):"data:image/jpg;base64,".concat(x.erc.img),alt:"",_nk:"".concat(a,"a1")})}),Object(e.jsx)("div",{className:"address-text-tips flex-s-c",_nk:"".concat(a,"88"),children:n.a.text("reg_tips97")}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(C==="trc"?x.trc.address:x.erc.address)},className:"address-text flex-s-c",_nk:"".concat(a,"89"),children:C==="trc"?x.trc.address:x.erc.address}),Object(e.jsx)("div",{onClick:function(){return Object(B.b)(C==="trc"?x.trc.address:x.erc.address)},className:"copy-text flex-s-c cp",_nk:"".concat(a,"8a"),children:n.a.text("reg_tips98")}),Object(e.jsx)(f.a,{onClick:function(){y("1"),g&&clearInterval(g),b&&clearInterval(b)},style:{marginTop:"70px"},type:"default",_nk:"".concat(a,"73"),children:n.a.text("reg_tips109")})]}),T==="3"&&Object(e.jsxs)("div",{className:"flex-c-c success-box",_nk:"".concat(a,"8b"),children:[L==="success"?Object(e.jsx)("img",{src:jt,alt:"",_nk:"".concat(a,"a2")}):Object(e.jsx)("img",{src:Et,alt:"",_nk:"".concat(a,"a3")}),Object(e.jsx)("div",{className:"s-title",_nk:"".concat(a,"8c"),children:L==="success"?n.a.text("reg_tips110"):n.a.text("reg_tips137")}),Object(e.jsxs)("div",{className:"s-tips",_nk:"".concat(a,"8d"),children:[" ",L==="success"?n.a.text("reg_tips111"):n.a.text("reg_tips138")]}),L==="success"?Object(e.jsx)(f.a,{onClick:function(){y("1"),at.c.push("/merchant/index")},type:"primary",_nk:"".concat(a,"74"),children:n.a.text("reg_tips46")}):Object(e.jsx)(f.a,{onClick:function(){y("1"),P("")},type:"default",_nk:"".concat(a,"75"),children:n.a.text("reg_tips109")})]}),T!=="3"&&Object(e.jsxs)("div",{className:"intro",_nk:"".concat(a,"8e"),children:[Object(e.jsxs)("div",{className:"title",_nk:"".concat(a,"8f"),children:[Object(e.jsx)(et.a,{style:{marginRight:"10px"},_nk:"".concat(a,"b1")}),n.a.text("reg_tips99")]}),Object(e.jsx)("div",{_nk:"".concat(a,"8g"),children:n.a.text("reg_tips112")}),Object(e.jsx)("div",{_nk:"".concat(a,"8h"),children:n.a.text("reg_tips101")}),Object(e.jsx)("div",{_nk:"".concat(a,"8i"),children:n.a.text("reg_tips102")}),Object(e.jsx)("div",{_nk:"".concat(a,"8j"),children:n.a.text("reg_tips103")})]})]})})}},WQX3:function(U,o,t){},baxK:function(U,o,t){U.exports=t.p+"static/images/error.svg"},"pn+7":function(U,o,t){"use strict";t.d(o,"b",function(){return I}),t.d(o,"a",function(){return f}),t.d(o,"c",function(){return S});var m=t("jrin"),R=t("miYZ"),D=t("tsqr"),K="TZQN";function I(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=document.createElement("textarea");r.readOnly=Boolean("readonly"),r.style.position="absolute",r.style.left="-9999px",r.value=c,document.body.appendChild(r),r.select(),r.setSelectionRange(0,r.value.length),document.execCommand("Copy"),document.body.removeChild(r),u||D.default.success("\u590D\u5236\u6210\u529F"),u&&Object.prototype.toString.call(u)==="[object Function]"&&u()}function f(c,u){var r,j,d=Math.abs((c==null||((r=c.current)===null||r===void 0)?void 0:r.getFieldValue(u))||0),_=Number(d.toFixed(4)).toString();c==null||((j=c.current)===null||j===void 0)||j.setFieldsValue(Object(m.a)({},u,_))}function S(c,u){var r,j,d,_,E=Math.abs((c==null||((r=c.current)===null||r===void 0||((j=r.getForm())===null||j===void 0))?void 0:j.getFieldValue(u))||0),h=Number(E.toFixed(4)).toString();c==null||((d=c.current)===null||d===void 0||((_=d.getForm())===null||_===void 0))||_.setFieldsValue(Object(m.a)({},u,h))}}}]);
