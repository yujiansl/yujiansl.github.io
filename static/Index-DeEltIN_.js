import{u as ce}from"./useTable-Br0VH9YA.js";import{F as ne}from"./Index-BgrOBixy.js";import{d as me,g as pe,c as oe}from"./index-Cuh9gsAM.js";import{d as _e,a as ge,e as fe,f as be,b as ve}from"./index-COelV0l7.js";import{c as Q}from"./commonFn-DSVr4W-5.js";import{l as W,aK as he,aE as se,Z as P,r as w,aL as re,ah as c,m as p,p as h,U as e,O as l,q as t,S as C,T as b,u as N,F as X,aF as Y,aG as ee,M as H,a7 as de,d as we,ap as Ve,P as ye}from"./vue-BtEXIrqH.js";import{E as T,n as ke}from"./element-BbMnn7tA.js";import{_ as le}from"./index-bEAPwbJM.js";import{_ as Se}from"./Index.vue_vue_type_script_setup_true_lang-CAnY41O0.js";import"./LIKU-logo-BbnHVERV.js";import"//at.alicdn.com/t/c/font_4557022_266y8yxi6v9.js";import"./vxe-EK889JN8.js";const k=y=>(Y("data-v-046a082e"),y=y(),ee(),y),Ue=k(()=>t("div",{class:"delete-confirm-warning"}," 确定删除结算账户吗？ ",-1)),Ne=k(()=>t("div",{class:"delete-google-title"}," 谷歌验证码 ",-1)),Ae={class:"delete-google-otp"},Ce={class:"dialog-footer delete-confirm-footer"},Re={key:0,class:"base-box detail-box"},xe={class:"detail-line"},De=k(()=>t("span",{class:"detail-line-title"},"谷歌验证器",-1)),$e={key:0,class:"detail-line-value"},Te={key:1,class:"detail-line-value"},qe={class:"detail-line"},Ee=k(()=>t("span",{class:"detail-line-title"},"注册时间",-1)),Pe={class:"detail-line-value"},Ie={class:"detail-line"},Fe=k(()=>t("span",{class:"detail-line-title"},"最后登录时间",-1)),Le={key:0,class:"detail-line-value"},ze={key:1,class:"detail-line-value"},Me={class:"detail-line"},Be=k(()=>t("span",{class:"detail-line-title"},"最后登录IP",-1)),Ge={key:0,class:"detail-line-value"},Oe={key:1,class:"detail-line-value"},je={class:"flex-center w-full mt-30"},Ke={key:0,class:"verificated flex-center"},Ze={key:1,class:"not-verificated flex-center"},He={key:0},Je={key:1,class:"lockout-status-text"},Qe={key:1,class:"base-box detail-box"},We=k(()=>t("div",{class:"flex-center w-full mt-30 settlement-account-detail-title"},"结算账户详情",-1)),Xe={key:0},Ye={class:"settlement-account-detail-line"},el=k(()=>t("span",{class:"settlement-account-field"},"结算币种：",-1)),ll={class:"settlement-account-value"},tl={class:"settlement-account-detail-line"},al=k(()=>t("span",{class:"settlement-account-field"},"银行国家/地区：",-1)),ol={class:"settlement-account-value"},nl={class:"settlement-account-detail-line"},sl=k(()=>t("span",{class:"settlement-account-field"},"银行名称：",-1)),rl={class:"settlement-account-value"},dl={class:"settlement-account-detail-line"},ul=k(()=>t("span",{class:"settlement-account-field"},"银行地址：",-1)),il={class:"settlement-account-value"},cl={class:"settlement-account-detail-line"},ml=k(()=>t("span",{class:"settlement-account-field"}," 账号名：",-1)),pl={class:"settlement-account-value"},_l={class:"settlement-account-detail-line"},gl=k(()=>t("span",{class:"settlement-account-field"},"银行账号：",-1)),fl={class:"settlement-account-value"},bl={class:"settlement-account-detail-line"},vl=k(()=>t("span",{class:"settlement-account-field"},"公司地址：",-1)),hl={class:"settlement-account-value"},wl={key:1},Vl={class:"settlement-account-detail-line"},yl=k(()=>t("span",{class:"settlement-account-field"},"结算币种：",-1)),kl={class:"settlement-account-value"},Sl={class:"settlement-account-detail-line"},Ul=k(()=>t("span",{class:"settlement-account-field"},"USDT 钱包地址：",-1)),Nl={class:"settlement-account-value"},Al={class:"settlement-account-detail-line"},Cl=k(()=>t("span",{class:"settlement-account-field"},"钱包名称/备注：",-1)),Rl={class:"settlement-account-value"},xl={class:"flex-center w-full mt-30 settlement-account-return-btn"},Dl=W({__name:"Detail",props:he({row:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(y){const q=se(),m=y,A=P({id:"",agentName:"",isEnabled:!0,password:"",rePassword:"",remark:"",challengeResult:""}),I=P({agentName:[{required:!0,message:"请输入代理名称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],rePassword:[{required:!0,message:"请输入确认密码",trigger:"change"}],challengeResult:[{required:!0,message:"请输入谷歌验证码",trigger:"blur"}]}),V=w({}),_=w([]),F=w(null),i=re(y,"modelValue"),S=w(!0),L=w(!1),G=w(),z=w("first"),M=w(""),B=w(""),Z=async o=>{o&&await o.validate((r,g)=>{if(r){A.id=m.row.id,A.agentName=m.row.agentName,A.password=m.row.password,A.rePassword=m.row.rePassword,A.remark=m.row.remark,A.isEnabled=m.row.isEnabled,A.challengeResult=m.row.challengeResult;try{_e(A).then(()=>{T.success("保存成功")}).catch(v=>{T.error("操作失败"),console.error(v)})}catch(v){console.error(v)}}else console.e("error submit!",g)})},K=()=>{const o={agentId:m.row.id,pageNo:1,pageSize:15},r=new URLSearchParams(Object.entries(o)).toString();ge(r).then(g=>{g.data.results&&(_.value=g.data.results)}).catch(g=>{console.error(g)})},O=()=>{const o=[];o.push({columnName:"luAgent",value:m.row.id}),pe({searchItems:o}).then(g=>{F.value=g.data.rows}).catch(g=>{console.error(g)})},j=(o,r)=>{o.paneName=="second"&&K(),o.paneName=="third"&&!F.value&&O()},U=o=>{M.value=o.currency.value,V.value=o,S.value=!1},a=o=>{S.value=!0},d=()=>{L.value=!0},s=async()=>{const o={id:V.value.id.value,challengeResult:B.value};me(o).then(r=>{T.success("删除成功"),setTimeout(()=>{window.location.reload()},1e3)}).catch(r=>{T.error("操作失败"),console.log(r)})},x=o=>o=="1"?"正常":"禁用",E=o=>o=="1"?"已认证":"未认证",R=o=>{const r={virtualMerchantId:o};q.push({path:"/site/setting",query:r})};return(o,r)=>{const g=c("el-input"),v=c("el-button"),n=c("el-dialog"),D=c("el-form-item"),f=c("el-switch"),te=c("el-form"),J=c("el-tab-pane"),$=c("el-table-column"),ae=c("el-table"),ue=c("el-tabs");return p(),h(X,null,[e(n,{modelValue:L.value,"onUpdate:modelValue":r[2]||(r[2]=u=>L.value=u),center:"",style:{width:"480px"}},{footer:l(()=>[t("div",Ce,[e(v,{type:"primary",onClick:s},{default:l(()=>[C(" 确定删除 ")]),_:1}),e(v,{onClick:r[1]||(r[1]=u=>L.value=!1)},{default:l(()=>[C("取消")]),_:1})])]),default:l(()=>[Ue,Ne,t("div",Ae,[e(g,{modelValue:B.value,"onUpdate:modelValue":r[0]||(r[0]=u=>B.value=u),minlength:"6",maxlength:"6"},null,8,["modelValue"])])]),_:1},8,["modelValue"]),e(ne,{modelValue:i.value,"onUpdate:modelValue":r[12]||(r[12]=u=>i.value=u)},{default:l(()=>[S.value?(p(),h("div",Re,[e(ue,{modelValue:z.value,"onUpdate:modelValue":r[11]||(r[11]=u=>z.value=u),class:"modal-tabs",onTabClick:j},{default:l(()=>[e(J,{label:"账户信息",name:"first"},{default:l(()=>[e(te,{ref_key:"agentFormRef",ref:G,"label-position":"top",rules:I,"label-width":"auto",model:o.row},{default:l(()=>[e(D,{prop:"email",label:"登录邮箱"},{default:l(()=>[e(g,{modelValue:o.row.email,"onUpdate:modelValue":r[3]||(r[3]=u=>o.row.email=u),placeholder:"请输入登录邮箱",maxlength:"50",disabled:""},null,8,["modelValue"])]),_:1}),e(D,{prop:"agentName",label:"代理名称"},{default:l(()=>[e(g,{modelValue:o.row.agentName,"onUpdate:modelValue":r[4]||(r[4]=u=>o.row.agentName=u),placeholder:"请输入代理名称",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(D,{prop:"password",label:"密码"},{default:l(()=>[e(g,{modelValue:o.row.password,"onUpdate:modelValue":r[5]||(r[5]=u=>o.row.password=u),placeholder:"请输入密码",type:"password",minlength:"8",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(D,{prop:"rePassword",label:"确认密码"},{default:l(()=>[e(g,{modelValue:o.row.rePassword,"onUpdate:modelValue":r[6]||(r[6]=u=>o.row.rePassword=u),placeholder:"请再次确认密码",type:"password",minlength:"8",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(D,{prop:"remark",label:"代理备注"},{default:l(()=>[e(g,{modelValue:o.row.remark,"onUpdate:modelValue":r[7]||(r[7]=u=>o.row.remark=u),placeholder:"备注信息仅管理员可见",type:"textarea",rows:3,maxlength:"50"},null,8,["modelValue"])]),_:1}),e(D,{prop:"isEnabled",label:"账号状态"},{default:l(()=>[e(f,{modelValue:o.row.isEnabled,"onUpdate:modelValue":r[8]||(r[8]=u=>o.row.isEnabled=u),"inline-prompt":"","active-text":"正常","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(D,{prop:"challengeResult",label:"谷歌验证码"},{default:l(()=>[e(g,{modelValue:o.row.challengeResult,"onUpdate:modelValue":r[9]||(r[9]=u=>o.row.challengeResult=u),placeholder:"请输入谷歌验证码",minlength:"6",maxlength:"6"},null,8,["modelValue"])]),_:1}),t("div",xe,[De,o.row.isEnableGoogleAuth?(p(),h("span",$e,"已启用")):(p(),h("span",Te,"未启用"))]),t("div",qe,[Ee,t("span",Pe,b(N(Q)(o.row.createdAt)),1)]),t("div",Ie,[Fe,o.row.lastLoginTime!="0001-01-01 00:00:00"?(p(),h("span",Le,b(N(Q)(o.row.lastLoginTime)),1)):(p(),h("span",ze,"无"))]),t("div",Me,[Be,o.row.lastLoginIP?(p(),h("span",Ge,b(o.row.lastLoginIP),1)):(p(),h("span",Oe,"无"))]),e(D,null,{default:l(()=>[t("div",je,[e(v,{type:"primary",onClick:r[10]||(r[10]=u=>Z(G.value))},{default:l(()=>[C("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])]),_:1}),e(J,{label:"关联站点",name:"second"},{default:l(()=>[e(ae,{data:_.value,style:{width:"100%"}},{default:l(()=>[e($,{prop:"merchant",label:"站点名称",width:"120"}),e($,{prop:"isVerificated",label:"认证状态",width:"100"},{default:l(u=>[u.row.isVerificated=="1"?(p(),h("div",Ke,b(E(u.row.isVerificated)),1)):(p(),h("div",Ze,b(E(u.row.isVerificated)),1))]),_:1}),e($,{prop:"currency",label:"收款币种",width:"100"}),e($,{prop:"isEnabled",label:"状态",width:"100"},{default:l(u=>[u.row.isEnabled=="1"?(p(),h("div",He,b(x(u.row.isEnabled)),1)):(p(),h("div",Je,b(x(u.row.isEnabled)),1))]),_:1}),e($,{prop:"agentRate",label:"佣金费率",width:"100"}),e($,{label:"操作",width:"120"},{default:l(u=>[e(v,{link:"",type:"primary",size:"small",onClick:ie=>R(u.row.id)},{default:l(()=>[C(" 管理站点 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(J,{label:"结算账号",name:"third"},{default:l(()=>[e(ae,{data:F.value,style:{width:"100%"}},{default:l(()=>[e($,{prop:"accountName.value",label:"结算账户名称",width:"120"}),e($,{prop:"currency.value",label:"账户币种",width:"120"}),e($,{prop:"account.value",label:"收款账户",width:"240"}),e($,{label:"操作",width:"120"},{default:l(u=>[e(v,{link:"",type:"primary",size:"small",onClick:ie=>U(u.row)},{default:l(()=>[C(" 管理 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])):(p(),h("div",Qe,[We,M.value=="USD"?(p(),h("div",Xe,[t("div",Ye,[el,t("span",ll,b(V.value.currency.value),1)]),t("div",tl,[al,t("span",ol,b(V.value.region.value),1)]),t("div",nl,[sl,t("span",rl,b(V.value.bankName.value),1)]),t("div",dl,[ul,t("span",il,b(V.value.bankAddress.value),1)]),t("div",cl,[ml,t("span",pl,b(V.value.accountName.value),1)]),t("div",_l,[gl,t("span",fl,b(V.value.account.value),1)]),t("div",bl,[vl,t("span",hl,b(V.value.companyAddress.value),1)])])):(p(),h("div",wl,[t("div",Vl,[yl,t("span",kl,b(V.value.currency.value),1)]),t("div",Sl,[Ul,t("span",Nl,b(V.value.account.value),1)]),t("div",Al,[Cl,t("span",Rl,b(V.value.accountName.value),1)])])),t("div",xl,[e(v,{onClick:a},{default:l(()=>[C("返回")]),_:1})]),t("div",{class:"flex-center w-full del-btn cursor-pointer mb-20",onClick:d},"删除结算账户 ")]))]),_:1},8,["modelValue"])],64)}}}),$l=le(Dl,[["__scopeId","data-v-046a082e"]]),Tl=y=>(Y("data-v-2aba3ad9"),y=y(),ee(),y),ql={class:""},El={class:"flex-center w-full mt-30"},Pl={class:""},Il=Tl(()=>t("div",{class:"select-currency"},[t("span",{class:"select-currency-flag"},"*"),t("span",{class:"select-currency-title"},"选择结算币种")],-1)),Fl={class:"flex-center w-full mt-30"},Ll={class:"flex-center w-full mt-30"},zl=W({__name:"Create",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(y){se();const q=w("USD"),m=w(""),A=[{value:"USD",label:"USD"},{value:"USDT",label:"USDT"}],I=re(y,"modelValue"),V=w(),_=P({agentName:"",email:"",isEnabled:!0,password:"",rePassword:"",remark:"",challengeResult:""}),F=P({agentName:[{required:!0,message:"请输入代理名称",trigger:"blur"}],email:[{required:!0,message:"请输入登录邮箱",trigger:"blur",type:"email"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],rePassword:[{required:!0,message:"请输入确认密码",trigger:"change"}],challengeResult:[{required:!0,message:"请输入谷歌验证码",trigger:"blur"}]}),i=P({id:"",role:"",currency:"USD",type:"10",region:"",bankName:"",bankAddress:"",account:"",accountName:"",companyAddress:"",remark:"",challengeResult:""}),S=P({id:"",role:"",currency:"USDT",type:"20",currency:"",account:"",accountName:"",challengeResult:""}),L=P({account:[{required:!0,message:"请输入USDT(TRC20)钱包地址",trigger:"blur"}],accountName:[{required:!0,message:"请输入钱包名称/备注",trigger:"blur"}],challengeResult:[{required:!0,message:"请输入谷歌验证码",trigger:"blur"}]}),G=P({region:[{required:!0,message:"请选择银行账户开户国家",trigger:"change"}],bankName:[{required:!0,message:"请输入银行名称",trigger:"blur"}],bankAddress:[{required:!0,message:"请输入银行地址",trigger:"blur"}],account:[{required:!0,message:"请输入完整的银行账号",trigger:"blur"}],accountName:[{required:!0,message:"请输入账号名",trigger:"blur"}],companyAddress:[{required:!0,message:"请输入公司所在地址",trigger:"blur"}],challengeResult:[{required:!0,message:"请输入谷歌验证码",trigger:"blur"}]}),z=w(),M=w(),B=async U=>{U&&await U.validate((a,d)=>{if(a)try{fe(_).then(s=>{m.value=s.data.id,T.success("保存成功")}).catch(s=>{T.error("操作失败"),console.error(s)})}catch(s){console.error(s)}else console.error("error submit!",d)})},Z=async U=>{U&&await U.validate((a,d)=>{if(a)try{i.currency=q,i.role="agent",i.id=m.value,oe(i).then(()=>{T.success("保存成功")}).catch(s=>{T.error("操作失败"),console.error(s)})}catch(s){console.error(s)}else console.error("error submit!",d)})},K=async U=>{U&&await U.validate((a,d)=>{if(a)try{S.currency=q,S.role="agent",i.id=m.value,oe(S).then(()=>{T.success("保存成功")}).catch(s=>{T.error("操作失败"),console.error(s)})}catch(s){console.error(s)}else console.error("error submit!",d)})},O=w("agentInfo"),j=(U,a)=>{};return(U,a)=>{const d=c("el-input"),s=c("el-form-item"),x=c("el-switch"),E=c("el-button"),R=c("el-form"),o=c("el-tab-pane"),r=c("el-option"),g=c("el-select"),v=c("el-tabs");return p(),H(ne,{modelValue:I.value,"onUpdate:modelValue":a[22]||(a[22]=n=>I.value=n)},{default:l(()=>[e(v,{modelValue:O.value,"onUpdate:modelValue":a[21]||(a[21]=n=>O.value=n),class:"base-box detail-box tabs-title",onTabClick:j},{default:l(()=>[e(o,{label:"账户信息",name:"agentInfo"},{default:l(()=>[t("div",ql,[e(R,{ref_key:"agentFormRef",ref:V,"label-position":"top",rules:F,"label-width":"auto",model:_},{default:l(()=>[e(s,{prop:"email",label:"登录邮箱"},{default:l(()=>[e(d,{modelValue:_.email,"onUpdate:modelValue":a[0]||(a[0]=n=>_.email=n),placeholder:"请输入登录邮箱",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"agentName",label:"代理名称"},{default:l(()=>[e(d,{modelValue:_.agentName,"onUpdate:modelValue":a[1]||(a[1]=n=>_.agentName=n),placeholder:"请输入代理名称",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(s,{prop:"password",label:"密码"},{default:l(()=>[e(d,{modelValue:_.password,"onUpdate:modelValue":a[2]||(a[2]=n=>_.password=n),placeholder:"请输入密码",type:"password",minlength:"8",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(s,{prop:"rePassword",label:"确认密码"},{default:l(()=>[e(d,{modelValue:_.rePassword,"onUpdate:modelValue":a[3]||(a[3]=n=>_.rePassword=n),placeholder:"请再次确认密码",type:"password",minlength:"8",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(s,{prop:"remark",label:"代理备注"},{default:l(()=>[e(d,{modelValue:_.remark,"onUpdate:modelValue":a[4]||(a[4]=n=>_.remark=n),placeholder:"备注信息仅管理员可见",type:"textarea",rows:3,maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"isEnabled",label:"账号状态"},{default:l(()=>[e(x,{modelValue:_.isEnabled,"onUpdate:modelValue":a[5]||(a[5]=n=>_.isEnabled=n),"inline-prompt":"","active-text":"正常","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(s,{prop:"challengeResult",label:"谷歌验证码"},{default:l(()=>[e(d,{modelValue:_.challengeResult,"onUpdate:modelValue":a[6]||(a[6]=n=>_.challengeResult=n),placeholder:"请输入谷歌验证码",minlength:"6",maxlength:"6"},null,8,["modelValue"])]),_:1}),e(s,null,{default:l(()=>[t("div",El,[e(E,{type:"primary",onClick:a[7]||(a[7]=n=>B(V.value))},{default:l(()=>[C("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])])]),_:1}),e(o,{label:"结算账号",name:"settlementAccount"},{default:l(()=>[t("div",Pl,[Il,e(g,{class:"select-currency-input",modelValue:q.value,"onUpdate:modelValue":a[8]||(a[8]=n=>q.value=n)},{default:l(()=>[(p(),h(X,null,de(A,n=>e(r,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),q.value=="USD"?(p(),H(R,{key:0,ref_key:"settlementAccountFormRef",ref:z,"label-position":"top",rules:G,"label-width":"auto",model:i},{default:l(()=>[e(s,{prop:"region",label:"银行国家/地区"},{default:l(()=>[e(Se,{modelValue:i.region,"onUpdate:modelValue":a[9]||(a[9]=n=>i.region=n),type:"region",placeholder:"请选择银行账户开户国家"},null,8,["modelValue"])]),_:1}),e(s,{prop:"bankName",label:"银行名称"},{default:l(()=>[e(d,{modelValue:i.bankName,"onUpdate:modelValue":a[10]||(a[10]=n=>i.bankName=n),placeholder:"请输入银行名称",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"bankAddress",label:"银行地址"},{default:l(()=>[e(d,{modelValue:i.bankAddress,"onUpdate:modelValue":a[11]||(a[11]=n=>i.bankAddress=n),placeholder:"请输入银行地址",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"accountName",label:"账号名"},{default:l(()=>[e(d,{modelValue:i.accountName,"onUpdate:modelValue":a[12]||(a[12]=n=>i.accountName=n),placeholder:"请输入账号名",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"account",label:"银行账号"},{default:l(()=>[e(d,{modelValue:i.account,"onUpdate:modelValue":a[13]||(a[13]=n=>i.account=n),placeholder:"请输入完整的银行账号",maxlength:"64"},null,8,["modelValue"])]),_:1}),e(s,{prop:"companyAddress",label:"公司地址"},{default:l(()=>[e(d,{modelValue:i.companyAddress,"onUpdate:modelValue":a[14]||(a[14]=n=>i.companyAddress=n),placeholder:"请输入公司所在地址",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(s,{prop:"challengeResult",label:"谷歌验证码"},{default:l(()=>[e(d,{modelValue:i.challengeResult,"onUpdate:modelValue":a[15]||(a[15]=n=>i.challengeResult=n),placeholder:"请输入谷歌验证码",minlength:"6",maxlength:"6"},null,8,["modelValue"])]),_:1}),e(s,null,{default:l(()=>[t("div",Fl,[e(E,{type:"primary",onClick:a[16]||(a[16]=n=>Z(z.value))},{default:l(()=>[C("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])):(p(),H(R,{key:1,ref_key:"trcSettlementAccountFormRef",ref:M,"label-position":"top",rules:L,"label-width":"auto",model:S},{default:l(()=>[e(s,{prop:"account",label:"USDT钱包地址"},{default:l(()=>[e(d,{modelValue:S.account,"onUpdate:modelValue":a[17]||(a[17]=n=>S.account=n),placeholder:"请输入USDT(TRC20)钱包地址",maxlength:"64"},null,8,["modelValue"])]),_:1}),e(s,{prop:"accountName",label:"钱包名称/备注"},{default:l(()=>[e(d,{modelValue:S.accountName,"onUpdate:modelValue":a[18]||(a[18]=n=>S.accountName=n),placeholder:"请输入钱包名称备注",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(s,{prop:"challengeResult",label:"谷歌验证码"},{default:l(()=>[e(d,{modelValue:S.challengeResult,"onUpdate:modelValue":a[19]||(a[19]=n=>S.challengeResult=n),placeholder:"请输入谷歌验证码",minlength:"6",maxlength:"6"},null,8,["modelValue"])]),_:1}),e(s,null,{default:l(()=>[t("div",Ll,[e(E,{type:"primary",onClick:a[20]||(a[20]=n=>K(M.value))},{default:l(()=>[C("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"]))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),Ml=le(zl,[["__scopeId","data-v-2aba3ad9"]]),Bl=y=>(Y("data-v-1196ef4d"),y=y(),ee(),y),Gl={class:"top-section base-box flex items-center ml-40 mr-40 mt-20"},Ol={class:"pr-80"},jl=Bl(()=>t("div",{class:"item-title"},"代理总数",-1)),Kl={class:"item-price mt-10 mb-8"},Zl={class:"order base-box p-36 ml-40 mr-40 mt-20"},Hl={class:"top-search"},Jl={class:"table-wrapper"},Ql={key:0},Wl={key:1,class:"lockout-status-text"},Xl={class:"flex"},Yl=["onClick"],et={class:"pager-wrapper mt-32 flex justify-between"},lt=W({__name:"Index",setup(y){const q=w(),m=P({isEnabled:"",agentName:""}),A=[{label:"禁用",value:"0"},{label:"正常",value:"1"}],I=w(!1),V=w(!1),_=w({}),F=w(0),{paginationData:i,handleCurrentChange:S,handleSizeChange:L,tableData:G,queryTableData:z,loadingRef:M,handSearch:B,reset:Z}=ce({searchData:{},url:"/agent/list",method:"post"});function K(){const d=[];m.isEnabled&&d.push({columnName:"isEnabled",value:m.isEnabled}),m.agentName&&d.push({columnName:"agentName",value:m.agentName}),B(d)}function O(){m.agentName="",m.isEnabled=""}const j=d=>d=="1"?"正常":"禁用",U=async()=>{try{const d=await be();F.value=d.data.totalCount}catch(d){console.error(d)}},a=d=>{const s={id:d.id,account:"yes"},x=new URLSearchParams(Object.entries(s)).toString();ve(x).then(R=>{_.value=R.data,I.value=!0}).catch(R=>{console.error(R)})};return we(()=>{z(),U()}),(d,s)=>{const x=c("el-button"),E=c("el-option"),R=c("el-select"),o=c("el-form-item"),r=c("el-input"),g=c("el-form"),v=c("el-table-column"),n=c("el-pagination"),D=Ve("loading");return p(),h("div",null,[t("div",Gl,[t("div",Ol,[jl,t("div",Kl,b(F.value),1)]),e(x,{type:"primary",onClick:s[0]||(s[0]=f=>V.value=!0),class:"flex-center create-button"},{default:l(()=>[C(" 创建新代理 ")]),_:1})]),t("div",Zl,[t("div",Hl,[e(g,{inline:!0,model:m,class:"demo-form-inline"},{default:l(()=>[e(o,null,{default:l(()=>[e(R,{modelValue:m.isEnabled,"onUpdate:modelValue":s[1]||(s[1]=f=>m.isEnabled=f),placeholder:"全部账户状态",clearable:""},{default:l(()=>[(p(),h(X,null,de(A,f=>e(E,{key:f.value,label:f.label,value:f.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(o,null,{default:l(()=>[e(r,{modelValue:m.agentName,"onUpdate:modelValue":s[2]||(s[2]=f=>m.agentName=f),placeholder:"请输入代理名称",clearable:""},null,8,["modelValue"])]),_:1}),e(o,null,{default:l(()=>[e(x,{type:"primary",onClick:O},{default:l(()=>[C("重置")]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(x,{type:"primary",onClick:K},{default:l(()=>[C("查询")]),_:1})]),_:1})]),_:1},8,["model"])]),t("div",Jl,[ye((p(),H(N(ke),{ref_key:"multipleTableRef",ref:q,data:N(G),style:{width:"100%"}},{default:l(()=>[e(v,{prop:"id",label:"代理ID",width:"180"}),e(v,{prop:"agentName",label:"代理名称",width:"180"}),e(v,{prop:"merchantNum",label:"关联站点",width:"100"}),e(v,{prop:"isEnabled",label:"账号状态",width:"100"},{default:l(f=>[f.row.isEnabled=="1"?(p(),h("div",Ql,b(j(f.row.isEnabled)),1)):(p(),h("div",Wl,b(j(f.row.isEnabled)),1))]),_:1}),e(v,{prop:"remark",label:"备注",width:"240"}),e(v,{prop:"createdAt",label:"注册时间",width:"180"},{default:l(f=>[t("div",null,b(N(Q)(f.row.createdAt)),1)]),_:1}),e(v,{prop:"action",label:"操作",fixed:"right",width:"100"},{default:l(f=>[t("div",Xl,[t("div",{class:"action-btn cursor-pointer mr-20",onClick:te=>a(f.row)},"代理设置",8,Yl)])]),_:1})]),_:1},8,["data"])),[[D,N(M)]])]),t("div",et,[e(n,{background:"",layout:N(i).layout,"page-sizes":N(i).pageSizes,total:N(i).total,"page-size":N(i).pageSize,currentPage:N(i).currentPage,onSizeChange:N(L),onCurrentChange:N(S)},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])]),e($l,{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=f=>I.value=f),row:_.value},null,8,["modelValue","row"]),e(Ml,{modelValue:V.value,"onUpdate:modelValue":s[4]||(s[4]=f=>V.value=f)},null,8,["modelValue"])])])}}}),_t=le(lt,[["__scopeId","data-v-1196ef4d"]]);export{_t as default};
