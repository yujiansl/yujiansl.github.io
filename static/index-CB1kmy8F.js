import{aA as qe,Z as Ue,r as D,b as _e,E as Ke,d as Ie,z as Ve,e as x,l as F,m as v,p as M,T as U,u as m,ah as L,q as A,U as w,O as y,W as Pe,M as k,aC as Ze,Q as ve,R,aD as oe,aE as ge,F as j,a7 as se,a2 as te,H as me,a9 as Ge,S as re,I as K,aF as Fe,aG as De,aB as Je,w as pe,n as Xe,c as Qe,aH as Ye,P as be,V as we,J as je,aI as ae}from"./vue-BtEXIrqH.js";import{g as et,S as Oe,D as X,s as Me,a as tt,u as le,b as G,L as ye,_ as O,c as ze,d as We,e as nt,f as rt}from"./index-bEAPwbJM.js";import{f as ee,g as ot,u as st,E as at,h as lt,j as it,k as ct,l as ut}from"./element-BbMnn7tA.js";import{i as he}from"./validate-riIxJwdE.js";import{u as dt}from"./useCurrentRole-BNuwRv4C.js";import"//at.alicdn.com/t/c/font_4557022_266y8yxi6v9.js";import"./vxe-EK889JN8.js";function ft(n){n?Me(tt):Me(Oe)}const Y=qe("app",()=>{const n=Ue({opened:et()!==Oe,withoutAnimation:!1}),e=D(X.Desktop);return _e(()=>n.opened,s=>ft(s)),{device:e,sidebar:n,toggleSidebar:s=>{n.opened=!n.opened,n.withoutAnimation=s},closeSidebar:s=>{n.opened=!1,n.withoutAnimation=s},toggleDevice:s=>{e.value=s}}}),vt=992,mt=()=>{const n=Y(),{listenerRouteChange:e}=le(),t=()=>document.body.getBoundingClientRect().width-1<vt,r=()=>{if(!document.hidden){const o=t();n.toggleDevice(o?X.Mobile:X.Desktop),o&&n.closeSidebar(!0)}};e(()=>{n.device===X.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),Ke(()=>{window.addEventListener("resize",r)}),Ie(()=>{t()&&(n.toggleDevice(X.Mobile),n.closeSidebar(!0))}),Ve(()=>{window.removeEventListener("resize",r)})},pt={defense:!0,color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:200},Te=D(document.body);function ht(n=Te){let e,t,r=null;const o={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},s=(d,b={})=>{if(!n.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}e=d,t={...pt,...b},r?l():a(),c(n.value)},a=()=>{const d=n.value.tagName.toLowerCase()===Te.value.tagName.toLowerCase(),b=d?"fixed":"absolute",S=d?"":"relative";r=document.createElement("div"),r.style.pointerEvents="none",r.style.top="0",r.style.left="0",r.style.position=b,r.style.zIndex="99999";const{clientWidth:E,clientHeight:$}=n.value;l({width:E,height:$}),n.value.style.position=S,n.value.appendChild(r)},l=(d={})=>{r&&(e&&(r.style.background=`url(${i()}) left top repeat`),d.width&&(r.style.width=`${d.width}px`),d.height&&(r.style.height=`${d.height}px`))},i=()=>{const{color:d,opacity:b,size:S,family:E,angle:$,width:z,height:Z}=t,I=document.createElement("canvas");I.width=z,I.height=Z;const V=I.getContext("2d");return V&&(V.fillStyle=d,V.globalAlpha=b,V.font=`${S}px ${E}`,V.rotate(Math.PI/180*$),V.fillText(e,0,Z/2)),I.toDataURL()},f=()=>{if(!(!n.value||!r)){g();try{n.value.removeChild(r)}catch{console.warn("水印元素已不存在，请重新创建")}finally{r=null}}},u=ee(()=>{f(),a(),c(n.value)},100),c=d=>{t.defense?!o.watermarkElMutationObserver&&!o.parentElMutationObserver&&_(d):g("mutation"),o.parentElResizeObserver||p(d)},g=(d="all")=>{var b,S,E;(d==="mutation"||d==="all")&&((b=o.watermarkElMutationObserver)==null||b.disconnect(),o.watermarkElMutationObserver=void 0,(S=o.parentElMutationObserver)==null||S.disconnect(),o.parentElMutationObserver=void 0),(d==="resize"||d==="all")&&((E=o.parentElResizeObserver)==null||E.disconnect(),o.parentElResizeObserver=void 0)},_=d=>{const b=ee(S=>{S.forEach(ee(E=>{switch(E.type){case"attributes":E.target===r&&u();break;case"childList":E.removedNodes.forEach($=>{$===r&&d.appendChild(r)});break}},100))},100);o.watermarkElMutationObserver=new MutationObserver(b),o.parentElMutationObserver=new MutationObserver(b),o.watermarkElMutationObserver.observe(r,{attributes:!0,childList:!1,subtree:!1}),o.parentElMutationObserver.observe(d,{attributes:!1,childList:!0,subtree:!1})},p=d=>{const b=ee(()=>{const{clientWidth:S,clientHeight:E}=d;l({width:S,height:E})},500);o.parentElResizeObserver=new ResizeObserver(b),o.parentElResizeObserver.observe(d)};return Ve(()=>{f()}),{setWatermark:s,clearWatermark:f}}const Be=Y(),_t=x(()=>Be.device===X.Mobile),gt=x(()=>Be.device===X.Desktop);function ie(){return{isMobile:_t,isDesktop:gt}}const ce=G(),bt=x(()=>ce.layoutMode===ye.Left),wt=x(()=>ce.layoutMode===ye.Top),yt=x(()=>ce.layoutMode===ye.LeftTop),Ct=n=>{ce.layoutMode=n};function ue(){return{isLeft:bt,isTop:wt,isLeftTop:yt,setLayoutMode:Ct}}const kt={class:"layout-footer"},St=F({__name:"index",setup(n){const e="LIKU";return(t,r)=>(v(),M("footer",kt,"© "+U(m(e))+" Pay 2024",1))}}),xt=O(St,[["__scopeId","data-v-99cfaa4f"]]),Et={class:"app-main"},Mt={class:"app-scrollbar"},Tt=F({__name:"AppMain",setup(n){const e=ze(),t=G();return(r,o)=>{const s=L("router-view"),a=L("el-backtop");return v(),M("section",Et,[A("div",Mt,[w(s,null,{default:y(({Component:l,route:i})=>[w(Pe,{name:"el-fade-in",mode:"out-in"},{default:y(()=>[(v(),k(Ze,{include:m(e).cachedViews},[(v(),k(ve(l),{key:i.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),m(t).showFooter?(v(),k(xt,{key:0})):R("",!0)]),w(a),w(a,{target:".app-scrollbar"})])}}}),Ce=O(Tt,[["__scopeId","data-v-2efaa580"]]);function Lt(n){for(var e=[],t=0;t<n.length;){var r=n[t];if(r==="*"||r==="+"||r==="?"){e.push({type:"MODIFIER",index:t,value:n[t++]});continue}if(r==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:n[t++]});continue}if(r==="{"){e.push({type:"OPEN",index:t,value:n[t++]});continue}if(r==="}"){e.push({type:"CLOSE",index:t,value:n[t++]});continue}if(r===":"){for(var o="",s=t+1;s<n.length;){var a=n.charCodeAt(s);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){o+=n[s++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(t));e.push({type:"NAME",index:t,value:o}),t=s;continue}if(r==="("){var l=1,i="",s=t+1;if(n[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<n.length;){if(n[s]==="\\"){i+=n[s++]+n[s++];continue}if(n[s]===")"){if(l--,l===0){s++;break}}else if(n[s]==="("&&(l++,n[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=n[s++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(t));if(!i)throw new TypeError("Missing pattern at ".concat(t));e.push({type:"PATTERN",index:t,value:i}),t=s;continue}e.push({type:"CHAR",index:t,value:n[t++]})}return e.push({type:"END",index:t,value:""}),e}function At(n,e){e===void 0&&(e={});for(var t=Lt(n),r=e.prefixes,o=r===void 0?"./":r,s="[^".concat(It(e.delimiter||"/#?"),"]+?"),a=[],l=0,i=0,f="",u=function(I){if(i<t.length&&t[i].type===I)return t[i++].value},c=function(I){var V=u(I);if(V!==void 0)return V;var B=t[i],h=B.type,T=B.index;throw new TypeError("Unexpected ".concat(h," at ").concat(T,", expected ").concat(I))},g=function(){for(var I="",V;V=u("CHAR")||u("ESCAPED_CHAR");)I+=V;return I};i<t.length;){var _=u("CHAR"),p=u("NAME"),d=u("PATTERN");if(p||d){var b=_||"";o.indexOf(b)===-1&&(f+=b,b=""),f&&(a.push(f),f=""),a.push({name:p||l++,prefix:b,suffix:"",pattern:d||s,modifier:u("MODIFIER")||""});continue}var S=_||u("ESCAPED_CHAR");if(S){f+=S;continue}f&&(a.push(f),f="");var E=u("OPEN");if(E){var b=g(),$=u("NAME")||"",z=u("PATTERN")||"",Z=g();c("CLOSE"),a.push({name:$||(z?l++:""),pattern:$&&!z?s:z,prefix:b,suffix:Z,modifier:u("MODIFIER")||""});continue}c("END")}return a}function Rt(n,e){return $t(At(n,e),e)}function $t(n,e){e===void 0&&(e={});var t=Vt(e),r=e.encode,o=r===void 0?function(i){return i}:r,s=e.validate,a=s===void 0?!0:s,l=n.map(function(i){if(typeof i=="object")return new RegExp("^(?:".concat(i.pattern,")$"),t)});return function(i){for(var f="",u=0;u<n.length;u++){var c=n[u];if(typeof c=="string"){f+=c;continue}var g=i?i[c.name]:void 0,_=c.modifier==="?"||c.modifier==="*",p=c.modifier==="*"||c.modifier==="+";if(Array.isArray(g)){if(!p)throw new TypeError('Expected "'.concat(c.name,'" to not repeat, but got an array'));if(g.length===0){if(_)continue;throw new TypeError('Expected "'.concat(c.name,'" to not be empty'))}for(var d=0;d<g.length;d++){var b=o(g[d],c);if(a&&!l[u].test(b))throw new TypeError('Expected all "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(b,'"'));f+=c.prefix+b+c.suffix}continue}if(typeof g=="string"||typeof g=="number"){var b=o(String(g),c);if(a&&!l[u].test(b))throw new TypeError('Expected "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(b,'"'));f+=c.prefix+b+c.suffix;continue}if(!_){var S=p?"an array":"a string";throw new TypeError('Expected "'.concat(c.name,'" to be ').concat(S))}}return f}}function It(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Vt(n){return n&&n.sensitive?"":"i"}const Pt={key:0,class:"no-redirect"},Ft=["onClick"],Dt=F({__name:"index",setup(n){const e=oe(),t=ge(),{listenerRouteChange:r}=le(),o=D([]),s=()=>{o.value=e.matched.filter(i=>{var f,u;return((f=i.meta)==null?void 0:f.title)&&((u=i.meta)==null?void 0:u.breadcrumb)!==!1})},a=i=>Rt(i)(e.params),l=i=>{const{redirect:f,path:u}=i;if(f){t.push(f);return}t.push(a(u))};return r(i=>{i.path.startsWith("/redirect/")||s()},!0),(i,f)=>{const u=L("el-breadcrumb-item"),c=L("el-breadcrumb");return v(),k(c,null,{default:y(()=>[(v(!0),M(j,null,se(o.value,(g,_)=>(v(),k(u,{key:g.path},{default:y(()=>[g.redirect==="noRedirect"||_===o.value.length-1?(v(),M("span",Pt,U(g.meta.title),1)):(v(),M("a",{key:1,onClick:te(p=>l(g),["prevent"])},U(g.meta.title),9,Ft))]),_:2},1024))),128))]),_:1})}}}),Ot=O(Dt,[["__scopeId","data-v-3087ae3e"]]),zt=["href"],Wt=F({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(t,r)=>{const o=L("router-link");return m(he)(e.to)?(v(),M("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[me(t.$slots,"default")],8,zt)):(v(),k(o,{key:1,to:e.to},{default:y(()=>[me(t.$slots,"default")]),_:3},8,["to"]))}}});function H(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Le(n,e){for(var t="",r=0,o=-1,s=0,a,l=0;l<=n.length;++l){if(l<n.length)a=n.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var i=t.lastIndexOf("/");if(i!==t.length-1){i===-1?(t="",r=0):(t=t.slice(0,i),r=t.length-1-t.lastIndexOf("/")),o=l,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,o=l,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(o+1,l):t=n.slice(o+1,l),r=l-o-1;o=l,s=0}else a===46&&s!==-1?++s:s=-1}return t}function Bt(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var Q={resolve:function(){for(var e="",t=!1,r,o=arguments.length-1;o>=-1&&!t;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),H(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Le(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(H(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Le(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return H(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];H(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Q.normalize(e)},relative:function(e,t){if(H(e),H(t),e===t||(e=Q.resolve(e),t=Q.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var l=t.length,i=l-a,f=s<i?s:i,u=-1,c=0;c<=f;++c){if(c===f){if(i>f){if(t.charCodeAt(a+c)===47)return t.slice(a+c+1);if(c===0)return t.slice(a+c)}else s>f&&(e.charCodeAt(r+c)===47?u=c:c===0&&(u=0));break}var g=e.charCodeAt(r+c),_=t.charCodeAt(a+c);if(g!==_)break;g===47&&(u=c)}var p="";for(c=r+u+1;c<=o;++c)(c===o||e.charCodeAt(c)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+t.slice(a+u):(a+=u,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(H(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,o=-1,s=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){o=a;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');H(e);var r=0,o=-1,s=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,i=-1;for(a=e.length-1;a>=0;--a){var f=e.charCodeAt(a);if(f===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1),l>=0&&(f===t.charCodeAt(l)?--l===-1&&(o=a):(l=-1,o=i))}return r===o?o=i:o===-1&&(o=e.length),e.slice(r,o)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else o===-1&&(s=!1,o=a+1);return o===-1?"":e.slice(r,o)}},extname:function(e){H(e);for(var t=-1,r=0,o=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var i=e.charCodeAt(l);if(i===47){if(!s){r=l+1;break}continue}o===-1&&(s=!1,o=l+1),i===46?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||o===-1||a===0||a===1&&t===o-1&&t===r+1?"":e.slice(t,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Bt("/",e)},parse:function(e){H(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),o=r===47,s;o?(t.root="/",s=1):s=0;for(var a=-1,l=0,i=-1,f=!0,u=e.length-1,c=0;u>=s;--u){if(r=e.charCodeAt(u),r===47){if(!f){l=u+1;break}continue}i===-1&&(f=!1,i=u+1),r===46?a===-1?a=u:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||i===-1||c===0||c===1&&a===i-1&&a===l+1?i!==-1&&(l===0&&o?t.base=t.name=e.slice(1,i):t.base=t.name=e.slice(l,i)):(l===0&&o?(t.name=e.slice(1,a),t.base=e.slice(1,i)):(t.name=e.slice(l,a),t.base=e.slice(l,i)),t.ext=e.slice(a,i)),l>0?t.dir=e.slice(0,l-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Q.posix=Q;var Nt=Q;const Ne=ot(Nt),Ht={key:2},qt=F({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(n){const e=n,t=x(()=>{var l;return(l=e.item.meta)==null?void 0:l.alwaysShow}),r=x(()=>{var l;return((l=e.item.children)==null?void 0:l.filter(i=>{var f;return!((f=i.meta)!=null&&f.hidden)}))??[]}),o=x(()=>r.value.length),s=x(()=>{const l=o.value;switch(!0){case l>1:return null;case l===1:return r.value[0];default:return{...e.item,path:""}}}),a=l=>{switch(!0){case he(l):return l;case he(e.basePath):return e.basePath;default:return Ne.resolve(e.basePath,l)}};return(l,i)=>{const f=L("SvgIcon"),u=L("el-menu-item"),c=L("SidebarItem",!0),g=L("el-sub-menu");return!t.value&&s.value&&!s.value.children?(v(),M(j,{key:0},[s.value.meta?(v(),k(Wt,{key:0,to:a(s.value.path)},{default:y(()=>[w(u,{index:a(s.value.path)},Ge({default:y(()=>[s.value.meta.svgIcon?(v(),k(f,{key:0,name:s.value.meta.svgIcon},null,8,["name"])):s.value.meta.elIcon?(v(),k(ve(s.value.meta.elIcon),{key:1,class:"el-icon"})):R("",!0)]),_:2},[s.value.meta.title?{name:"title",fn:y(()=>[re(U(s.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):R("",!0)],64)):(v(),k(g,{key:1,index:a(e.item.path),teleported:""},{title:y(()=>{var _,p,d;return[(_=e.item.meta)!=null&&_.svgIcon?(v(),k(f,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(p=e.item.meta)!=null&&p.elIcon?(v(),k(ve(e.item.meta.elIcon),{key:1,class:"el-icon"})):R("",!0),(d=e.item.meta)!=null&&d.title?(v(),M("span",Ht,U(e.item.meta.title),1)):R("",!0)]}),default:y(()=>[e.item.children?(v(!0),M(j,{key:0},se(r.value,_=>(v(),k(c,{key:_.path,item:_,"base-path":a(_.path)},null,8,["item","base-path"]))),128)):R("",!0)]),_:1},8,["index"]))}}}),Ut=O(qt,[["__scopeId","data-v-4ed449cc"]]),Kt="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.66667%200C2.98477%200%200%202.98477%200%206.66667V33.3333C0%2037.0152%202.98477%2040%206.66667%2040H33.3333C37.0152%2040%2040%2037.0152%2040%2033.3333V6.66667C40%202.98477%2037.0152%200%2033.3333%200H6.66667ZM9.8%207.2H14.9892V32.8H9.8V7.2ZM20.1596%2012.3649H30.321L25.0071%2022.4992C24.9765%2022.5574%2024.9766%2022.6269%2025.0071%2022.6851L30.321%2032.8H20.1596L15.0349%2022.6728C15.0062%2022.616%2015.0062%2022.5489%2015.0349%2022.4922L20.1596%2012.3649Z'%20fill='%23FE6F55'/%3e%3c/svg%3e",Zt=n=>(Fe("data-v-741b4883"),n=n(),De(),n),Gt={class:"liku-title"},Jt=["src"],Xt=Zt(()=>A("span",{class:"liku-title-text"},"LIKU",-1)),Qt=F({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,{isLeft:t,isTop:r}=ue();return(o,s)=>{const a=L("router-link");return v(),M("div",{class:K(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":m(r)}])},[w(Pe,{name:"layout-logo-fade"},{default:y(()=>[w(a,{key:"collapse",to:"/"},{default:y(()=>[A("div",Gt,[A("img",{src:m(Kt),alt:"Logo",class:"liku-logo"},null,8,Jt),Xt])]),_:1})]),_:1})],2)}}}),ke=O(Qt,[["__scopeId","data-v-741b4883"]]),ne=n=>{let e="";try{e=getComputedStyle(document.documentElement).getPropertyValue(n)}catch(t){console.error(t)}return e},Ae=(n,e)=>{try{document.documentElement.style.setProperty(n,e)}catch(t){console.error(t)}},Yt={class:"bot-collapse flex items-center"},jt={class:"ml-18 flex items-center"},en={key:2,class:"ml-18 no-wrap"},tn=F({__name:"index",setup(n){Je(B=>({"6d6e33bb":Z.value,"491a0f36":I.value,"3bf99bf1":$.value,d6a8a54e:z.value,"2ef0ab6c":E.value}));const e=ne("--v3-sidebar-menu-bg-color"),t=ne("--v3-sidebar-menu-text-color"),r=ne("--v3-sidebar-menu-active-text-color"),{isMobile:o}=ie(),{isLeft:s,isTop:a}=ue(),l=oe(),i=Y(),f=We(),u=G(),{role:c}=dt(),g=x(()=>{const{meta:{activeMenu:B},path:h}=l;return B||h}),_=x(()=>f.routes.filter(B=>{var h;return!((h=B.meta)!=null&&h.hidden)})),p=x(()=>!i.sidebar.opened),d=x(()=>s.value&&u.showLogo),b=x(()=>s.value?e:void 0),S=x(()=>s.value?t:void 0),E=x(()=>s.value?r:void 0),$=x(()=>a.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),z=x(()=>a.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),Z=x(()=>a.value?"0px":"2px"),I=x(()=>a.value?"none":"block"),V=()=>{i.toggleSidebar(!1)};return(B,h)=>{const T=L("el-menu"),N=L("el-scrollbar"),C=L("SvgIcon");return v(),M("div",{class:K([{"has-logo":d.value},"left-menu"])},[d.value?(v(),k(ke,{key:0,collapse:p.value},null,8,["collapse"])):R("",!0),w(N,{"wrap-class":"scrollbar-wrapper"},{default:y(()=>[w(T,{"active-text-color":E.value,"background-color":b.value,collapse:p.value&&!m(a),"collapse-transition":!1,"default-active":g.value,mode:m(a)&&!m(o)?"horizontal":"vertical","text-color":S.value,"unique-opened":!0},{default:y(()=>[(v(!0),M(j,null,se(_.value,P=>(v(),k(Ut,{key:P.path,"base-path":P.path,item:P},null,8,["base-path","item"]))),128))]),_:1},8,["active-text-color","background-color","collapse","default-active","mode","text-color"])]),_:1}),A("div",Yt,[A("div",jt,[m(i).sidebar.opened?(v(),k(C,{key:0,onClick:V,name:"icon-zhankai"})):(v(),k(C,{key:1,onClick:V,name:"icon-shouqi"})),m(i).sidebar.opened?(v(),M("span",en," LIKU "+U(m(c)==="merchant"?"商户":m(c)==="admin"?"管理":"代理")+"后台 ",1)):R("",!0)])])],2)}}}),Se=O(tn,[["__scopeId","data-v-215aabbd"]]),nn=n=>(Fe("data-v-8d07dffa"),n=n(),De(),n),rn={class:"navigation-bar"},on={class:"right-menu"},sn={class:"right-menu-avatar"},an=nn(()=>A("span",{style:{display:"block"}},"退出登录",-1)),ln=F({__name:"index",setup(n){const e=JSON.parse(nt("user-info")||"{}"),{isMobile:t}=ie(),{isTop:r}=ue(),o=ge();Y();const s=rt(),a=D(!1),l=D(e.SuperUser==="1");_e(()=>l.value,()=>{e["old:profile"]&&e["old:profile"]!=="merchant,user"&&l.value&&(a.value=!0)},{immediate:!0});const i=()=>{s.logout(),o.push("/login")},f=async()=>{try{await s.login({refresh:!0},"back"),await o.push("/"),location.reload()}catch(u){console.log(u,"e")}};return(u,c)=>{const g=L("el-avatar"),_=L("el-dropdown-item"),p=L("el-dropdown-menu"),d=L("el-dropdown");return v(),M("div",rn,[!m(r)||m(t)?(v(),k(Ot,{key:0,class:"breadcrumb"})):R("",!0),m(r)&&!m(t)?(v(),k(Se,{key:1,class:"sidebar"})):R("",!0),a.value?(v(),M("span",{key:2,class:"flex-center cursor-pointer",onClick:f},"返回管理后台")):R("",!0),A("div",on,[w(d,{class:"right-menu-item"},{dropdown:y(()=>[w(p,null,{default:y(()=>[w(_,{onClick:i},{default:y(()=>[an]),_:1})]),_:1})]),default:y(()=>[A("div",sn,[w(g,{icon:m(st),size:38},null,8,["icon"]),A("span",null,U(m(s).username),1)])]),_:1})])])}}}),xe=O(ln,[["__scopeId","data-v-8d07dffa"]]),Re=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],q=(()=>{if(typeof document>"u")return!1;const n=Re[0],e={};for(const t of Re)if((t==null?void 0:t[1])in document){for(const[o,s]of t.entries())e[n[o]]=s;return e}return!1})(),$e={change:q.fullscreenchange,error:q.fullscreenerror};let W={request(n=document.documentElement,e){return new Promise((t,r)=>{const o=()=>{W.off("change",o),t()};W.on("change",o);const s=n[q.requestFullscreen](e);s instanceof Promise&&s.then(o).catch(r)})},exit(){return new Promise((n,e)=>{if(!W.isFullscreen){n();return}const t=()=>{W.off("change",t),n()};W.on("change",t);const r=document[q.exitFullscreen]();r instanceof Promise&&r.then(t).catch(e)})},toggle(n,e){return W.isFullscreen?W.exit():W.request(n,e)},onchange(n){W.on("change",n)},onerror(n){W.on("error",n)},on(n,e){const t=$e[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=$e[n];t&&document.removeEventListener(t,e,!1)},raw:q};Object.defineProperties(W,{isFullscreen:{get:()=>!!document[q.fullscreenElement]},element:{enumerable:!0,get:()=>document[q.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[q.fullscreenEnabled]}});q||(W={isEnabled:!1});const J=W,cn=F({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,t=D(!1),r=x(()=>t.value?e.exitTips:e.openTips),o=x(()=>t.value?"fullscreen-exit":"fullscreen"),s=()=>{const g=document.querySelector(e.element)||void 0;J.isEnabled?J.toggle(g):at.warning("您的浏览器无法工作")},a=()=>{t.value=J.isFullscreen,t.value||(document.body.className="")};pe(g=>{J.isEnabled&&J.on("change",a),g(()=>{J.isEnabled&&J.off("change",a)})});const l=D(!1),i=x(()=>l.value?"内容区复原":"内容区放大"),f=x(()=>l.value?"fullscreen-exit":"fullscreen"),u=()=>{l.value=!l.value,document.body.className=l.value?"content-large":""},c=()=>{l.value&&u(),document.body.className="content-full",s()};return(g,_)=>{const p=L("SvgIcon"),d=L("el-tooltip"),b=L("el-dropdown-item"),S=L("el-dropdown-menu"),E=L("el-dropdown");return v(),M("div",null,[g.content?(v(),k(E,{key:1,disabled:t.value},{dropdown:y(()=>[w(S,null,{default:y(()=>[w(b,{onClick:u},{default:y(()=>[re(U(i.value),1)]),_:1}),w(b,{onClick:c},{default:y(()=>[re("内容区全屏")]),_:1})]),_:1})]),default:y(()=>[w(p,{name:f.value},null,8,["name"])]),_:1},8,["disabled"])):(v(),k(d,{key:0,effect:"dark",content:r.value,placement:"bottom"},{default:y(()=>[w(p,{name:o.value,onClick:s},null,8,["name"])]),_:1},8,["content"]))])}}}),un=O(cn,[["__scopeId","data-v-03889db8"]]),dn={class:"scroll-container"},fn=200,vn=F({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,t=oe(),r=G(),{listenerRouteChange:o}=le(),s=D(),a=D();let l=0;const i=({scrollLeft:_})=>{l=_},f=({deltaY:_})=>{/^-/.test(_.toString())?c("left"):c("right")},u=()=>{const _=a.value.clientWidth,p=s.value.wrapRef.clientWidth,d=_-p-l;return{scrollbarContentRefWidth:_,scrollbarRefWidth:p,lastDistance:d}},c=(_,p=fn)=>{let d=0;const{scrollbarContentRefWidth:b,scrollbarRefWidth:S,lastDistance:E}=u();S>b||(_==="left"?d=Math.max(0,l-p):d=Math.min(l+p,l+E),s.value.setScrollLeft(d))},g=()=>{const _=e.tagRefs;for(let p=0;p<_.length;p++)if(t.path===_[p].$props.to.path){const d=_[p].$el,b=d.offsetWidth,S=d.offsetLeft,{scrollbarRefWidth:E}=u();if(S<l){const z=l-S;c("left",z);return}const $=E+l-b;if(S>$){const z=S-$;c("right",z);return}}};return o(()=>{Xe(g)}),(_,p)=>{const d=L("el-icon");return v(),M("div",dn,[w(d,{class:"arrow left",onClick:p[0]||(p[0]=b=>c("left"))},{default:y(()=>[w(m(lt))]),_:1}),w(m(it),{ref_key:"scrollbarRef",ref:s,onWheelPassive:f,onScroll:i},{default:y(()=>[A("div",{ref_key:"scrollbarContentRef",ref:a,class:"scrollbar-content"},[me(_.$slots,"default",{},void 0,!0)],512)]),_:3},512),w(d,{class:"arrow right",onClick:p[1]||(p[1]=b=>c("right"))},{default:y(()=>[w(m(ct))]),_:1}),m(r).showScreenfull?(v(),k(un,{key:0,content:!0,class:"screenfull"})):R("",!0)])}}}),mn=O(vn,[["__scopeId","data-v-93122cdc"]]),pn={class:"tags-view-container"},hn=F({__name:"index",setup(n){const e=Qe(),t=ge(),r=oe(),o=ze(),s=We(),{listenerRouteChange:a}=le(),l=D([]),i=D(!1),f=D(0),u=D(0),c=D({});let g=[];const _=h=>h.path===r.path,p=h=>{var T;return(T=h.meta)==null?void 0:T.affix},d=(h,T="/")=>{const N=[];return h.forEach(C=>{if(p(C)){const P=Ne.resolve(T,C.path);N.push({fullPath:P,path:P,name:C.name,meta:{...C.meta}})}if(C.children){const P=d(C.children,C.path);N.push(...P)}}),N},b=()=>{g=d(s.routes);for(const h of g)h.name&&o.addVisitedView(h)},S=h=>{h.name&&(o.addVisitedView(h),o.addCachedView(h))},E=h=>{o.delCachedView(h),t.replace({path:"/redirect"+h.path,query:h.query})},$=h=>{o.delVisitedView(h),o.delCachedView(h),_(h)&&I(o.visitedViews,h)},z=()=>{const h=c.value.fullPath;h!==r.path&&h!==void 0&&t.push(h),o.delOthersVisitedViews(c.value),o.delOthersCachedViews(c.value)},Z=h=>{o.delAllVisitedViews(),o.delAllCachedViews(),!g.some(T=>T.path===r.path)&&I(o.visitedViews,h)},I=(h,T)=>{const N=h.slice(-1)[0],C=N==null?void 0:N.fullPath;C!==void 0?t.push(C):T.name==="Dashboard"?t.push({path:"/redirect"+T.path,query:T.query}):t.push("/")},V=(h,T)=>{const C=e.proxy.$el.getBoundingClientRect().left,de=e.proxy.$el.offsetWidth-105,Ee=T.clientX-C+15;u.value=Ee>de?de:Ee,f.value=T.clientY,i.value=!0,c.value=h},B=()=>{i.value=!1};return _e(i,h=>{h?document.body.addEventListener("click",B):document.body.removeEventListener("click",B)}),Ie(()=>{b(),a(async h=>{S(h)},!0)}),(h,T)=>{const N=L("el-icon");return v(),M("div",pn,[w(mn,{class:"tags-view-wrapper","tag-refs":l.value},{default:y(()=>[(v(!0),M(j,null,se(m(o).visitedViews,C=>(v(),k(m(Ye),{ref_for:!0,ref_key:"tagRefs",ref:l,key:C.path,class:K([{active:_(C)},"tags-view-item"]),to:{path:C.path,query:C.query},onMouseup:te(P=>!p(C)&&$(C),["middle"]),onContextmenu:te(P=>V(C,P),["prevent"])},{default:y(()=>{var P;return[re(U((P=C.meta)==null?void 0:P.title)+" ",1),p(C)?R("",!0):(v(),k(N,{key:0,size:12,onClick:te(de=>$(C),["prevent","stop"])},{default:y(()=>[w(m(ut))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),be(A("ul",{class:"contextmenu",style:je({left:u.value+"px",top:f.value+"px"})},[A("li",{onClick:T[0]||(T[0]=C=>E(c.value))},"刷新"),p(c.value)?R("",!0):(v(),M("li",{key:0,onClick:T[1]||(T[1]=C=>$(c.value))},"关闭")),A("li",{onClick:z},"关闭其它"),A("li",{onClick:T[2]||(T[2]=C=>Z(c.value))},"关闭所有")],4),[[we,i.value]])])}}}),He=O(hn,[["__scopeId","data-v-e12a26c9"]]),_n={class:"main-container"},gn=F({__name:"LeftMode",setup(n){const{isMobile:e}=ie(),t=Y(),r=G(),{showTagsView:o,fixedHeader:s}=ae(r),a=x(()=>({hideSidebar:!t.sidebar.opened,openSidebar:t.sidebar.opened,withoutAnimation:t.sidebar.withoutAnimation,mobile:e.value})),l=()=>{t.closeSidebar(!1)};return(i,f)=>(v(),M("div",{class:K([a.value,"app-wrapper"])},[a.value.mobile&&a.value.openSidebar?(v(),M("div",{key:0,class:"drawer-bg",onClick:l})):R("",!0),w(m(Se),{class:"sidebar-container"}),A("div",_n,[A("div",{class:K([{"fixed-header":m(s)},"layout-header"])},[w(m(xe))],2),w(m(Ce),{class:"app-main"})])],2))}}),bn=O(gn,[["__scopeId","data-v-97ae6a47"]]),wn={class:"app-wrapper"},yn={class:"fixed-header layout-header"},Cn={class:"content"},kn=F({__name:"TopMode",setup(n){const e=G(),{showTagsView:t,showLogo:r}=ae(e);return(o,s)=>(v(),M("div",wn,[A("div",yn,[A("div",Cn,[m(r)?(v(),k(m(ke),{key:0,collapse:!1,class:"logo"})):R("",!0),w(m(xe),{class:"navigation-bar"})]),be(w(m(He),null,null,512),[[we,m(t)]])]),A("div",{class:K([{hasTagsView:m(t)},"main-container"])},[w(m(Ce),{class:"app-main"})],2)]))}}),Sn=O(kn,[["__scopeId","data-v-da4d3997"]]),xn={class:"fixed-header layout-header"},En={class:"content"},Mn=F({__name:"LeftTopMode",setup(n){const e=Y(),t=G(),{showTagsView:r,showLogo:o}=ae(t),s=x(()=>({hideSidebar:!e.sidebar.opened}));return(a,l)=>(v(),M("div",{class:K([s.value,"app-wrapper"])},[A("div",xn,[m(o)?(v(),k(m(ke),{key:0,collapse:!1,class:"logo"})):R("",!0),A("div",En,[w(m(xe)),be(w(m(He),null,null,512),[[we,m(r)]])])]),A("div",{class:K([{hasTagsView:m(r)},"main-container"])},[w(m(Se),{class:"sidebar-container"}),w(m(Ce),{class:"app-main"})],2)],2))}}),Tn=O(Mn,[["__scopeId","data-v-134c0ec9"]]),fe="--v3-tagsview-height",Ln=F({__name:"index",setup(n){mt();const{setWatermark:e,clearWatermark:t}=ht(),{isMobile:r}=ie(),{isLeft:o,isTop:s,isLeftTop:a}=ue(),l=G(),{showSettings:i,showTagsView:f,showWatermark:u,showGreyMode:c,showColorWeakness:g}=ae(l),_=x(()=>({showGreyMode:c.value,showColorWeakness:g.value})),p=ne(fe);return pe(()=>{f.value?Ae(fe,p):Ae(fe,"0px")}),pe(()=>{u.value?e("LIKU"):t()}),(d,b)=>(v(),M("div",{class:K(_.value)},[m(o)||m(r)?(v(),k(bn,{key:0})):m(s)?(v(),k(Sn,{key:1})):m(a)?(v(),k(Tn,{key:2})):R("",!0)],2))}}),Dn=O(Ln,[["__scopeId","data-v-ff61bc09"]]);export{Dn as default};
