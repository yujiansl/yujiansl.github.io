import{_ as K}from"./LIKU-logo-BbnHVERV.js";import{C as L,_ as M}from"./Create-DVJ1SMwa.js";import{u as j,E as I}from"./element-BbMnn7tA.js";import{f as q,e as G,_ as J}from"./index-bEAPwbJM.js";import{l as Z,aE as A,r as F,ah as r,m as f,p as b,q as o,U as e,O as a,u as s,F as H,a7 as P,S as p,Z as Q,aF as W,aG as X}from"./vue-BtEXIrqH.js";import{u as Y}from"./useEnterprise-euz5rIMR.js";import{U as C}from"./Index-DjrcDC4L.js";import{_ as ee}from"./Index.vue_vue_type_script_setup_true_lang-CAnY41O0.js";import{m as oe}from"./index-B3sZ9j6O.js";import"./Index-BgrOBixy.js";import"./commonFn-DSVr4W-5.js";import"//at.alicdn.com/t/c/font_4557022_266y8yxi6v9.js";import"./vxe-EK889JN8.js";const i=_=>(W("data-v-28b06e3d"),_=_(),X(),_),te={class:"full-content auth-box w-full h-full position-relative"},le={class:"auth-header flex pl-30 pr-30 justify-between items-center"},se=i(()=>o("img",{src:K,class:"header-logo"},null,-1)),ne={class:"right-menu"},ae={class:"right-menu-avatar"},re=i(()=>o("span",{style:{display:"block"}},"退出登录",-1)),ie={class:"auth-body flex-center flex-col"},de={class:"auth-content"},me=i(()=>o("div",{class:"auth-title mt-30 mb-47 flex-center"},"最后一步，让 LIKU 了解你们",-1)),ue={class:"base-box info-box mt-44"},ce={key:0,class:"form-with-title"},pe=i(()=>o("div",{class:"detail-title"},"你的企业信息",-1)),_e=i(()=>o("div",{class:"item-desc"},"请上传能证明企业注册文件（如：公司注册书、商业登记证、营业执照等）",-1)),fe=i(()=>o("div",{class:"item-desc"},"请上传能证明企业主身份文件（如：护照、法定身份证、驾照等）",-1)),be={class:"w-full flex-center flex-col"},ye={key:1,class:"pt-46"},ve=i(()=>o("img",{src:M,class:"auth-img",alt:""},null,-1)),ke=i(()=>o("div",{class:"start-title mt-20 mb-6"},"信息已提交",-1)),he=i(()=>o("div",{class:"start-text mb-125"},[p(" 我们已收到你的信息，审核结果请留意邮箱。"),o("br"),p(" 预计 3 个工作日内完成认证！ ")],-1)),we={class:"w-full flex-center mb-40"},xe={class:"contact-box pt-30 pb-30 flex-center"},Ve=Z({__name:"Index",setup(_){const U=q(),h=A(),S=F(!1),y=F(!1),N=[{value:"director",label:"董事"},{value:"legal",label:"法定代表人"},{value:"beneficiary",label:"受益人"}],D=JSON.parse(G("user-info")||"{}"),{enterpriseFormRef:w,enterpriseForm:n,enterpriseRules:T,submitForm:ge,resetForm:Ie}=Y(),E=()=>{U.logout(),h.push("/login")},x=()=>{h.push("/")},R=async v=>{v&&await v.validate((t,k)=>{if(t)try{const m=[];for(let u in n)m.push({claimType:u,claimValue:n[u]});const c=Q({});c.merchantId=D.mer,c.claims=m,oe(c).then(()=>{I.success("保存成功")}).catch(u=>{I.error("操作失败"),console.error(u)})}catch(m){console.error(m)}else console.error("error submit!",k)})};return(v,t)=>{const k=r("el-avatar"),m=r("el-dropdown-item"),c=r("el-dropdown-menu"),u=r("el-dropdown"),V=r("el-input"),d=r("el-form-item"),$=r("el-option"),B=r("el-select"),g=r("el-button"),O=r("el-form"),z=r("SvgIcon");return f(),b("div",te,[o("div",le,[se,o("div",ne,[e(u,{class:"right-menu-item"},{dropdown:a(()=>[e(c,null,{default:a(()=>[e(m,{divided:"",onClick:E},{default:a(()=>[re]),_:1})]),_:1})]),default:a(()=>[o("div",ae,[e(k,{icon:s(j),size:38},null,8,["icon"])])]),_:1})])]),o("div",ie,[o("div",de,[me,o("div",ue,[S.value?(f(),b("div",ye,[ve,ke,he,o("div",we,[e(g,{type:"primary",onClick:t[7]||(t[7]=l=>y.value=!0)},{default:a(()=>[p("创建站点")]),_:1})]),o("div",{class:"complete-btn cursor-pointer w-full flex-center mb-40",onClick:x},"完成")])):(f(),b("div",ce,[pe,e(O,{"label-position":"top",ref_key:"enterpriseFormRef",ref:w,model:s(n),rules:s(T),class:"modal-ruleForm"},{default:a(()=>[e(d,{label:"企业名称",prop:"kyb.companyName"},{default:a(()=>[e(V,{modelValue:s(n)["kyb.companyName"],"onUpdate:modelValue":t[0]||(t[0]=l=>s(n)["kyb.companyName"]=l)},null,8,["modelValue"])]),_:1}),e(d,{label:"企业注册地",prop:"kyb.registrationCountry"},{default:a(()=>[e(ee,{type:"region",modelValue:s(n)["kyb.registrationCountry"],"onUpdate:modelValue":t[1]||(t[1]=l=>s(n)["kyb.registrationCountry"]=l),placeholder:"请选择企业注册地"},null,8,["modelValue"])]),_:1}),e(d,{label:"企业证件",prop:"kyb.companyIDFile"},{default:a(()=>[e(C,{modelValue:s(n)["kyb.companyIDFile"],"onUpdate:modelValue":t[2]||(t[2]=l=>s(n)["kyb.companyIDFile"]=l),id:"companyIDFile",ext:"img"},null,8,["modelValue"]),_e]),_:1}),e(d,{label:"企业主姓名",prop:"kyb.ownerName"},{default:a(()=>[e(V,{modelValue:s(n)["kyb.ownerName"],"onUpdate:modelValue":t[3]||(t[3]=l=>s(n)["kyb.ownerName"]=l)},null,8,["modelValue"])]),_:1}),e(d,{label:"企业主类型",prop:"kyb.ownerType"},{default:a(()=>[e(B,{modelValue:s(n)["kyb.ownerType"],"onUpdate:modelValue":t[4]||(t[4]=l=>s(n)["kyb.ownerType"]=l)},{default:a(()=>[(f(),b(H,null,P(N,l=>e($,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"企业主证件",prop:"kyb.ownerIDFile"},{default:a(()=>[e(C,{defaultImgUrl:"",modelValue:s(n)["kyb.ownerIDFile"],"onUpdate:modelValue":t[5]||(t[5]=l=>s(n)["kyb.ownerIDFile"]=l),id:"ownerIDFile",ext:"img"},null,8,["modelValue"]),fe]),_:1}),e(d,null,{default:a(()=>[o("div",be,[e(g,{type:"primary",class:"mt-60 mb-24",onClick:t[6]||(t[6]=l=>R(s(w)))},{default:a(()=>[p("提交认证")]),_:1}),o("div",{class:"auth-wait cursor-pointer",onClick:x},"稍后完善")])]),_:1})]),_:1},8,["model","rules"])]))])]),o("a",xe,[e(z,{name:"icon-lianxikefu",size:"18px",class:"mr-6"}),p(" 联系客服 ")]),e(L,{modelValue:y.value,"onUpdate:modelValue":t[8]||(t[8]=l=>y.value=l)},null,8,["modelValue"])])])}}}),Ke=J(Ve,[["__scopeId","data-v-28b06e3d"]]);export{Ke as default};
