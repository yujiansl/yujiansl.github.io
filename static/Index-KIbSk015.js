import{_ as Y}from"./LIKU-logo-CHqxCLOK.js";import{C as Z,_ as ee}from"./Create-wpuAPRim.js";import{u as le,E as x}from"./element-CD5rsoqi.js";import{f as oe,e as te,m as z,_ as ae}from"./index-c78MVIZI.js";import{l as ne,aE as se,r as N,ah as d,m as c,p as y,q as n,U as l,O as a,u as t,F as g,a7 as D,M as A,S as f,aF as re,aG as ue}from"./vue-C87Wc4A0.js";import{u as ie,a as de}from"./usePerson-ClhUjQEF.js";import{U as S}from"./Index-DqM0qE4v.js";import{_ as R}from"./Index.vue_vue_type_script_setup_true_lang-BhDJDWBy.js";import"./Index-BU8kA-XB.js";import"//at.alicdn.com/t/c/font_4557022_0o7l3b0t8egq.js";import"./vxe-sm_XFqm0.js";const p=V=>(re("data-v-c9ae1ca2"),V=V(),ue(),V),pe={class:"full-content auth-box w-full h-full position-relative"},me={class:"auth-header flex pl-30 pr-30 justify-between items-center"},ce=p(()=>n("img",{src:Y,class:"header-logo",alt:""},null,-1)),be={class:"right-menu"},ye={class:"right-menu-avatar"},_e=p(()=>n("span",{style:{display:"block"}},"退出登录",-1)),fe={class:"auth-body flex-center flex-col"},ve={class:"auth-content"},ke=p(()=>n("div",{class:"auth-title mt-30 mb-47 flex-center"},"最后一步，让 LikuPay 了解你们",-1)),we={class:"base-box info-box"},Ve={key:0},he=p(()=>n("div",{class:"detail-title"},"主体认证",-1)),Ie=p(()=>n("div",{class:"select-verificate"},[n("span",{class:"select-verificate-flag"},"*"),n("span",{class:"select-verificate-title"},"主体类型")],-1)),xe=p(()=>n("div",{class:"item-desc"},"请上传能证明企业注册文件（如：公司注册书、商业登记证、营业执照等）",-1)),ge=p(()=>n("div",{class:"item-desc"},"请上传能证明企业主身份文件（如：护照、法定身份证等）",-1)),De={class:"w-full flex-center flex-col"},Fe=p(()=>n("div",{class:"item-desc"},"请上传能证明你的身份文件（如：护照、法定身份证等）",-1)),Ce={class:"w-full flex-center flex-col"},Ue={key:1,class:"pt-46"},Te=p(()=>n("img",{src:ee,class:"auth-img",alt:""},null,-1)),Ne=p(()=>n("div",{class:"start-title mt-20 mb-6"},"信息已提交",-1)),Se=p(()=>n("div",{class:"start-text mb-125"},[f(" 我们已收到你的信息，审核结果请留意邮箱。"),n("br"),f(" 预计 3 个工作日内完成认证！ ")],-1)),Re={class:"w-full flex-center mb-40"},Oe={href:"https://t.me/LikuPay",target:"_blank",class:"contact-box pt-30 pb-30 flex-center"},Be=ne({__name:"Index",setup(V){const K=oe(),F=se(),C=N(!1),O=N(!1),v=N("business"),B=[{value:"passport",label:"护照"},{value:"identityCard",label:"身份证"}],M=[{value:"director",label:"董事"},{value:"legal",label:"法定代表人"},{value:"beneficiary",label:"受益人"}],j=[{value:"business",label:"企业"},{value:"person",label:"个人"}],P=JSON.parse(te("user-info")||"{}"),{enterpriseFormRef:$,enterpriseForm:s,enterpriseRules:q}=ie(),{personFormRef:E,personForm:u,personRules:G}=de(),J=()=>{K.logout(),F.push("/login")},U=()=>{F.push("/")},H=async _=>{console.log(s,"enterpriseForm"),_&&await _.validate((o,k)=>{if(o)try{s["kyb.verificateType"]=v.value;const i=[];for(const b in s)i.push({claimType:b,claimValue:s[b]});const m={};m.merchantId=P.mer,m.claims=i,z(m).then(()=>{x.success("保存成功"),C.value=!0}).catch(()=>{x.error("操作失败")})}catch(i){console.error(i)}else console.error("error submit!",k)})},Q=async _=>{_&&await _.validate((o,k)=>{if(o)try{u["kyb.verificateType"]=v.value;const i=[];for(const b in u)i.push({claimType:b,claimValue:u[b]});const m={};m.merchantId=P.mer,m.claims=i,z(m).then(()=>{x.success("保存成功"),C.value=!0}).catch(()=>{x.error("操作失败")})}catch(i){console.error(i)}else console.error("error submit!",k)})},W=()=>{F.push("/site/index")};return(_,o)=>{const k=d("el-avatar"),i=d("el-dropdown-item"),m=d("el-dropdown-menu"),b=d("el-dropdown"),h=d("el-option"),I=d("el-select"),w=d("el-input"),r=d("el-form-item"),T=d("el-button"),L=d("el-form"),X=d("SvgIcon");return c(),y("div",pe,[n("div",me,[ce,n("div",be,[l(b,{class:"right-menu-item"},{dropdown:a(()=>[l(m,null,{default:a(()=>[l(i,{divided:"",onClick:J},{default:a(()=>[_e]),_:1})]),_:1})]),default:a(()=>[n("div",ye,[l(k,{icon:t(le),size:38},null,8,["icon"])])]),_:1})])]),n("div",fe,[n("div",ve,[ke,n("div",we,[C.value?(c(),y("div",Ue,[Te,Ne,Se,n("div",Re,[l(T,{type:"primary",onClick:W},{default:a(()=>[f("创建站点")]),_:1})]),n("div",{class:"complete-btn cursor-pointer w-full flex-center mb-40",onClick:U},"完成")])):(c(),y("div",Ve,[he,Ie,l(I,{class:"select-verificate-input",modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=e=>v.value=e)},{default:a(()=>[(c(),y(g,null,D(j,e=>l(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),v.value==="business"?(c(),A(L,{key:0,"label-position":"top",ref_key:"enterpriseFormRef",ref:$,model:t(s),rules:t(q),class:"modal-ruleForm"},{default:a(()=>[l(r,{label:"企业名称",prop:"kyb.companyName"},{default:a(()=>[l(w,{modelValue:t(s)["kyb.companyName"],"onUpdate:modelValue":o[1]||(o[1]=e=>t(s)["kyb.companyName"]=e),placeholder:"请输入企业名称"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业注册地",prop:"kyb.registrationCountry"},{default:a(()=>[l(R,{type:"region","exist-china":!0,modelValue:t(s)["kyb.registrationCountry"],"onUpdate:modelValue":o[2]||(o[2]=e=>t(s)["kyb.registrationCountry"]=e),placeholder:"请选择企业注册地"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业证件",prop:"kyb.companyIDFile"},{default:a(()=>[l(S,{modelValue:t(s)["kyb.companyIDFile"],"onUpdate:modelValue":o[3]||(o[3]=e=>t(s)["kyb.companyIDFile"]=e),id:"companyIDFile",ext:"img"},null,8,["modelValue"]),xe]),_:1}),l(r,{label:"企业主姓名",prop:"kyb.ownerName"},{default:a(()=>[l(w,{modelValue:t(s)["kyb.ownerName"],"onUpdate:modelValue":o[4]||(o[4]=e=>t(s)["kyb.ownerName"]=e),placeholder:"请输入企业主姓名",maxlength:"50"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业主类型",prop:"kyb.ownerType"},{default:a(()=>[l(I,{modelValue:t(s)["kyb.ownerType"],"onUpdate:modelValue":o[5]||(o[5]=e=>t(s)["kyb.ownerType"]=e),placeholder:"请选择企业主类型"},{default:a(()=>[(c(),y(g,null,D(M,e=>l(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"企业主国籍",prop:"kyb.ownerCountry"},{default:a(()=>[l(R,{type:"region","exist-china":!0,modelValue:t(s)["kyb.ownerCountry"],"onUpdate:modelValue":o[6]||(o[6]=e=>t(s)["kyb.ownerCountry"]=e),placeholder:"请选择企业主国籍"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业主证件类型",prop:"kyb.ownerIDType"},{default:a(()=>[l(I,{modelValue:t(s)["kyb.ownerIDType"],"onUpdate:modelValue":o[7]||(o[7]=e=>t(s)["kyb.ownerIDType"]=e),placeholder:"请选择企业主证件类型"},{default:a(()=>[(c(),y(g,null,D(B,e=>l(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"企业主证件号码",prop:"kyb.ownerID"},{default:a(()=>[l(w,{modelValue:t(s)["kyb.ownerID"],"onUpdate:modelValue":o[8]||(o[8]=e=>t(s)["kyb.ownerID"]=e),placeholder:"请输入企业主证件号码",maxlength:"50"},null,8,["modelValue"])]),_:1}),l(r,{label:"企业主证件",prop:"kyb.ownerIDFile"},{default:a(()=>[l(S,{defaultImgUrl:"",modelValue:t(s)["kyb.ownerIDFile"],"onUpdate:modelValue":o[9]||(o[9]=e=>t(s)["kyb.ownerIDFile"]=e),id:"ownerIDFile",ext:"img"},null,8,["modelValue"]),ge]),_:1}),l(r,null,{default:a(()=>[n("div",De,[l(T,{type:"primary",class:"mt-60 mb-24",onClick:o[10]||(o[10]=e=>H(t($)))},{default:a(()=>[f("提交认证 ")]),_:1}),n("div",{class:"auth-wait cursor-pointer",onClick:U},"稍后完善")])]),_:1})]),_:1},8,["model","rules"])):(c(),A(L,{key:1,"label-position":"top",ref_key:"personFormRef",ref:E,model:t(u),rules:t(G),class:"modal-ruleForm"},{default:a(()=>[l(r,{label:"姓名",prop:"kyb.ownerName"},{default:a(()=>[l(w,{modelValue:t(u)["kyb.ownerName"],"onUpdate:modelValue":o[11]||(o[11]=e=>t(u)["kyb.ownerName"]=e),placeholder:"请输入姓名",maxlength:"50"},null,8,["modelValue"])]),_:1}),l(r,{label:"国籍",prop:"kyb.ownerCountry"},{default:a(()=>[l(R,{type:"region","exist-china":!0,modelValue:t(u)["kyb.ownerCountry"],"onUpdate:modelValue":o[12]||(o[12]=e=>t(u)["kyb.ownerCountry"]=e),placeholder:"请选择国籍"},null,8,["modelValue"])]),_:1}),l(r,{label:"证件类型",prop:"kyb.ownerIDType"},{default:a(()=>[l(I,{modelValue:t(u)["kyb.ownerIDType"],"onUpdate:modelValue":o[13]||(o[13]=e=>t(u)["kyb.ownerIDType"]=e),placeholder:"请选择证件类型"},{default:a(()=>[(c(),y(g,null,D(B,e=>l(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"证件号码",prop:"kyb.ownerID"},{default:a(()=>[l(w,{modelValue:t(u)["kyb.ownerID"],"onUpdate:modelValue":o[14]||(o[14]=e=>t(u)["kyb.ownerID"]=e),placeholder:"请输入证件号码",maxlength:"50"},null,8,["modelValue"])]),_:1}),l(r,{label:"证件照片",prop:"kyb.ownerIDFile"},{default:a(()=>[l(S,{defaultImgUrl:"",modelValue:t(u)["kyb.ownerIDFile"],"onUpdate:modelValue":o[15]||(o[15]=e=>t(u)["kyb.ownerIDFile"]=e),id:"ownerIDFile",ext:"img"},null,8,["modelValue"]),Fe]),_:1}),l(r,null,{default:a(()=>[n("div",Ce,[l(T,{type:"primary",class:"mt-60 mb-24",onClick:o[16]||(o[16]=e=>Q(t(E)))},{default:a(()=>[f("提交认证 ")]),_:1}),n("div",{class:"auth-wait cursor-pointer",onClick:U},"稍后完善")])]),_:1})]),_:1},8,["model","rules"]))]))])]),n("a",Oe,[l(X,{name:"icon-lianxikefu",size:"18px",class:"mr-6"}),f(" 联系客服 ")]),l(Z,{modelValue:O.value,"onUpdate:modelValue":o[17]||(o[17]=e=>O.value=e)},null,8,["modelValue"])])])}}}),Je=ae(Be,[["__scopeId","data-v-c9ae1ca2"]]);export{Je as default};
