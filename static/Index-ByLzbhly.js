import{l as ae,aL as Ve,Z as I,aE as _e,r as w,aK as ge,b as Y,ah as g,m as c,p as _,U as e,O as a,q as t,T as v,u as S,S as U,R as G,F as oe,aF as ne,aG as se,M as q,a7 as ve,d as ye,ap as we,a8 as ke,P as Ae}from"./vue-C87Wc4A0.js";import{_ as de}from"./empty-BiNgvBdS.js";import{u as Ce}from"./useTable-CVQ-UVVt.js";import{F as fe}from"./Index-BU8kA-XB.js";import{g as xe,c as me}from"./index-Cwe4D9Ts.js";import{u as Se,b as Ne,a as Ue,e as Ie,f as Te}from"./index-DYQLPh63.js";import{w as le,k as Re,_ as re}from"./index-c78MVIZI.js";import{b as $e}from"./validate-JA1bY0wI.js";import{V as X}from"./index-BZHf1ii5.js";import{C as De,D as Ee}from"./Delete-BgrM9xes.js";import{E as D,n as Pe}from"./element-CD5rsoqi.js";import{s as pe,_ as Fe}from"./Index.vue_vue_type_script_setup_true_lang-BhDJDWBy.js";import"./LIKU-logo-CHqxCLOK.js";import"//at.alicdn.com/t/c/font_4557022_0o7l3b0t8egq.js";import"./vxe-sm_XFqm0.js";const k=C=>(ne("data-v-aa021cde"),C=C(),se(),C),qe={key:0,class:"base-box detail-box"},Le={class:"detail-line"},Be=k(()=>t("span",{class:"detail-line-title"},"谷歌验证器",-1)),ze={key:0,class:"detail-line-value"},We={key:1,class:"detail-line-value"},He={class:"detail-line"},Me=k(()=>t("span",{class:"detail-line-title"},"注册时间",-1)),Ge={class:"detail-line-value"},Oe={class:"detail-line"},Ke=k(()=>t("span",{class:"detail-line-title"},"最后登录时间",-1)),je={key:0,class:"detail-line-value"},Ze={key:1,class:"detail-line-value"},Je={class:"detail-line"},Qe=k(()=>t("span",{class:"detail-line-title"},"最后登录IP",-1)),Xe={key:0,class:"detail-line-value"},Ye={key:1,class:"detail-line-value"},et={class:"flex-center w-full mt-30"},tt=k(()=>t("div",{class:"flex-center flex-col h-full",style:{height:"300px"}},[t("span",null,[t("img",{src:de,alt:""})]),t("span",{class:"custom-empty-text"},"暂无数据")],-1)),lt={key:0,class:"verificated flex-center"},at={key:1,class:"not-verificated flex-center"},ot={key:0},nt={key:1,class:"lockout-status-text"},st=k(()=>t("div",{class:"flex-center flex-col h-full",style:{height:"300px"}},[t("span",null,[t("img",{src:de,alt:""})]),t("span",{class:"custom-empty-text"},"暂无数据")],-1)),dt={key:0},rt={key:1},ut={class:"create-settlement-account-btn flex-1 flex-center"},it={key:1,class:"base-box detail-box"},ct=k(()=>t("div",{class:"flex-center w-full settlement-account-detail-title"},"结算账户详情",-1)),mt={key:0},pt={class:"settlement-account-detail-line"},_t=k(()=>t("span",{class:"settlement-account-field"},"结算币种：",-1)),gt={class:"settlement-account-value item-value"},vt={class:"settlement-account-detail-line"},ft=k(()=>t("span",{class:"settlement-account-field"},"银行国家/地区：",-1)),bt={class:"settlement-account-value item-value"},ht={class:"settlement-account-detail-line"},Vt={key:0,class:"settlement-account-field"},yt={key:1,class:"settlement-account-field"},wt={key:2,class:"settlement-account-field"},kt={class:"settlement-account-value item-value"},At={key:0,class:"settlement-account-detail-line"},Ct=k(()=>t("span",{class:"settlement-account-field"},"美元银行账号：",-1)),xt={class:"settlement-account-value item-value"},St={class:"settlement-account-detail-line"},Nt=k(()=>t("span",{class:"settlement-account-field"},"结算账户名称：",-1)),Ut={class:"settlement-account-value item-value"},It={class:"settlement-account-detail-line"},Tt=k(()=>t("span",{class:"settlement-account-field"},"收款人地址：",-1)),Rt={class:"settlement-account-value item-value"},$t=k(()=>t("div",{class:"enterprise-label mb-30"},"企业信息",-1)),Dt={class:"settlement-account-detail-line"},Et=k(()=>t("span",{class:"settlement-account-field"},"城市：",-1)),Pt={class:"settlement-account-value item-value"},Ft={class:"settlement-account-detail-line"},qt=k(()=>t("span",{class:"settlement-account-field"},"州/省：",-1)),Lt={class:"settlement-account-value item-value"},Bt={class:"settlement-account-detail-line"},zt=k(()=>t("span",{class:"settlement-account-field"},"邮编：",-1)),Wt={class:"settlement-account-value item-value"},Ht={key:1},Mt={class:"settlement-account-detail-line"},Gt=k(()=>t("span",{class:"settlement-account-field"},"结算币种：",-1)),Ot={class:"settlement-account-value item-value"},Kt={class:"settlement-account-detail-line"},jt=k(()=>t("span",{class:"settlement-account-field"},"USDT 钱包地址：",-1)),Zt={class:"settlement-account-value item-value"},Jt={class:"settlement-account-detail-line"},Qt=k(()=>t("span",{class:"settlement-account-field"},"钱包名称/备注：",-1)),Xt={class:"settlement-account-value item-value"},Yt={class:"flex-center w-full mt-30 settlement-account-return-btn"},el=ae({__name:"Detail",props:Ve({id:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const T=(m,n,r)=>{n===""||$e(n)?r():r(new Error("密码格式错误"))},x=(m,n,r)=>{n===""?r():n!==p.password?r(new Error("两次输入的密码不一致")):r()},L=C,h=I({id:"",agentName:"",nameCode:"",currency:"",payWayName:"",multiply:"",timezone:"",wallet:"",callback:"",payChannel:"",seq:"",email:"",remark:"",account:"",createdAt:"",lastLoginIP:"",lastLoginTime:"",isEnabled:"",isEnableGoogleAuth:""}),p=I({id:"",userId:"",agentName:"",isEnabled:!0,password:"",rePassword:"",remark:"",challengeResult:""}),V=I({agentName:[{required:!0,message:"请输入代理名称",trigger:"blur"}],password:[{required:!1,validator:T,trigger:"change"}],rePassword:[{required:!1,validator:x,trigger:"change"}]});_e();const f=w(null),s=w(null),A=w(null),B=ge(C,"modelValue"),N=w(!0),z=w(!1),E=w(!1),W=w(),K=w("agentInfo"),P=w(""),H=async m=>{m&&(await m.validate((n,r)=>{if(n)try{Se(p).then(()=>{D.success("保存成功")}).catch(o=>{D.error("操作失败"),console.error(o)})}catch(o){console.error(o)}else console.error("error submit!",r)}),p.challengeResult="")},j=()=>{const m={agentId:L.id,pageNo:1,pageSize:15},n=new URLSearchParams(Object.entries(m)).toString();Ue(n).then(r=>{r.data.results&&(s.value=r.data.results)}).catch(r=>{console.error(r)})},M=()=>{const m=[];m.push({columnName:"luAgent",value:L.id}),xe({searchItems:m}).then(r=>{A.value=Re(r.data.rows)}).catch(r=>{console.error(r)})},b=(m,n)=>{m.paneName==="relativeSites"&&!s.value&&j(),m.paneName==="settlementAccount"&&!A.value&&M()},l=m=>{P.value=m.currency,f.value=m,N.value=!1},i=m=>{N.value=!0},d=()=>{E.value=!0},Z=m=>m==="1"?"正常":"禁用",F=m=>m==="1"?"已认证":"未认证",R=async()=>{const m={id:L.id,account:"yes"},n=new URLSearchParams(Object.entries(m)).toString();Ne(n).then(r=>{h.email=r.data.email,h.isEnableGoogleAuth=r.data.isEnableGoogleAuth,h.createdAt=r.data.createdAt,h.lastLoginIP=r.data.lastLoginIP,h.lastLoginTime=r.data.lastLoginTime,p.id=r.data.id,p.userId=r.data.userId,p.agentName=r.data.agentName,p.remark=r.data.remark,p.isEnabled=r.data.isEnabled}).catch(r=>{console.error(r)})},J=()=>{z.value=!0};return Y(B,m=>{m?R():(K.value="agentInfo",s.value=null,A.value=null,N.value=!0)}),(m,n)=>{var ce;const r=g("el-input"),o=g("el-form-item"),y=g("el-switch"),Q=g("el-button"),be=g("el-form"),ee=g("el-tab-pane"),$=g("el-table-column"),ie=g("el-table"),he=g("el-tabs");return c(),_(oe,null,[e(De,{modelValue:z.value,"onUpdate:modelValue":n[0]||(n[0]=u=>z.value=u),id:m.id,role:"agent"},null,8,["modelValue","id"]),e(Ee,{modelValue:E.value,"onUpdate:modelValue":n[1]||(n[1]=u=>E.value=u),id:(ce=f.value)==null?void 0:ce.id,role:"agent"},null,8,["modelValue","id"]),e(fe,{modelValue:B.value,"onUpdate:modelValue":n[11]||(n[11]=u=>B.value=u),title:"代理设置"},{default:a(()=>[N.value?(c(),_("div",qe,[e(he,{modelValue:K.value,"onUpdate:modelValue":n[10]||(n[10]=u=>K.value=u),class:"modal-tabs",onTabClick:b},{default:a(()=>[e(ee,{label:"账户信息",name:"agentInfo"},{default:a(()=>[e(be,{ref_key:"agentFormRef",ref:W,"label-position":"top",rules:V,"label-width":"auto",model:p,class:"mt-24"},{default:a(()=>[e(o,{prop:"email",label:"登录邮箱"},{default:a(()=>[e(r,{modelValue:h.email,"onUpdate:modelValue":n[2]||(n[2]=u=>h.email=u),placeholder:"请输入登录邮箱",maxlength:"50",disabled:""},null,8,["modelValue"])]),_:1}),e(o,{prop:"agentName",label:"代理名称"},{default:a(()=>[e(r,{modelValue:p.agentName,"onUpdate:modelValue":n[3]||(n[3]=u=>p.agentName=u),placeholder:"请输入代理名称",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(o,{prop:"password",label:"密码"},{default:a(()=>[e(r,{modelValue:p.password,"onUpdate:modelValue":n[4]||(n[4]=u=>p.password=u),placeholder:"请输入密码",type:"password",minlength:"8",maxlength:"100"},null,8,["modelValue"])]),_:1}),e(o,{prop:"rePassword",label:"确认密码"},{default:a(()=>[e(r,{modelValue:p.rePassword,"onUpdate:modelValue":n[5]||(n[5]=u=>p.rePassword=u),placeholder:"请再次确认密码",type:"password",minlength:"8",maxlength:"100"},null,8,["modelValue"])]),_:1}),e(o,{prop:"remark",label:"代理备注"},{default:a(()=>[e(r,{modelValue:p.remark,"onUpdate:modelValue":n[6]||(n[6]=u=>p.remark=u),placeholder:"备注信息仅管理员可见",type:"textarea",rows:3,maxlength:"50"},null,8,["modelValue"])]),_:1}),e(o,{prop:"isEnabled",label:"账号状态"},{default:a(()=>[e(y,{modelValue:p.isEnabled,"onUpdate:modelValue":n[7]||(n[7]=u=>p.isEnabled=u),"inline-prompt":"","active-text":"正常","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(X,{modelValue:p.challengeResult,"onUpdate:modelValue":n[8]||(n[8]=u=>p.challengeResult=u)},null,8,["modelValue"]),t("div",Le,[Be,h.isEnableGoogleAuth?(c(),_("span",ze,"已启用")):(c(),_("span",We,"未启用"))]),t("div",He,[Me,t("span",Ge,v(S(le)(h.createdAt)),1)]),t("div",Oe,[Ke,h.lastLoginTime!="0001-01-01 00:00:00"?(c(),_("span",je,v(S(le)(h.lastLoginTime)),1)):(c(),_("span",Ze,"无"))]),t("div",Je,[Qe,h.lastLoginIP?(c(),_("span",Xe,v(h.lastLoginIP),1)):(c(),_("span",Ye,"无"))]),e(o,null,{default:a(()=>[t("div",et,[e(Q,{type:"primary",onClick:n[9]||(n[9]=u=>H(W.value))},{default:a(()=>[U("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])]),_:1}),e(ee,{label:"关联站点",name:"relativeSites"},{default:a(()=>[e(ie,{data:s.value,style:{width:"100%"}},{empty:a(()=>[tt]),default:a(()=>[e($,{prop:"merchant",label:"站点名称","min-width":"160"}),e($,{prop:"isVerificated",label:"认证状态","min-width":"100"},{default:a(u=>[u.row.isVerificated==="1"?(c(),_("div",lt,v(F(u.row.isVerificated)),1)):(c(),_("div",at,v(F(u.row.isVerificated)),1))]),_:1}),e($,{prop:"currency",label:"收款币种","min-width":"100"},{default:a(u=>{var te;return[U(v((te=u.row.currency)==null?void 0:te.toString().toUpperCase()),1)]}),_:1}),e($,{prop:"isEnabled",label:"状态","min-width":"100"},{default:a(u=>[u.row.isEnabled==="1"?(c(),_("div",ot,v(Z(u.row.isEnabled)),1)):(c(),_("div",nt,v(Z(u.row.isEnabled)),1))]),_:1}),e($,{prop:"agentRate",label:"佣金费率","min-width":"100"})]),_:1},8,["data"])]),_:1}),e(ee,{label:"结算账户",name:"settlementAccount"},{default:a(()=>[e(ie,{data:A.value,style:{width:"100%"}},{empty:a(()=>[st]),default:a(()=>[e($,{prop:"accountName",label:"结算账户名称","min-width":"120"}),e($,{prop:"currency",label:"账户币种","min-width":"120"},{default:a(u=>[u.row.currency==="USD"?(c(),_("div",dt,"USD (美元)")):u.row.currency==="USDT"?(c(),_("div",rt,"USDT (TRC20)")):G("",!0)]),_:1}),e($,{prop:"account",label:"收款账户","min-width":"240"},{default:a(u=>[t("div",null,v(u.row.account||u.row.bankAddress),1)]),_:1}),e($,{label:"操作","min-width":"130"},{default:a(u=>[e(Q,{link:"",type:"primary",size:"small",onClick:te=>l(u.row)},{default:a(()=>[U(" 管理 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t("div",ut,[e(Q,{type:"primary",onClick:J},{default:a(()=>[U("新增结算账户")]),_:1})])]),_:1})]),_:1},8,["modelValue"])])):(c(),_("div",it,[ct,P.value=="USD"?(c(),_("div",mt,[t("div",pt,[_t,t("span",gt,v(f.value.currency),1)]),t("div",vt,[ft,t("span",bt,v(f.value.region),1)]),t("div",ht,[f.value.bankName==="IBAN"?(c(),_("span",Vt,"IBAN：")):G("",!0),f.value.bankName==="ACH"?(c(),_("span",yt,"ACH 汇款路由号：")):G("",!0),f.value.bankName==="SWIFT"?(c(),_("span",wt,"SWIFT Code：")):G("",!0),t("span",kt,v(f.value.bankAddress),1)]),f.value.bankName==="ACH"||f.value.bankName==="SWIFT"?(c(),_("div",At,[Ct,t("span",xt,v(f.value.account),1)])):G("",!0),t("div",St,[Nt,t("span",Ut,v(f.value.accountName),1)]),t("div",It,[Tt,t("span",Rt,v(f.value.companyAddress),1)]),$t,t("div",Dt,[Et,t("span",Pt,v(f.value.city),1)]),t("div",Ft,[qt,t("span",Lt,v(f.value.province),1)]),t("div",Bt,[zt,t("span",Wt,v(f.value.postCode),1)])])):(c(),_("div",Ht,[t("div",Mt,[Gt,t("span",Ot,v(f.value.currency),1)]),t("div",Kt,[jt,t("span",Zt,v(f.value.account),1)]),t("div",Jt,[Qt,t("span",Xt,v(f.value.accountName),1)])])),t("div",Yt,[e(Q,{onClick:i},{default:a(()=>[U("返回")]),_:1})]),t("div",{class:"flex-center w-full del-btn cursor-pointer mb-20",onClick:d},"删除结算账户 ")]))]),_:1},8,["modelValue"])],64)}}}),tl=re(el,[["__scopeId","data-v-aa021cde"]]),O=C=>(ne("data-v-df14a232"),C=C(),se(),C),ll={class:""},al={class:"flex-center w-full mt-30"},ol={class:"mt-24"},nl=O(()=>t("div",{class:"select-currency"},[t("span",{class:"select-currency-flag"},"*"),t("span",{class:"select-currency-title"},"选择结算币种")],-1)),sl=O(()=>t("div",{class:"input-tips"},"国际银行账户号码 (IBAN) : 前 2 位应为国家代码",-1)),dl=O(()=>t("div",{class:"input-tips"},"9 位数美国银行代码",-1)),rl=O(()=>t("div",{class:"input-tips"},"不支持 PO 或 GPO Box 类型的地址",-1)),ul=O(()=>t("div",{class:"enterprise-label mt-40 mb-30"},"企业信息",-1)),il=O(()=>t("div",{class:"input-tips"},"PIN Code / PostCode / ZIP Code",-1)),cl={class:"flex-center w-full mt-30"},ml=O(()=>t("div",{class:"trc-account-tips"},"请务必正确填写收款 USDT (TRC20)波场钱包地址，如填写有误导致资产丢失，平台既不负责！",-1)),pl={class:"flex-center w-full mt-30"},_l=ae({__name:"Create",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(C){_e();const T=w("USD"),x=w(""),L=[{value:"USD",label:"USD (美元)"},{value:"USDT",label:"USDT (TRC20)"}],h=ge(C,"modelValue"),p=w(),V=I({agentName:"",email:"",isEnabled:!0,password:"",rePassword:"",remark:"",challengeResult:""}),f=I({agentName:[{required:!0,message:"请输入代理名称",trigger:"blur"}],email:[{required:!0,message:"请输入登录邮箱",trigger:"blur",type:"email"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],rePassword:[{required:!0,message:"请输入确认密码",trigger:"change"}]}),s=I({id:"",role:"",currency:"USD",type:"10",region:"",bankName:"",bankAddress:"",account:"",accountName:"",companyAddress:"",city:"",province:"",postCode:"",remark:"",challengeResult:""}),A=I({id:"",role:"",currency:"USDT",type:"20",currency:"",account:"",accountName:"",challengeResult:""}),B=I({account:[{required:!0,message:"请输入USDT (TRC20)钱包地址",trigger:"blur"}],accountName:[{required:!0,message:"请输入钱包名称/备注",trigger:"blur"}]}),N=I({region:[{required:!0,message:"请选择银行账户开户国家",trigger:"change"}],bankName:[{required:!0,message:"请输入银行名称",trigger:"blur"}],bankAddress:[{required:!0,message:"请输入SWIFT Code",trigger:"blur"}],account:[{required:!0,message:"请输入美元银行账号",trigger:"blur"}],accountName:[{required:!0,message:"请输入结算账户名称",trigger:"blur"}],companyAddress:[{required:!0,message:"请输入收款人地址",trigger:"blur"}],city:[{required:!0,message:"请输入城市",trigger:"blur"}],province:[{required:!0,message:"请输入州/省",trigger:"blur"}],postCode:[{required:!0,message:"请输入邮编",trigger:"blur"}]}),z=w(),E=w(),W=async b=>{b&&(await b.validate((l,i)=>{if(l)try{Ie(V).then(d=>{x.value=d.data.id,D.success("保存成功")}).catch(d=>{D.error("操作失败"),console.error(d)})}catch(d){console.error(d)}else console.error("error submit!",i)}),V.challengeResult="")},K=async b=>{b&&(await b.validate((l,i)=>{if(l)try{s.currency=T,s.role="agent",s.id=x.value,me(s).then(()=>{D.success("保存成功")}).catch(d=>{D.error("操作失败"),console.error(d)})}catch(d){console.error(d)}else console.error("error submit!",i)}),s.challengeResult="")},P=async b=>{b&&(await b.validate((l,i)=>{if(l)try{A.currency=T,A.role="agent",s.id=x.value,me(A).then(()=>{D.success("保存成功")}).catch(d=>{D.error("操作失败"),console.error(d)})}catch(d){console.error(d)}else console.error("error submit!",i)}),A.challengeResult="")},H=w("agentInfo"),j=(b,l)=>{},M=b=>{if(b==="请输入IBAN"){N.bankAddress=[{required:!0,message:b,trigger:"blur"}];return}if(b==="请输入ACH 汇款路由号"){N.bankAddress=[{required:!0,message:b,trigger:"blur"}];return}N.bankAddress=[{required:!0,message:"请输入SWIFT Code",trigger:"blur"}]};return Y(h,b=>{b||(H.value="agentInfo")}),Y(s,b=>{pe[b.region]||D.error("当前国家/地区不支持结算"),s.bankName=pe[b.region]},{deep:!0}),(b,l)=>{const i=g("el-input"),d=g("el-form-item"),Z=g("el-switch"),F=g("el-button"),R=g("el-form"),J=g("el-tab-pane"),m=g("el-option"),n=g("el-select"),r=g("el-tabs");return c(),q(fe,{modelValue:h.value,"onUpdate:modelValue":l[29]||(l[29]=o=>h.value=o),title:"创建新代理"},{default:a(()=>[e(r,{modelValue:H.value,"onUpdate:modelValue":l[28]||(l[28]=o=>H.value=o),class:"base-box detail-box tabs-title",onTabClick:j},{default:a(()=>[e(J,{label:"账户信息",name:"agentInfo"},{default:a(()=>[t("div",ll,[e(R,{ref_key:"agentFormRef",ref:p,"label-position":"top",rules:f,"label-width":"auto",model:V,class:"mt-24"},{default:a(()=>[e(d,{prop:"email",label:"登录邮箱"},{default:a(()=>[e(i,{modelValue:V.email,"onUpdate:modelValue":l[0]||(l[0]=o=>V.email=o),placeholder:"请输入登录邮箱",maxlength:"50"},null,8,["modelValue"])]),_:1}),e(d,{prop:"agentName",label:"代理名称"},{default:a(()=>[e(i,{modelValue:V.agentName,"onUpdate:modelValue":l[1]||(l[1]=o=>V.agentName=o),placeholder:"请输入代理名称",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(d,{prop:"password",label:"密码"},{default:a(()=>[e(i,{modelValue:V.password,"onUpdate:modelValue":l[2]||(l[2]=o=>V.password=o),placeholder:"请输入密码",type:"password",minlength:"8",maxlength:"100"},null,8,["modelValue"])]),_:1}),e(d,{prop:"rePassword",label:"确认密码"},{default:a(()=>[e(i,{modelValue:V.rePassword,"onUpdate:modelValue":l[3]||(l[3]=o=>V.rePassword=o),placeholder:"请再次确认密码",type:"password",minlength:"8",maxlength:"100"},null,8,["modelValue"])]),_:1}),e(d,{prop:"remark",label:"代理备注"},{default:a(()=>[e(i,{modelValue:V.remark,"onUpdate:modelValue":l[4]||(l[4]=o=>V.remark=o),placeholder:"备注信息仅管理员可见",type:"textarea",rows:3,maxlength:"50"},null,8,["modelValue"])]),_:1}),e(d,{prop:"isEnabled",label:"账号状态"},{default:a(()=>[e(Z,{modelValue:V.isEnabled,"onUpdate:modelValue":l[5]||(l[5]=o=>V.isEnabled=o),"inline-prompt":"","active-text":"正常","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(X,{modelValue:V.challengeResult,"onUpdate:modelValue":l[6]||(l[6]=o=>V.challengeResult=o)},null,8,["modelValue"]),e(d,null,{default:a(()=>[t("div",al,[e(F,{type:"primary",onClick:l[7]||(l[7]=o=>W(p.value))},{default:a(()=>[U("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])])]),_:1}),e(J,{label:"结算账户",name:"settlementAccount"},{default:a(()=>[t("div",ol,[nl,e(n,{class:"select-currency-input",modelValue:T.value,"onUpdate:modelValue":l[8]||(l[8]=o=>T.value=o)},{default:a(()=>[(c(),_(oe,null,ve(L,o=>e(m,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),T.value==="USD"?(c(),q(R,{key:0,ref_key:"settlementAccountFormRef",ref:z,"label-position":"top",rules:N,"label-width":"auto",model:s},{default:a(()=>[e(d,{prop:"region",label:"银行国家/地区"},{default:a(()=>[e(Fe,{modelValue:s.region,"onUpdate:modelValue":l[9]||(l[9]=o=>s.region=o),type:"settlementRegion",placeholder:"请选择银行账户开户国家"},null,8,["modelValue"])]),_:1}),s.bankName==="IBAN"?(c(),q(d,{key:0,prop:"bankAddress",label:"IBAN"},{default:a(()=>[e(i,{modelValue:s.bankAddress,"onUpdate:modelValue":l[10]||(l[10]=o=>s.bankAddress=o),placeholder:"请输入IBAN",maxlength:"32",onBlur:l[11]||(l[11]=o=>M("请输入IBAN"))},null,8,["modelValue"]),sl]),_:1})):s.bankName==="ACH"?(c(),q(d,{key:1,prop:"bankAddress",label:"ACH 汇款路由号"},{default:a(()=>[e(i,{modelValue:s.bankAddress,"onUpdate:modelValue":l[12]||(l[12]=o=>s.bankAddress=o),placeholder:"请输入ACH 汇款路由号",maxlength:"9",onBlur:l[13]||(l[13]=o=>M("请输入ACH 汇款路由号"))},null,8,["modelValue"]),dl]),_:1})):s.bankName==="SWIFT"?(c(),q(d,{key:2,prop:"bankAddress",label:"SWIFT Code"},{default:a(()=>[e(i,{modelValue:s.bankAddress,"onUpdate:modelValue":l[14]||(l[14]=o=>s.bankAddress=o),placeholder:"请输入SWIFT Code",maxlength:"11",onBlur:l[15]||(l[15]=o=>M("请输入SWIFT Code"))},null,8,["modelValue"])]),_:1})):G("",!0),s.bankName==="SWIFT"||s.bankName==="ACH"?(c(),q(d,{key:3,prop:"account",label:"美元银行账号"},{default:a(()=>[e(i,{modelValue:s.account,"onUpdate:modelValue":l[16]||(l[16]=o=>s.account=o),placeholder:"请输入美元银行账号",maxlength:"64"},null,8,["modelValue"])]),_:1})):G("",!0),e(d,{prop:"accountName",label:"结算账户名称"},{default:a(()=>[e(i,{modelValue:s.accountName,"onUpdate:modelValue":l[17]||(l[17]=o=>s.accountName=o),placeholder:"请输入结算账户名称",maxlength:"60"},null,8,["modelValue"])]),_:1}),e(d,{prop:"companyAddress",label:"收款人地址"},{default:a(()=>[e(i,{modelValue:s.companyAddress,"onUpdate:modelValue":l[18]||(l[18]=o=>s.companyAddress=o),placeholder:"请输入收款人地址",maxlength:"60"},null,8,["modelValue"]),rl]),_:1}),ul,e(d,{prop:"city",label:"城市"},{default:a(()=>[e(i,{modelValue:s.city,"onUpdate:modelValue":l[19]||(l[19]=o=>s.city=o),placeholder:"请输入城市",maxlength:"60"},null,8,["modelValue"])]),_:1}),e(d,{prop:"province",label:"州/省"},{default:a(()=>[e(i,{modelValue:s.province,"onUpdate:modelValue":l[20]||(l[20]=o=>s.province=o),placeholder:"请输入州/省",maxlength:"60"},null,8,["modelValue"])]),_:1}),e(d,{prop:"postCode",label:"邮编"},{default:a(()=>[e(i,{modelValue:s.postCode,"onUpdate:modelValue":l[21]||(l[21]=o=>s.postCode=o),placeholder:"请输入邮编",maxlength:"60"},null,8,["modelValue"]),il]),_:1}),e(X,{modelValue:s.challengeResult,"onUpdate:modelValue":l[22]||(l[22]=o=>s.challengeResult=o)},null,8,["modelValue"]),e(d,null,{default:a(()=>[t("div",cl,[e(F,{type:"primary",onClick:l[23]||(l[23]=o=>K(z.value))},{default:a(()=>[U("保存")]),_:1})])]),_:1})]),_:1},8,["rules","model"])):(c(),q(R,{key:1,ref_key:"trcSettlementAccountFormRef",ref:E,"label-position":"top",rules:B,"label-width":"auto",model:A},{default:a(()=>[e(d,{prop:"account",label:"USDT钱包地址"},{default:a(()=>[e(i,{modelValue:A.account,"onUpdate:modelValue":l[24]||(l[24]=o=>A.account=o),placeholder:"请输入USDT (TRC20)钱包地址",maxlength:"64"},null,8,["modelValue"]),ml]),_:1}),e(d,{prop:"accountName",label:"钱包名称/备注"},{default:a(()=>[e(i,{modelValue:A.accountName,"onUpdate:modelValue":l[25]||(l[25]=o=>A.accountName=o),placeholder:"请输入钱包名称备注",maxlength:"30"},null,8,["modelValue"])]),_:1}),e(X,{modelValue:A.challengeResult,"onUpdate:modelValue":l[26]||(l[26]=o=>A.challengeResult=o)},null,8,["modelValue"]),e(d,null,{default:a(()=>[t("div",pl,[e(F,{type:"primary",onClick:l[27]||(l[27]=o=>P(E.value))},{default:a(()=>[U("保存 ")]),_:1})])]),_:1})]),_:1},8,["rules","model"]))])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),gl=re(_l,[["__scopeId","data-v-df14a232"]]),ue=C=>(ne("data-v-27d72735"),C=C(),se(),C),vl={class:"top-section base-box flex items-center mt-20"},fl={class:"pr-80"},bl=ue(()=>t("div",{class:"item-title"},"代理总数",-1)),hl={class:"item-price mt-10 mb-8"},Vl={class:"order base-box p-36 ml-40 mr-40 mt-20"},yl={class:"top-search"},wl={class:"table-wrapper"},kl=ue(()=>t("div",{class:"flex-center flex-col h-full",style:{height:"300px"}},[t("span",null,[t("img",{src:de,alt:""})]),t("span",{class:"custom-empty-text"},"暂无数据")],-1)),Al={key:0},Cl={key:1,class:"lockout-status-text"},xl={class:"flex"},Sl=["onClick"],Nl={class:"pager-wrapper mt-32 flex justify-between"},Ul=ue(()=>t("div",null,null,-1)),Il=ae({__name:"Index",setup(C){const T=w(),x=I({isEnabled:"",agentName:""}),L=[{label:"禁用",value:"0"},{label:"正常",value:"1"}],h=w(!1),p=w(!1);w({});const V=w(0),f=w(""),{paginationData:s,handleCurrentChange:A,handleSizeChange:B,tableData:N,queryTableData:z,loadingRef:E,handSearch:W,reset:K}=Ce({searchData:{},url:"/agent/list",method:"post"});function P(){const l=[];x.isEnabled&&l.push({columnName:"isEnabled",value:x.isEnabled}),x.agentName&&l.push({columnName:"agentName",value:x.agentName}),W(l)}function H(){x.agentName="",x.isEnabled=""}const j=l=>l==="1"?"正常":"禁用",M=async()=>{try{const l=await Te();V.value=l.data.totalCount}catch(l){console.error(l)}},b=l=>{f.value=l,h.value=!0};return ye(()=>{P(),M()}),Y(h,l=>{l||W()}),(l,i)=>{const d=g("el-button"),Z=g("el-option"),F=g("el-select"),R=g("el-form-item"),J=g("el-input"),m=g("el-form"),n=g("el-table-column"),r=g("el-pagination"),o=we("loading");return c(),_("div",null,[t("div",vl,[t("div",fl,[bl,t("div",hl,v(V.value),1)]),e(d,{type:"primary",onClick:i[0]||(i[0]=y=>p.value=!0),class:"flex-center create-button"},{default:a(()=>[U(" 创建新代理")]),_:1})]),t("div",Vl,[t("div",yl,[e(m,{inline:!0,model:x,class:"demo-form-inline"},{default:a(()=>[e(R,null,{default:a(()=>[e(F,{modelValue:x.isEnabled,"onUpdate:modelValue":i[1]||(i[1]=y=>x.isEnabled=y),placeholder:"全部账户状态",clearable:""},{default:a(()=>[(c(),_(oe,null,ve(L,y=>e(Z,{key:y.value,label:y.label,value:y.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(R,null,{default:a(()=>[e(J,{modelValue:x.agentName,"onUpdate:modelValue":i[2]||(i[2]=y=>x.agentName=y),placeholder:"请输入代理名称",onKeyup:ke(P,["enter"]),maxlength:"30",clearable:""},null,8,["modelValue"])]),_:1}),e(R,null,{default:a(()=>[e(d,{class:"mr-20",onClick:H},{default:a(()=>[U("重置")]),_:1}),e(d,{type:"primary",onClick:P},{default:a(()=>[U("查询")]),_:1})]),_:1})]),_:1},8,["model"])]),t("div",wl,[Ae((c(),q(S(Pe),{ref_key:"multipleTableRef",ref:T,data:S(N),style:{width:"100%"}},{empty:a(()=>[kl]),default:a(()=>[e(n,{prop:"id",label:"代理ID","min-width":"180"}),e(n,{prop:"agentName",label:"代理名称","min-width":"180"}),e(n,{prop:"merchantNum",label:"关联站点","min-width":"100"}),e(n,{prop:"isEnabled",label:"账号状态","min-width":"100"},{default:a(y=>[y.row.isEnabled==="1"?(c(),_("div",Al,v(j(y.row.isEnabled)),1)):(c(),_("div",Cl,v(j(y.row.isEnabled)),1))]),_:1}),e(n,{prop:"remark",label:"备注","min-width":"240"}),e(n,{prop:"createdAt",label:"注册时间","min-width":"180"},{default:a(y=>[t("div",null,v(S(le)(y.row.createdAt)),1)]),_:1}),e(n,{prop:"action",label:"操作",fixed:"right","min-width":"100"},{default:a(y=>[t("div",xl,[t("div",{class:"action-btn cursor-pointer mr-20",onClick:Q=>b(y.row.id)},"代理设置",8,Sl)])]),_:1})]),_:1},8,["data"])),[[o,S(E)]])]),t("div",Nl,[Ul,e(r,{background:"",layout:S(s).layout,"page-sizes":S(s).pageSizes,total:S(s).total,"page-size":S(s).pageSize,currentPage:S(s).currentPage,onSizeChange:S(B),onCurrentChange:S(A)},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])]),e(tl,{modelValue:h.value,"onUpdate:modelValue":i[3]||(i[3]=y=>h.value=y),id:f.value},null,8,["modelValue","id"]),e(gl,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=y=>p.value=y)},null,8,["modelValue"])])])}}}),Ol=re(Il,[["__scopeId","data-v-27d72735"]]);export{Ol as default};
