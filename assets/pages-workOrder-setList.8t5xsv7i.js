import{d as a,r as e,B as s,b2 as t,E as r,D as n,a2 as l,c as o,w as d,i as u,o as c,a as p,u as i,P as g,h as m,g as f,t as _,Q as P,W as k,a1 as v,_ as y}from"./index-CK4DGatK.js";import{D as h}from"./vuedraggable.umd.DwpyKIuh.js";import{u as w}from"./useQuery.3dd8K18V.js";const K=y(a({__name:"setList",setup(a){const y=w(),K=e([]);s((a=>{t({title:"REPAIR_SHOP"==a.pageKey?"设置修理厂":"设置整备项"})})),r((()=>{C()}));const C=()=>{(new n).showLoading("加载中"),uni.$u.http.get("/product/carProductPrepare/getPrepareInfo",{params:{prepareInfo:y.value.pageKey}}).then((a=>{K.value=a.data,l()}))},O=()=>{uni.$u.http.put("/product/carProductPrepare/saveChanges",{infoType:y.value.pageKey,names:K.value.map((a=>({id:a.id,name:a.name})))}).then((()=>{v()}))};return(a,e)=>{const s=g,t=m,r=u,n=k;return c(),o(r,{class:"page pend-page"},{default:d((()=>[p(r,{class:"content"},{default:d((()=>[p(i(h),{handle:".mover",list:i(K),animation:"300",forceFallback:!1},{item:d((({element:e,index:n})=>[p(r,{class:"set-list"},{default:d((()=>[p(r,null,{default:d((()=>[p(s,{src:"./static/workOrder/close.png",onClick:a=>(a=>{K.value.splice(a,1)})(n)},null,8,["onClick"]),p(t,null,{default:d((()=>[f(_(e.name),1)])),_:2},1024)])),_:2},1024),p(r,null,{default:d((()=>[p(s,{src:"./static/workOrder/edit.png",onClick:s=>("toPage"in a?a.toPage:i(P))(`/pages/workOrder/addSet?pageKey=${i(y).pageKey}&id=${e.id}&name=${e.name}`)},null,8,["onClick"]),p(s,{src:"./static/workOrder/more.png",class:"mover"})])),_:2},1024)])),_:2},1024)])),_:1},8,["list"])])),_:1}),p(r,{class:"bottom-btn"},{default:d((()=>[p(n,{onClick:e[0]||(e[0]=e=>("toPage"in a?a.toPage:i(P))(`/pages/workOrder/addSet?pageKey=${i(y).pageKey}`))},{default:d((()=>[f(_("REPAIR_SHOP"==i(y).pageKey?"添加修理厂":"添加整备项"),1)])),_:1}),p(n,{class:"save-btn",onClick:O},{default:d((()=>[f("保存修改")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-cc3e0e28"]]);export{K as default};
