import{d as a,r as e,E as l,c as t,w as u,i as n,o as d,a as s,b as r,y as f,g as c,h as i,t as _,u as p,F as o,e as m,n as y,W as P,Q as h,_ as v}from"./index-CK4DGatK.js";import{U as A}from"./UploadFile.BBuXxkzB.js";import{u as g}from"./useQuery.3dd8K18V.js";import"./dev.3CSglq9A.js";import"./index.BP9c-u7r.js";import"./image.DobRSNlT.js";import"./play.dJbs8fP_.js";import"./vuedraggable.umd.DwpyKIuh.js";const I=v(a({__name:"replyPayment",setup(a){const v=g(),I=e({});l((()=>{const a=v.value.id;N(a)}));const N=a=>{uni.$u.http.get("/product/paymentOrder/queryAppPaymentInfo",{params:{purchaseId:a}}).then((a=>{I.value=a.data}))},k=()=>{const{purchasePrice:a,paidPrice:e,paidingPrice:l,unpaidPrice:t,payee:u,bankCardNumber:n,openBank:d}=I.value,s={id:v.value.id,purchasePrice:a,paidPrice:e,paidingPrice:l,unpaidPrice:t,payee:u,bankCardNumber:n,openBank:d};h(`/pages/purchaseOrder/addPayment?params=${JSON.stringify(s)}`)};return(a,e)=>{const l=i,h=n,v=P;return d(),t(h,{class:"page f-c-s"},{default:u((()=>[s(h,{class:"content"},{default:u((()=>{var a,e,n;return[s(h,{class:"statis"},{default:u((()=>[s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[s(l,null,{default:u((()=>[c(_(p(I).purchasePrice||0),1)])),_:1}),c("万")])),_:1}),s(h,null,{default:u((()=>[c("采购金额")])),_:1})])),_:1}),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[s(l,null,{default:u((()=>[c(_(p(I).paidPrice||0),1)])),_:1}),c("元")])),_:1}),s(h,null,{default:u((()=>[c("已付金额")])),_:1})])),_:1})])),_:1}),(null==(e=null==(a=p(I))?void 0:a.paymentInfoList)?void 0:e.length)?(d(),r(o,{key:0},[s(h,null,{default:u((()=>{var a;return[c("付款单（"+_(null==(a=p(I))?void 0:a.paymentInfoList.length)+"）",1)]})),_:1}),(d(!0),r(o,null,m(null==(n=p(I))?void 0:n.paymentInfoList,((a,e)=>(d(),t(h,{class:"list-item",key:e},{default:u((()=>[s(h,{class:"head"},{default:u((()=>[s(h,null,{default:u((()=>[c("付款单")])),_:1}),s(h,{class:"status"},{default:u((()=>[c(_(a.paymentStatusName),1)])),_:2},1024)])),_:2},1024),s(h,{class:"info"},{default:u((()=>[s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("申请付款金额(元)")])),_:1}),s(h,null,{default:u((()=>[c(_(a.paymentPrice||"-"),1)])),_:2},1024)])),_:2},1024),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("款项")])),_:1}),s(h,null,{default:u((()=>[c(_(a.paymentTypeName||"-"),1)])),_:2},1024)])),_:2},1024),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("付款方式")])),_:1}),s(h,null,{default:u((()=>[c(_(a.paymentMethodName||"-"),1)])),_:2},1024)])),_:2},1024),2!=a.paymentMethod?(d(),t(h,{key:0},{default:u((()=>[s(h,null,{default:u((()=>[c("是否本人")])),_:1}),s(h,null,{default:u((()=>[c(_(1==a.isSelf?"是":"否"),1)])),_:2},1024)])),_:2},1024)):f("",!0),1==a.paymentMethod?(d(),t(h,{key:1},{default:u((()=>[s(h,null,{default:u((()=>[c("银行卡号")])),_:1}),s(h,null,{default:u((()=>{var a;return[c(_((null==(a=p(I))?void 0:a.bankCardNumber)||"-"),1)]})),_:1})])),_:1})):f("",!0),1==a.paymentMethod?(d(),t(h,{key:2},{default:u((()=>[s(h,null,{default:u((()=>[c("户名")])),_:1}),s(h,null,{default:u((()=>{var a;return[c(_((null==(a=p(I))?void 0:a.payee)||"-"),1)]})),_:1})])),_:1})):f("",!0),1==a.paymentMethod?(d(),t(h,{key:3},{default:u((()=>[s(h,null,{default:u((()=>[c("银行")])),_:1}),s(h,null,{default:u((()=>{var a;return[c(_((null==(a=p(I))?void 0:a.openBank)||"-"),1)]})),_:1})])),_:1})):f("",!0),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("付款单号")])),_:1}),s(h,null,{default:u((()=>[c(_(a.paymentId||"-"),1)])),_:2},1024)])),_:2},1024),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("申请人")])),_:1}),s(h,null,{default:u((()=>[c(_(a.applyUser||"-"),1)])),_:2},1024)])),_:2},1024),s(h,null,{default:u((()=>[s(h,null,{default:u((()=>[c("申请时间")])),_:1}),s(h,null,{default:u((()=>[c(_(a.applyTime||"-"),1)])),_:2},1024)])),_:2},1024),s(h,{class:"img-boxs"},{default:u((()=>{var e,l;return[s(h,{class:"name"},{default:u((()=>[c("附件")])),_:1}),(null==(e=a.carAttachmentInfo.filter((a=>"PRICING_PAYMENT_APPLY"==a.carAttachmentType)))?void 0:e.length)?(d(),t(h,{key:0,class:y(["val",{single:1==(null==(l=a.carAttachmentInfo.filter((a=>"PRICING_PAYMENT_APPLY"==a.carAttachmentType)))?void 0:l.length)}])},{default:u((()=>[s(A,{ref_for:!0,ref:"imageRef",carAttachmentType:"PRICING_PAYMENT_APPLY",accept:"all","max-count":9,uploadList:a.carAttachmentInfo.filter((a=>"PRICING_PAYMENT_APPLY"==a.carAttachmentType)),detail:"1"},null,8,["uploadList"])])),_:2},1032,["class"])):(d(),t(h,{key:1},{default:u((()=>[c("-")])),_:1}))]})),_:2},1024),"noPayment"!=a.paymentStatus?(d(),t(h,{key:4,class:"img-boxs"},{default:u((()=>{var e,l;return[s(h,{class:"name"},{default:u((()=>[c("付款凭证")])),_:1}),(null==(e=a.carAttachmentInfo.filter((a=>"PAYMENT_VOUCHER"==a.carAttachmentType)))?void 0:e.length)?(d(),t(h,{key:0,class:y(["val",{single:1==(null==(l=a.carAttachmentInfo.filter((a=>"PAYMENT_VOUCHER"==a.carAttachmentType)))?void 0:l.length)}])},{default:u((()=>[s(A,{ref_for:!0,ref:"imageRef",carAttachmentType:"PAYMENT_VOUCHER",accept:"all","max-count":99,uploadList:a.carAttachmentInfo.filter((a=>"PAYMENT_VOUCHER"==a.carAttachmentType)),detail:1},null,8,["uploadList"])])),_:2},1032,["class"])):(d(),t(h,{key:1},{default:u((()=>[c("-")])),_:1}))]})),_:2},1024)):f("",!0)])),_:2},1024)])),_:2},1024)))),128))],64)):f("",!0)]})),_:1}),s(h,{class:"bottom-btn"},{default:u((()=>[s(v,{class:"save-btn w_100",onClick:k},{default:u((()=>[c("添加付款申请")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-ae0e3aff"]]);export{I as default};
