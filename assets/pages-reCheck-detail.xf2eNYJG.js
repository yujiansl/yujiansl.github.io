import{d as e,A as a,r as t,a9 as l,B as s,E as r,X as o,Y as n,Z as c,a2 as u,x as i,c as d,y as m,u as f,w as p,i as h,I as _,ae as y,K as v,af as C,M as g,o as I,a as k,b as P,g as T,t as b,z as N,F as x,e as L,f as U,P as A,h as w,R as F,n as V,S as D,Q as E,aj as O,k as R,W as S,aw as B,U as $,a0 as j,s as M,a8 as q,D as K,an as H,_ as Y}from"./index-CK4DGatK.js";import{_ as Q}from"./camera.DDOxr1zP.js";import{_ as J}from"./card.DgxD9h_f.js";import{_ as Z}from"./photo.s3UpHRXl.js";import{_ as z,a as G,P as W}from"./PdfUpload.y0MxPCSK.js";import{N as X}from"./NavBar.DSs5OGCU.js";import{D as ee}from"./listItem.Dt6aurFb.js";import{C as ae}from"./cityPicker.CpzGRyNT.js";import{C as te}from"./colorPop.BYxZ8ilX.js";import{U as le}from"./UploadFile.BBuXxkzB.js";import{u as se}from"./useQuery.3dd8K18V.js";import{a as re,p as oe}from"./index.HDA2F_3Q.js";import{i as ne}from"./isNil.aV-w2MPu.js";import"./time._VqwKl0d.js";import"./car_default.CyENNAub.js";import"./dev.3CSglq9A.js";import"./index.BP9c-u7r.js";import"./image.DobRSNlT.js";import"./play.dJbs8fP_.js";import"./vuedraggable.umd.DwpyKIuh.js";const ce=Y(e({__name:"detail",setup(e){const Y=se(),ce=a(),ue=t({}),ie=t({}),de=t({}),me=t(-1),fe=t({imageList:[]}),pe=l({carAttachments:[],transferTime:"",productNature:null,copyright:"Personal",registryNumber:"",brandModel:"",interiorColorValue:"",interiorColor:"",purchaseTaxAmount:"",retrofittingAmount:"",addressProvinceId:"",addressCityId:"",addressCountryId:"",address:"",registerProvinceId:"",registerCityId:"",registerFullCityName:"",carConditionLevel:"1",choicenessFlag:1,carCommentIn:"",carCommentOut:"",keyNum:"",engineNo:""}),he=l({auditOpinion:"",reInspectionRefusePhotos:[]}),_e=t([{name:"通过",value:1}]),ye=t([]),ve=t([]),Ce=t([]),ge=t([]),Ie=t([{value:"是",key:1},{value:"否",key:0}]),ke=t([]),Pe=t(0),Te=t(),be=t();s((()=>{1!=Y.value.status&&(me.value=1),Le(),Ue(),Ae()})),r((()=>{o("pickData"),n("pickData",(e=>{const{key:a,subKey:t}=e;pe[t]=a})),o("addPhoto"),n("addPhoto",(e=>{pe.carAttachments=e})),o("useTemplate"),n("useTemplate",(e=>{"nei"===e.queryData.type?(pe.carCommentIn=(pe.carCommentIn??"")+" "+e.data.content,pe.carCommentIn&&pe.carCommentIn.length>1e3&&(pe.carCommentIn=pe.carCommentIn.slice(0,1e3))):"wai"===e.queryData.type&&(pe.carCommentOut=(pe.carCommentOut??"")+" "+e.data.content,pe.carCommentOut&&pe.carCommentOut.length>1e3&&(pe.carCommentOut=pe.carCommentOut.slice(0,1e3)))}))}));const Ne=async(e,a)=>{const t=await B(e[0]);"DCD_FILE"==a?ue.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:e[0].attachmentUrl,attachmentName:e[0].attachmentName,carAttachmentType:"DCD_FILE"}:"V268_FILE"==a?ie.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:e[0].attachmentUrl,attachmentName:e[0].attachmentName,carAttachmentType:"V268_FILE"}:de.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:e[0].attachmentUrl,attachmentName:e[0].attachmentName,carAttachmentType:"CBS_FILE"}},xe=async e=>{$.chooseFile({type:"application/pdf",count:1,recordType:"Normal"}).then((async a=>{const t=await B(a[0]);"DCD_FILE"==e?ue.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:a[0].attachmentUrl,attachmentName:a[0].attachmentName,carAttachmentType:"DCD_FILE"}:"V268_FILE"==e?ie.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:a[0].attachmentUrl,attachmentName:a[0].attachmentName,carAttachmentType:"V268_FILE"}:de.value={attachmentId:t.id,attachmentType:"Pdf",attachmentUrl:a[0].attachmentUrl,attachmentName:a[0].attachmentName,carAttachmentType:"CBS_FILE"}}))},Le=()=>{c({title:"加载中"}),uni.$u.http.get("product/purchaseOrder/queryAllDetails",{params:{id:Y.value.purchaseId}}).then((e=>{if(1==Y.value.status){const{dcdReportPhotos:a,v268ReportPhotos:t,cbsReportPhotos:l}=e.data;pe.carAttachments=e.data.carAttachmentInfo||[],ue.value=(null==a?void 0:a.filter((e=>"DCD_FILE"==e.carAttachmentType))[0])||{},ie.value=(null==t?void 0:t.filter((e=>"V268_FILE"==e.carAttachmentType))[0])||{},de.value=(null==l?void 0:l.filter((e=>"CBS_FILE"==e.carAttachmentType))[0])||{}}else{const{violationPhotos:a,vehicleLicenseFrontPhoto:t,vehicleLicenseBackPhoto:l,registerCertificatePhotos:s,nameplatePhoto:r,idCardFrontPhoto:o,idCardBackPhoto:n,carPricingPhotos:c,dcdReportPhotos:u,v268ReportPhotos:i,cbsReportPhotos:d,payAttachmentInfo:m,purchaseOther:f,repaymentList:p,insuranceList:h,maintenanceList:_}=e.data,y=(e,a)=>{if(!e)return[];return Array.isArray(e)?(null==e?void 0:e.map((e=>({id:e.attachmentId,videoCover:e.videoCover,attachmentId:e.attachmentId,attachmentUrl:e.attachmentUrl,carAttachmentType:a}))))||[]:[{id:e.attachmentId,videoCover:e.videoCover,attachmentId:e.attachmentId,attachmentUrl:e.attachmentUrl,carAttachmentType:a}]};pe.carAttachments=[...y(a,"VIOLATION"),...y(t,"VehicleLicense"),...y(l,"VehicleLicenseBack"),...y(s,"RegisterCertificate"),...y(r,"Nameplate"),...y(o,"ID_CARD_FRONT"),...y(n,"ID_CARD_BACK"),...y(m,"PRICING_PAYMENT_APPLY"),...y(f,"purchaseOther"),...y(p,"repayment"),...y(_,"maintenance"),...y(h,"insurance"),...y(u,"DCD_FILE"),...y(i,"V268_FILE"),...y(d,"CBS_FILE"),...c.map((e=>({...e,attachmentType:"Picture",carAttachmentType:"CLASSIFY_OTHER_PHOTOS"})))]}fe.value=e.data;const{remarkInner:a,transferTime:t,interiorColor:l,keyNum:s,engineNo:r}=e.data;pe.carCommentIn=a,pe.transferTime=t,pe.interiorColor=l,pe.keyNum=s,pe.engineNo=r,pe.carConditionLevel=fe.value.carConditionLevel,1==Y.value.status&&(me.value=fe.value.reInspectionFlag||0),we(),u()}))},Ue=()=>{uni.$u.http.get("product/common/getInitSelect",{params:{}}).then((e=>{const a=e.data;ye.value=a.CarProductUseNature,ve.value=a.CopyrightEnum,ge.value=a.CarConditionLevelEnum})),uni.$u.http.get("admin/dict/type/transferTime",{params:{}}).then((e=>{be.value=e.data.map((e=>({value:e.label,key:e.value})))}))},Ae=()=>{uni.$u.http.get("/product/carProductApp/getArea",{params:{}}).then((e=>{ke.value=e.data}))},we=()=>{uni.$u.http.get("product/common/model/color",{params:{carModelId:fe.value.carModelId}}).then((e=>{var a;const t=e.data;Ce.value=[...t.interiorColors,{name:"其他颜色",value:""}],pe.interiorColorValue=null==(a=Ce.value.filter((e=>e.name==pe.interiorColor))[0])?void 0:a.value}))},Fe=e=>{pe.interiorColor=e.bodyColor,pe.interiorColorValue=e.bodyColorValue},Ve=i((()=>Re(ye.value,pe.productNature))),De=i((()=>Re(ve.value,pe.copyright))),Ee=i((()=>Re(ge.value,pe.carConditionLevel))),Oe=i((()=>Re(be.value,pe.transferTime))),Re=(e,a)=>{const t=null==e?void 0:e.filter((e=>e.key==a));return(null==t?void 0:t.length)?t[0].value:"请选择"},Se=i((()=>{var e,a;return(null==(a=null==(e=pe.carAttachments)?void 0:e.filter((e=>["Cover","APPEARANCE","TRIM","OTHER_PHOTOS"].includes(e.carAttachmentType)))[0])?void 0:a.attachmentUrl)||""})),Be=i((()=>{var e,a;return(null==(a=null==(e=pe.carAttachments)?void 0:e.filter((e=>["VehicleLicense","VehicleLicenseBack","RegisterCertificate","Nameplate","ID_CARD_FRONT","ID_CARD_BACK","VIOLATION"].includes(e.carAttachmentType)))[0])?void 0:a.attachmentUrl)||""})),$e=i((()=>{var e,a;return(null==(a=null==(e=pe.carAttachments)?void 0:e.filter((e=>"CLASSIFY_OTHER_PHOTOS"==e.carAttachmentType))[0])?void 0:a.attachmentUrl)||""})),je=(e,a,t)=>{M((()=>{pe[a]=re(e,t)}))},Me=e=>{const{provinceId:a,cityId:t,countryId:l}=e;pe.addressProvinceId=a,pe.addressCityId=t,pe.addressCountryId=l},qe=e=>{const{provinceId:a,cityId:t}=e;pe.registerProvinceId=a,pe.registerCityId=t},Ke=e=>{q("carAttachments",JSON.stringify(pe.carAttachments));let a=`/pages/carManage/photoManage?type=${e}&detail=${Y.value.status}`;Y.value.pushType&&"qw"==Y.value.pushType&&(a+="&pushType=qw"),E(a)},He=(e,a,t,l)=>{E(`/pages/carManage/pagePicker?title=${e}&list=${JSON.stringify(a)}&key=${t}&subKey=${l}`)},Ye=e=>{switch(e){case"Level1":case"1":return"1级";case"Level2":case"2":return"2级";case"Level3":case"3":return"3级";case"Level4":case"4":return"4级";case"Level5":case"5":return"5级";default:return"-"}},Qe=()=>{var e,a,t;const l=(null==(a=null==(e=Te.value)?void 0:e.getFileFields())?void 0:a.all.map((e=>e.id)))||[];if(0==me.value&&!l.length)return void(new K).showToast("请上传图片");if(1==me.value&&!(null==(t=pe.carAttachments.filter((e=>"Cover"==e.carAttachmentType)))?void 0:t.length))return void(new K).showToast("请至少上传一张外观图片");if(1==me.value&&!pe.transferTime)return void(new K).showToast("请输入过户次数");(new K).showLoading("提交中");const s=ue.value.attachmentUrl?[ue.value]:[],r=ie.value.attachmentUrl?[ie.value]:[],o=de.value.attachmentUrl?[de.value]:[];pe.carAttachments=[...pe.carAttachments.filter((e=>!["DCD_FILE","V268_FILE","CBS_FILE"].includes(e.carAttachmentType))),...s,...r,...o];const n=1==me.value?{purchaseOrderRecheckDTO:pe}:{...he,reInspectionRefusePhotos:l},c={taskId:Y.value.taskId,taskDefinitionKey:Y.value.taskDefinitionKey,auditOpinion:me.value,primaryKey:Y.value.primaryKey,...n};uni.$u.http.post("/product/carPricingFlowable/taskTurnover",c).then((()=>{H()})).catch((e=>{oe(e.message)}))};return(e,a)=>{const t=h,l=_(v("up-radio"),y),s=_(v("up-radio-group"),C),r=A,o=w,n=F,c=_(v("up-icon"),g),u=O,i=S;return f(fe).id?(I(),d(t,{key:0,class:"page pend-page"},{default:p((()=>[f(ce).needShowQw()?m("",!0):(I(),d(X,{key:0,title:"车辆复检"})),k(t,{class:"content"},{default:p((()=>[k(ee,{item:f(fe),isDetail:!0},null,8,["item"]),1==f(Y).status?(I(),d(t,{key:0,class:"form-box"},{default:p((()=>[k(t,{class:"form-item radio"},{default:p((()=>[k(t,null,{default:p((()=>[T("复检结果")])),_:1}),T(" "+b(1==f(fe).reInspectionFlag?"通过":"不通过"),1)])),_:1})])),_:1})):(I(),d(t,{key:1,class:"form-box write"},{default:p((()=>[k(t,{class:"form-item radio"},{default:p((()=>[k(t,null,{default:p((()=>[T("复检结果")])),_:1}),k(t,null,{default:p((()=>[k(s,{modelValue:f(me),"onUpdate:modelValue":a[0]||(a[0]=e=>N(me)?me.value=e:null)},{default:p((()=>[(I(!0),P(x,null,L(f(_e),((e,a)=>(I(),d(l,{customStyle:{marginRight:"20px"},activeColor:"#ff7525",key:a,label:e.name,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),0==f(me)?(I(),d(t,{key:0,class:"tips"},{default:p((()=>[T("复检不通过流程将转向评估师("+b(f(fe).appraiser)+")",1)])),_:1})):m("",!0)])),_:1})])),_:1})])),_:1})),1==f(me)?(I(),P(x,{key:2},[k(t,{class:"photo-box"},{default:p((()=>[k(t,{class:"title"},{default:p((()=>[T("照片资料")])),_:1}),k(t,{class:"photo-item"},{default:p((()=>[k(t,{onClick:a[1]||(a[1]=e=>Ke(0)),style:U(`background-image:url(${f(Se)})`)},{default:p((()=>[k(t,{class:"must"},{default:p((()=>[T("*")])),_:1}),k(r,{src:Q}),k(o,null,{default:p((()=>[T("车辆照片")])),_:1})])),_:1},8,["style"]),k(t,{onClick:a[2]||(a[2]=e=>Ke(1)),style:U(`background-image:url(${f(Be)})`)},{default:p((()=>[k(r,{src:J}),k(o,null,{default:p((()=>[T("证件照片")])),_:1})])),_:1},8,["style"]),k(t,{onClick:a[3]||(a[3]=e=>Ke(2)),style:U(`background-image:url(${f($e)})`)},{default:p((()=>[k(r,{src:Z}),k(o,null,{default:p((()=>[T("其他照片")])),_:1})])),_:1},8,["style"])])),_:1})])),_:1}),k(t,{class:"form-box"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("VIN码")])),_:1}),T(" "+b(f(fe).vinNo),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("品牌车型")])),_:1}),k(t,{class:"t_r"},{default:p((()=>[k(o,null,{default:p((()=>[T(b(f(fe).carBrandName),1)])),_:1}),T(b(f(fe).carSeriesName)+b(f(fe).carModelName),1)])),_:1})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("表显里程")])),_:1}),T(" "+b(f(fe).mileage||0)+"万公里 ",1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>{var e;return[k(t,null,{default:p((()=>[T("首次上牌")])),_:1}),T(" "+b((null==(e=f(fe).registerDate)?void 0:e.substring(0,7))||"-"),1)]})),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("车身颜色")])),_:1}),T(" "+b(f(fe).bodyColor||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("车牌号")])),_:1}),T(" "+b(f(fe).plateNo||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("钥匙数量")])),_:1}),T(" "+b(f(ne)(f(fe).keyNum)?"-":`${f(fe).keyNum}把`),1)])),_:1})])),_:1}),1==f(Y).status?(I(),d(t,{key:0,class:"form-box"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("发动机号")])),_:1}),T(" "+b(f(fe).engineNo||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("过户次数")])),_:1}),T(" "+b(f(fe).transferTimeName||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("使用性质")])),_:1}),T(" "+b(f(fe).productNatureName||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("所有权归属")])),_:1}),T(" "+b(f(fe).copyrightName||"-"),1)])),_:1})])),_:1})):(I(),d(t,{key:1,class:"form-box write"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("发动机号")])),_:1}),k(n,{modelValue:f(pe).engineNo,"onUpdate:modelValue":a[4]||(a[4]=e=>f(pe).engineNo=e),placeholder:"请输入",class:"car-input"},null,8,["modelValue"])])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[k(o,null,{default:p((()=>[T("*")])),_:1}),T(" 过户次数 ")])),_:1}),k(t,{class:"f-b-c box-flex",onClick:a[5]||(a[5]=e=>He("过户次数",f(be),f(pe).transferTime,"transferTime"))},{default:p((()=>[k(o,{class:V(["info",{placeholder:"请选择"==f(Oe)}])},{default:p((()=>[T(b(f(Oe)),1)])),_:1},8,["class"]),k(c,{name:"arrow-right"})])),_:1})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("使用性质")])),_:1}),k(t,{class:"f-b-c box-flex",onClick:a[6]||(a[6]=e=>He("使用性质",f(ye),f(pe).productNature,"productNature"))},{default:p((()=>[k(o,{class:V({placeholder:"请选择"==f(Ve)})},{default:p((()=>[T(b(f(Ve)),1)])),_:1},8,["class"]),k(c,{name:"arrow-right"})])),_:1})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("所有权归属")])),_:1}),k(t,{class:"f-b-c box-flex",onClick:a[8]||(a[8]=e=>He("所有权归属",f(ve),f(pe).copyright,"copyright"))},{default:p((()=>[k(o,{class:V({placeholder:"请选择"==f(De)})},{default:p((()=>[T(b(f(De)),1)])),_:1},8,["class"]),k(t,{class:"has-close"},{default:p((()=>[f(pe).copyright?(I(),d(o,{key:0,onClick:a[7]||(a[7]=D((e=>f(pe).copyright=null),["stop"]))},{default:p((()=>[k(c,{name:"close-circle-fill",color:"#999"})])),_:1})):m("",!0),k(c,{name:"arrow-right"})])),_:1})])),_:1})])),_:1})])),_:1})),k(t,{class:"form-box"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>{var e;return[k(t,null,{default:p((()=>[T("出厂日期")])),_:1}),T(" "+b((null==(e=f(fe).factoryDate)?void 0:e.substring(0,7))||"-"),1)]})),_:1})])),_:1}),1==f(Y).status?(I(),d(t,{key:2,class:"form-box"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("登记证号")])),_:1}),T(" "+b(f(fe).registryNumber||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("厂牌型号")])),_:1}),T(" "+b(f(fe).brandModel||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("内饰颜色")])),_:1}),T(" "+b(f(fe).interiorColor||"-"),1)])),_:1}),k(t,{class:"form-item disable-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("新车指导价")])),_:1}),T(" "+b(f(fe).guidePrice?f(fe).guidePrice+"万元":"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("购置税")])),_:1}),T(" "+b(f(fe).purchaseTaxAmount?f(fe).purchaseTaxAmount+"万元":"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("加装费用")])),_:1}),T(" "+b(f(fe).retrofittingAmount?f(fe).retrofittingAmount+"元":"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("所在地")])),_:1}),T(" "+b(f(fe).address||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("归属地")])),_:1}),T(" "+b(f(fe).registerFullCityName||"-"),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("车辆等级")])),_:1}),T(" "+b(Ye(f(fe).carConditionLevel)),1)])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("精品车")])),_:1}),T(" "+b(1==f(fe).choicenessFlag?"是":"否"),1)])),_:1}),k(t,{class:V(["form-item",{"flex-col":f(ue).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("懂车帝检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(ue))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(ue).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[9]||(a[9]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(ue).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),0==+f(Y).status?(I(),d(c,{key:0,class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[10]||(a[10]=e=>ue.value={})})):m("",!0)],64)):m("",!0),f(ue).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:V(["upload-btn-wrap",{disabledBtn:1==f(Y).status}]),onClick:a[11]||(a[11]=()=>{1!=f(Y).status&&xe("DCD_FILE")})},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1},8,["class"])),!f(ue).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"DCD_FILE",disabled:1==f(Y).status,onSuccess:Ne},null,8,["disabled"])):m("",!0)]})),_:1})])),_:1},8,["class"]),k(t,{class:V(["form-item",{"flex-col":f(ie).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("268V检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(ie))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(ie).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[12]||(a[12]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(ie).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),0==+f(Y).status?(I(),d(c,{key:0,class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[13]||(a[13]=e=>ie.value={})})):m("",!0)],64)):m("",!0),f(ie).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:V(["upload-btn-wrap",{disabledBtn:1==f(Y).status}]),onClick:a[14]||(a[14]=()=>{1!=f(Y).status&&xe("V268_FILE")})},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1},8,["class"])),!f(ie).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"V268_FILE",disabled:1==f(Y).status,onSuccess:Ne},null,8,["disabled"])):m("",!0)]})),_:1})])),_:1},8,["class"]),k(t,{class:V(["form-item",{"flex-col":f(de).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("查博士检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(de))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(de).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[15]||(a[15]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(de).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),0==+f(Y).status?(I(),d(c,{key:0,class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[16]||(a[16]=e=>de.value={})})):m("",!0)],64)):m("",!0),f(de).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:V(["upload-btn-wrap",{disabledBtn:1==f(Y).status}]),onClick:a[17]||(a[17]=()=>{1!=f(Y).status&&xe("CBS_FILE")})},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1},8,["class"])),!f(de).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"CBS_FILE",disabled:1==f(Y).status,onSuccess:Ne},null,8,["disabled"])):m("",!0)]})),_:1})])),_:1},8,["class"])])),_:1})):(I(),d(t,{key:3,class:"form-box write"},{default:p((()=>[k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("登记证号")])),_:1}),k(n,{modelValue:f(pe).registryNumber,"onUpdate:modelValue":a[18]||(a[18]=e=>f(pe).registryNumber=e),placeholder:"请输入",class:"car-input"},null,8,["modelValue"])])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("厂牌型号")])),_:1}),k(n,{modelValue:f(pe).brandModel,"onUpdate:modelValue":a[19]||(a[19]=e=>f(pe).brandModel=e),placeholder:"请输入",class:"car-input"},null,8,["modelValue"])])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("内饰颜色")])),_:1}),k(t,{class:"f-b-c box-flex",onClick:a[20]||(a[20]=e=>(f(pe).interiorColorValue,f(pe).interiorColor,void(fe.value.carBrandId?Pe.value.open():j({title:"请先选择车型",icon:"none"}))))},{default:p((()=>[k(t,{class:V([{none:!f(pe).interiorColor},"f-r-a"])},{default:p((()=>[f(pe).interiorColorValue?(I(),d(o,{key:0,class:"color-box",style:U(`background:${f(pe).interiorColorValue}`)},null,8,["style"])):m("",!0),T(" "+b(f(pe).interiorColorValue?f(pe).interiorColor:f(pe).interiorColor?"其他颜色":"请选择"),1)])),_:1},8,["class"]),k(c,{name:"arrow-right"})])),_:1})])),_:1}),k(t,{class:"form-item disable-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("新车指导价")])),_:1}),k(n,{modelValue:f(fe).guidePrice,"onUpdate:modelValue":a[21]||(a[21]=e=>f(fe).guidePrice=e),type:"digit",placeholder:"请输入",disabled:"",class:"car-input"},null,8,["modelValue"]),T(" 万元 ")])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("购置税")])),_:1}),k(n,{modelValue:f(pe).purchaseTaxAmount,"onUpdate:modelValue":a[22]||(a[22]=e=>f(pe).purchaseTaxAmount=e),type:"digit",placeholder:"请输入",onInput:a[23]||(a[23]=e=>je(e.detail.value,"purchaseTaxAmount","wanyuan")),class:"car-input"},null,8,["modelValue"]),T(" 万元 ")])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("加装费用")])),_:1}),k(n,{modelValue:f(pe).retrofittingAmount,"onUpdate:modelValue":a[24]||(a[24]=e=>f(pe).retrofittingAmount=e),type:"number",placeholder:"请输入",maxlength:"7",onInput:a[25]||(a[25]=e=>je(e.detail.value,"retrofittingAmount","yuan")),class:"car-input"},null,8,["modelValue"]),T(" 元 ")])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("所在地")])),_:1}),k(ae,{class:"box-flex",areaData:f(ke),onSureCity:Me,cityInfo:{provinceId:f(pe).addressProvinceId,cityId:f(pe).addressCityId,countryId:f(pe).addressCountryId,fullCityName:f(pe).address}},null,8,["areaData","cityInfo"]),k(c,{name:"arrow-right"})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("归属地")])),_:1}),k(ae,{class:"box-flex",column:2,areaData:f(ke),onSureCity:qe,cityInfo:{provinceId:f(pe).registerProvinceId,cityId:f(pe).registerCityId,fullCityName:f(pe).registerFullCityName}},null,8,["areaData","cityInfo"]),k(c,{name:"arrow-right"})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("车辆等级")])),_:1}),k(t,{class:"f-b-c box-flex",onClick:a[26]||(a[26]=e=>He("车辆等级",f(ge),f(pe).carConditionLevel,"carConditionLevel"))},{default:p((()=>[k(o,{class:V({placeholder:"请选择"==f(Ee)&&f(fe).carConditionLevel})},{default:p((()=>[T(b("请选择"==f(Ee)&&f(fe).carConditionLevel?Ye(f(fe).carConditionLevel):f(Ee)),1)])),_:1},8,["class"]),k(c,{name:"arrow-right"})])),_:1})])),_:1}),k(t,{class:"form-item"},{default:p((()=>[k(t,null,{default:p((()=>[T("精品车")])),_:1}),k(t,{class:"tab-box"},{default:p((()=>[(I(!0),P(x,null,L(f(Ie),((e,a)=>(I(),d(o,{key:a,class:V({active:f(pe).choicenessFlag==e.key}),onClick:a=>f(pe).choicenessFlag=e.key},{default:p((()=>[T(b(e.value),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),k(t,{class:V(["form-item",{"flex-col":f(ue).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("懂车帝检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(ue))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(ue).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[27]||(a[27]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(ue).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),k(c,{class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[28]||(a[28]=e=>ue.value={})})],64)):m("",!0),f(ue).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:"upload-btn-wrap",onClick:a[29]||(a[29]=e=>xe("DCD_FILE"))},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1})),!f(ue).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"DCD_FILE",onSuccess:Ne})):m("",!0)]})),_:1})])),_:1},8,["class"]),k(t,{class:V(["form-item",{"flex-col":f(ie).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("268V检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(ie))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(ie).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[30]||(a[30]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(ie).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),k(c,{class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[31]||(a[31]=e=>ie.value={})})],64)):m("",!0),f(ie).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:"upload-btn-wrap",onClick:a[32]||(a[32]=e=>xe("V268_FILE"))},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1})),!f(ie).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"V268_FILE",onSuccess:Ne})):m("",!0)]})),_:1})])),_:1},8,["class"]),k(t,{class:V(["form-item",{"flex-col":f(de).attachmentUrl}])},{default:p((()=>[k(t,{style:{width:"220rpx !important"}},{default:p((()=>[T("查博士检测报告")])),_:1}),k(t,{class:"pdf-content"},{default:p((()=>{var l;return[(null==(l=f(de))?void 0:l.attachmentUrl)?(I(),P(x,{key:0},[k(t,{class:"f-r-a file-name"},{default:p((()=>[k(r,{class:"icon-pdf",src:z}),k(o,{class:"pdf-name"},{default:p((()=>[T(b(f(de).attachmentName||"检测报告"),1)])),_:1})])),_:1}),k(o,{class:"pdf-preview",onClick:a[33]||(a[33]=a=>("toPage"in e?e.toPage:f(E))(`/pages/carManage/pdf?url=${f(de).attachmentUrl}`))},{default:p((()=>[T("预览")])),_:1}),k(c,{class:"pdf-remove-icon",name:"close-circle-fill",color:"#999",onClick:a[34]||(a[34]=e=>de.value={})})],64)):m("",!0),f(de).attachmentUrl||f(Y).pushType?m("",!0):(I(),d(t,{key:1,class:"upload-btn-wrap",onClick:a[35]||(a[35]=e=>xe("CBS_FILE"))},{default:p((()=>[k(o,null,{default:p((()=>[T("上传PDF")])),_:1}),k(r,{class:"upload-btn-icon",src:G,mode:"aspectFill"})])),_:1})),!f(de).attachmentUrl&&f(Y).pushType&&"qw"==f(Y).pushType?(I(),d(W,{key:2,type:"CBS_FILE",onSuccess:Ne})):m("",!0)]})),_:1})])),_:1},8,["class"])])),_:1})),k(t,{class:"section-title"},{default:p((()=>[T("车况详情")])),_:1}),1==f(Y).status?(I(),d(t,{key:4,class:"form-box"},{default:p((()=>[k(t,{class:"form-textarea"},{default:p((()=>[k(t,{class:"area-title"},{default:p((()=>[T("车况(对内)")])),_:1}),k(t,{class:"word-warp"},{default:p((()=>[T(b(f(fe).carCommentIn||"-"),1)])),_:1})])),_:1}),k(t,{class:"form-textarea"},{default:p((()=>[k(t,{class:"area-title"},{default:p((()=>[T("车辆描述(对外)")])),_:1}),k(t,{class:"word-warp"},{default:p((()=>[T(b(f(fe).carCommentOut||"-"),1)])),_:1})])),_:1})])),_:1})):(I(),d(t,{key:5,class:"form-box write"},{default:p((()=>[k(t,{class:"form-textarea"},{default:p((()=>[k(t,{class:"flex-span"},{default:p((()=>[k(t,{class:"area-title"},{default:p((()=>[T("车况(对内)")])),_:1}),k(t,{class:"template-tag",onClick:a[36]||(a[36]=a=>("toPage"in e?e.toPage:f(E))("/pagesB/myTemplate/index?type=nei"))},{default:p((()=>[T("我的模版")])),_:1})])),_:1}),k(u,{modelValue:f(pe).carCommentIn,"onUpdate:modelValue":a[37]||(a[37]=e=>f(pe).carCommentIn=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),k(t,{class:"limit"},{default:p((()=>{var e;return[T(b((null==(e=f(pe).carCommentIn)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1}),k(t,{class:"form-textarea"},{default:p((()=>[R("div",{class:"flex-span"},[k(t,{class:"area-title"},{default:p((()=>[T("车辆描述(对外)")])),_:1}),k(t,{class:"template-tag",onClick:a[38]||(a[38]=a=>("toPage"in e?e.toPage:f(E))("/pagesB/myTemplate/index?type=wai"))},{default:p((()=>[T("我的模版")])),_:1})]),k(u,{modelValue:f(pe).carCommentOut,"onUpdate:modelValue":a[39]||(a[39]=e=>f(pe).carCommentOut=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),k(t,{class:"limit"},{default:p((()=>{var e;return[T(b((null==(e=f(pe).carCommentOut)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1})])),_:1}))],64)):(I(),P(x,{key:3},[1==f(Y).status?(I(),d(t,{key:0,class:"form-box"},{default:p((()=>[k(t,{class:"form-textarea"},{default:p((()=>[k(t,{class:"area-title"},{default:p((()=>[T("备注")])),_:1}),k(t,{class:"word-warp"},{default:p((()=>[T(b(f(fe).reInspectionRefuseRemark||"-"),1)])),_:1})])),_:1}),k(t,{class:"form-item photo-item"},{default:p((()=>{var e;return[k(t,null,{default:p((()=>[T("图片")])),_:1}),(null==(e=f(fe).reInspectionRefusePhotos)?void 0:e.length)?(I(),d(le,{key:0,ref:"PurchaseRef",carAttachmentType:"Purchase",accept:"all","max-count":99,uploadList:f(fe).reInspectionRefusePhotos,detail:f(Y).status},null,8,["uploadList","detail"])):(I(),d(o,{key:1},{default:p((()=>[T("-")])),_:1}))]})),_:1})])),_:1})):(I(),d(t,{key:1,class:"form-box write"},{default:p((()=>[k(t,{class:"form-textarea"},{default:p((()=>[k(t,{class:"area-title"},{default:p((()=>[T("备注")])),_:1}),k(u,{modelValue:f(he).auditOpinion,"onUpdate:modelValue":a[40]||(a[40]=e=>f(he).auditOpinion=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),k(t,{class:"limit"},{default:p((()=>{var e;return[T(b((null==(e=f(he).auditOpinion)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1}),k(t,{class:"form-item photo-item"},{default:p((()=>[k(t,null,{default:p((()=>[k(o,null,{default:p((()=>[T("*")])),_:1}),T("图片")])),_:1}),k(le,{ref_key:"ReinspectRef",ref:Te,carAttachmentType:"Reinspect",accept:"all","max-count":99,uploadList:f(he).reInspectionRefusePhotos},null,8,["uploadList"])])),_:1})])),_:1}))],64))])),_:1}),1!=f(Y).status?(I(),d(t,{key:1,class:"bottom-btn"},{default:p((()=>[k(i,{class:"save-btn",onClick:Qe},{default:p((()=>[T("确定")])),_:1})])),_:1})):m("",!0),k(te,{ref_key:"colorPop",ref:Pe,colorData:f(Ce),colorValue:f(pe).interiorColorValue,colorName:f(pe).interiorColor,onSureColor:Fe,title:"内饰颜色"},null,8,["colorData","colorValue","colorName"])])),_:1})):m("",!0)}}}),[["__scopeId","data-v-ae382571"]]);export{ce as default};
