import{d as e,r as a,E as l,Z as s,a2 as t,c as r,w as c,i as n,I as o,M as u,K as i,N as d,o as _,a as f,O as v,y as p,P as m,u as g,f as E,S as b,g as h,h as L,a5 as N,b as y,F as A,e as R,t as k,Q as C,ak as S,_ as O}from"./index-CK4DGatK.js";import{_ as I}from"./add.BenfLO0n.js";import{a as x,_ as P}from"./reserve_icon.CJLMV4ik.js";import{N as D}from"./NavBar.DSs5OGCU.js";import{u as F}from"./useSell.c71q6Fal.js";import"./index.DEPEwlq9.js";const T=O(e({__name:"index",setup(e){const O=F(),T=a([]),j=a([]);l((()=>{M()}));const M=()=>{s({title:"加载中"}),uni.$u.http.get("/product/carProductApp/orderNum",{params:{choicenessFlag:1}}).then((e=>{const a=e.data;T.value=[{label:"收款中",val:"PAYMENT_ING",count:a.reserved},{label:"收齐全款",val:"FULL_PAYMENT_RECEIVED",count:a.fullPaymentReceived},{label:"已取消",val:"CANCEL_ORDER",count:a.cancelOrder},{label:"审核中",val:"AUDIT_IN",count:a.auditIn},{label:"已预定",val:"RESERVE",count:a.reserve},{label:"待签署",val:"NO_SIGN",count:a.noSign},{label:"全部",val:"SALES_ORDER_ALL",count:a.orderAll}],t()})),uni.$u.http.get("/product/carProductApp/orderNum",{params:{choicenessFlag:0}}).then((e=>{const a=e.data;j.value=[{label:"收款中",val:"PAYMENT_ING",count:a.reserved},{label:"收齐全款",val:"FULL_PAYMENT_RECEIVED",count:a.fullPaymentReceived},{label:"已取消",val:"CANCEL_ORDER",count:a.cancelOrder},{label:"审核中",val:"AUDIT_IN",count:a.auditIn},{label:"已预定",val:"RESERVE",count:a.reserve},{label:"待签署",val:"NO_SIGN",count:a.noSign},{label:"全部",val:"SALES_ORDER_ALL",count:a.orderAll}],t()}))},w=(e,a)=>{C(`/pages/sells/sellList?type=${e}&isOrder=1&choicenessFlag=${a}`)},$=a(!1),V=a(0),G=()=>{const e=S();e.select("#screen").boundingClientRect(),e.selectViewport().scrollOffset((e=>{})),e.exec((function(e){V.value=e[0].top+80,$.value=!$.value}))},U=(e,a)=>{O.isSell="yes",C("reserve"==e?`/pages/carManage/carList?type=ON_SALE_ALL&isOrder=0&quick=reserve&choicenessFlag=${a}`:`/pages/carManage/carList?type=ON_SALE_ALL&isOrder=0&quick=sell&choicenessFlag=${a}`),$.value=!1},Y=a(!1);async function q(){Y.value=!0,await M(),setTimeout((()=>{Y.value=!1}),200)}return(e,a)=>{const l=L,s=n,t=m,C=o(i("up-icon"),u),S=N,O=d("permissionBtn");return _(),r(s,{class:"page f-c-s"},{default:c((()=>[f(D,null,{title:c((()=>[f(s,{class:"head-drop",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:c((()=>[f(l,{class:"name"},{default:c((()=>[h("销售订单")])),_:1})])),_:1})])),right:c((()=>[f(s,{class:"nav-right",id:"screen"},{default:c((()=>[v(f(t,{src:I,onClick:G},null,512),[[O,["product:add","product:info"]]]),g($)?(_(),r(s,{key:0,class:"model",onClick:a[5]||(a[5]=e=>$.value=!1)},{default:c((()=>[f(s,{class:"screen-cont f-c-s",onClick:a[4]||(a[4]=b((()=>{}),["stop"])),style:E({marginTop:g(V)+"rpx"})},{default:c((()=>[v((_(),r(s,{class:"item",onClick:a[0]||(a[0]=e=>U("reserve","1"))},{default:c((()=>[f(t,{src:x}),h("精品车预定")])),_:1})),[[O,["product:reserve"]]]),v((_(),r(s,{class:"item",onClick:a[1]||(a[1]=e=>U("sell","1"))},{default:c((()=>[f(t,{src:P}),h("精品车售出")])),_:1})),[[O,["product:directSale"]]]),v((_(),r(s,{class:"item",onClick:a[2]||(a[2]=e=>U("reserve","0"))},{default:c((()=>[f(t,{src:x}),h("特价车预定")])),_:1})),[[O,["product:reserve"]]]),v((_(),r(s,{class:"item",onClick:a[3]||(a[3]=e=>U("sell","0"))},{default:c((()=>[f(t,{src:P}),h("特价车售出")])),_:1})),[[O,["product:directSale"]]])])),_:1},8,["style"])])),_:1})):p("",!0)])),_:1})])),_:1}),f(S,{"scroll-y":"","refresher-enabled":!0,"refresher-triggered":g(Y),onRefresherrefresh:q,class:"scroll-view-box",style:{height:"100%"}},{default:c((()=>[f(s,{class:"main-box"},{default:c((()=>[f(s,{class:"title"},{default:c((()=>[f(s,null,{default:c((()=>[h("精品车销售订单")])),_:1})])),_:1}),f(s,{class:"inventory"},{default:c((()=>[(_(!0),y(A,null,R(g(T),((e,a)=>(_(),r(s,{key:a,onClick:a=>w(e.val,"1")},{default:c((()=>[f(s,null,{default:c((()=>[h(k(e.label),1)])),_:2},1024),f(s,null,{default:c((()=>[h(k(e.count),1),f(C,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),f(s,{class:"main-box"},{default:c((()=>[f(s,{class:"title"},{default:c((()=>[f(s,null,{default:c((()=>[h("特价车销售订单")])),_:1})])),_:1}),f(s,{class:"inventory"},{default:c((()=>[(_(!0),y(A,null,R(g(j),((e,a)=>(_(),r(s,{key:a,onClick:a=>w(e.val,"0")},{default:c((()=>[f(s,null,{default:c((()=>[h(k(e.label),1)])),_:2},1024),f(s,null,{default:c((()=>[h(k(e.count),1),f(C,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["refresher-triggered"])])),_:1})}}}),[["__scopeId","data-v-a57a96f6"]]);export{T as default};
