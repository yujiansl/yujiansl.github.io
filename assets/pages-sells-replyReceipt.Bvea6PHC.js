import{d as e,r as t,E as a,c as l,w as u,i as s,o as n,a as d,a5 as r,b as i,y as c,g as f,h as o,t as _,u as m,F as p,e as y,n as g,W as h,Q as v,_ as A}from"./index-CK4DGatK.js";import{U as R}from"./UploadFile.BBuXxkzB.js";import{u as L}from"./useQuery.3dd8K18V.js";import"./dev.3CSglq9A.js";import"./index.BP9c-u7r.js";import"./image.DobRSNlT.js";import"./play.dJbs8fP_.js";import"./vuedraggable.umd.DwpyKIuh.js";const T=A(e({__name:"replyReceipt",setup(e){const A=L(),T=t({});a((()=>{const e=A.value.id;b(e)}));const b=e=>{uni.$u.http.get("/product/orderPayment/getDetailById",{params:{orderCarCustomerId:e}}).then((e=>{T.value=e.data}))},E=e=>{switch(e){case"EARNEST_MONEY":return"定金";case"BALANCE_PAYMENT":return"尾款";case"FULL_PAYMENT":return"全款";case"DOWN_PAYMENT":return"首付款";case"MORTGAGE_PAYMENT":return"按揭款";default:return"其他"}},N=e=>{switch(e){case 0:return"现金";case 1:return"银行卡";default:return"优惠券"}},x=e=>{switch(e){case 0:return"待审核";case 1:return"已收款";case 2:return"驳回";default:return""}},P=()=>{const{dealPrice:e,amountReceived:t,receivableAmount:a,amountInTransit:l,mortgageAmount:u}=T.value,s={id:A.value.id,dealPrice:e,amountReceived:t,receivableAmount:a,amountInTransit:l,mortgageAmount:u};v(`/pages/sells/addReceipt?params=${JSON.stringify(s)}`)};return(e,t)=>{const a=o,v=s,A=h,L=r;return n(),l(v,{class:"page f-c-s"},{default:u((()=>[d(L,{"scroll-y":"",class:"scroll-view-box","enable-flex":"",style:{height:"100%"}},{default:u((()=>[d(v,{class:"content scroll-view-box"},{default:u((()=>{var e;return[d(v,{class:"statis"},{default:u((()=>[d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[d(a,null,{default:u((()=>[f(_(m(T).dealPrice||0),1)])),_:1}),f("万")])),_:1}),d(v,null,{default:u((()=>[f("成交价")])),_:1})])),_:1}),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[d(a,null,{default:u((()=>[f(_(m(T).amountReceived||0),1)])),_:1}),f("元")])),_:1}),d(v,null,{default:u((()=>[f("已收金额")])),_:1})])),_:1}),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[d(a,null,{default:u((()=>[f(_(m(T).mortgageAmount||""),1)])),_:1}),f(_(m(T).mortgageAmount?"元":"未提交"),1)])),_:1}),d(v,null,{default:u((()=>[f("按揭金额")])),_:1})])),_:1})])),_:1}),(null==(e=m(T).paymentRelations)?void 0:e.length)?(n(),i(p,{key:0},[d(v,null,{default:u((()=>[f("收款单（"+_(m(T).paymentRelations.length||0)+"）",1)])),_:1}),(n(!0),i(p,null,y(m(T).paymentRelations,((e,t)=>(n(),l(v,{class:"list-item",key:t},{default:u((()=>[d(v,{class:"head"},{default:u((()=>[d(v,null,{default:u((()=>[f("收款单")])),_:1}),d(v,{class:"status"},{default:u((()=>[f(_(x(e.status)),1)])),_:2},1024)])),_:2},1024),d(v,{class:"info"},{default:u((()=>[d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("收款金额(元)")])),_:1}),d(v,null,{default:u((()=>[f(_(e.amount||"-"),1)])),_:2},1024)])),_:2},1024),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("收款类型")])),_:1}),d(v,null,{default:u((()=>[f(_(E(e.paymentType)||"-"),1)])),_:2},1024)])),_:2},1024),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("收款方式")])),_:1}),d(v,null,{default:u((()=>[f(_(N(e.payMethod)||"-"),1)])),_:2},1024)])),_:2},1024),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("实收日期")])),_:1}),d(v,null,{default:u((()=>[f(_(e.paymentDate||"-"),1)])),_:2},1024)])),_:2},1024),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("申请时间")])),_:1}),d(v,null,{default:u((()=>[f(_(e.createTime||"-"),1)])),_:2},1024)])),_:2},1024),d(v,null,{default:u((()=>[d(v,null,{default:u((()=>[f("申请人")])),_:1}),d(v,null,{default:u((()=>[f(_(e.createUserName||"-"),1)])),_:2},1024)])),_:2},1024),d(v,{class:"img-boxs"},{default:u((()=>{var t,a;return[d(v,{class:"name"},{default:u((()=>[f("收款凭证")])),_:1}),(null==(t=e.attachmentList.filter((e=>"financialAudit"==e.type)))?void 0:t.length)?(n(),l(v,{key:0,class:g(["val",{single:1==(null==(a=e.attachmentList.filter((e=>"financialAudit"==e.type)))?void 0:a.length)}])},{default:u((()=>[d(R,{ref_for:!0,ref:"imageRef",carAttachmentType:"FINANCIAL_AUDIT",accept:"all","max-count":99,uploadList:e.attachmentList.filter((e=>"financialAudit"==e.type)),detail:1},null,8,["uploadList"])])),_:2},1032,["class"])):(n(),l(v,{key:1},{default:u((()=>[f("-")])),_:1}))]})),_:2},1024),d(v,{class:"img-boxs"},{default:u((()=>{var t,a;return[d(v,{class:"name"},{default:u((()=>[f("附件")])),_:1}),(null==(t=e.attachmentList.filter((e=>"receiptRecords"==e.type)))?void 0:t.length)?(n(),l(v,{key:0,class:g(["val",{single:1===(null==(a=e.attachmentList.filter((e=>"receiptRecords"===e.type)))?void 0:a.length)}])},{default:u((()=>[d(R,{ref_for:!0,ref:"imageRef",carAttachmentType:"RECEIPT_RECORDS",accept:"all","max-count":9,uploadList:e.attachmentList.filter((e=>"receiptRecords"==e.type)),detail:"1"},null,8,["uploadList"])])),_:2},1032,["class"])):(n(),l(v,{key:1},{default:u((()=>[f("-")])),_:1}))]})),_:2},1024),2==e.status&&e.auditReason?(n(),l(v,{key:0},{default:u((()=>[d(v,null,{default:u((()=>[f("驳回原因")])),_:1}),d(v,null,{default:u((()=>[f(_(e.auditReason),1)])),_:2},1024)])),_:2},1024)):c("",!0)])),_:2},1024)])),_:2},1024)))),128))],64)):c("",!0)]})),_:1}),d(v,{class:"bottom-btn"},{default:u((()=>[d(A,{class:"save-btn w_100",onClick:P},{default:u((()=>[f("添加收款申请")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9237ccbe"]]);export{T as default};
