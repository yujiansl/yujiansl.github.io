import{z as i}from"./image.DobRSNlT.js";import{d as a,x as e,c as t,o as s,i as r,w as g,b as o,u as n,e as m,y as c,P as l,g as p,t as d,F as h,a as L,a8 as I,Q as y,_ as u}from"./index-CK4DGatK.js";import{P as f}from"./purchase.B8DNaFGL.js";import{t as k}from"./index.BP9c-u7r.js";const P=u(a({__name:"moreImage",props:{idPhotoHide:{type:Boolean,default:!1},imageData:{type:Array,default:()=>[]},imageTagData:{type:Array,default:()=>[]},tagName:{type:String,default:"车辆照片"},otherImgList:{type:Object,default:()=>({pricingMaintenanceList:[],pricingInsuranceList:[]})},showTab:{type:Boolean,default:!1},itemType:{type:String,default:""}},setup(a){const u=a,P=i=>{A.value.length>4?C():k(`/pages/guide/imageView?type=1&index=${i}`,A.value)},A=e((()=>[...u.imageData||[],...Array.isArray(u.otherImgList.pricingIdCardBackPhoto)?u.otherImgList.pricingIdCardBackPhoto:[],...Array.isArray(u.otherImgList.pricingIdCardFrontPhoto)?u.otherImgList.pricingIdCardFrontPhoto:[],...Array.isArray(u.otherImgList.pricingVehicleLicenseBackPhoto)?u.otherImgList.pricingVehicleLicenseBackPhoto:[],...Array.isArray(u.otherImgList.pricingVehicleLicenseFrontPhoto)?u.otherImgList.pricingVehicleLicenseFrontPhoto:[],...Array.isArray(u.otherImgList.pricingInsuranceList)?u.otherImgList.pricingInsuranceList:[],...Array.isArray(u.otherImgList.pricingMaintenanceList)?u.otherImgList.pricingMaintenanceList:[],...u.imageTagData.flatMap((i=>i.imageList))])),C=()=>{I("fixImageList",JSON.stringify({imageList:[{tagName:u.tagName,imageList:u.imageData},...u.imageTagData],allOtherImageList:{imageList:[{tagName:u.tagName,imageList:u.imageData},...u.imageTagData],carImageFront:[{tagName:"车辆行驶证照片",imageList:[...u.otherImgList.pricingVehicleLicenseFrontPhoto||[]]}],carImageBack:[{tagName:"车辆行驶证照片",imageList:[...u.otherImgList.pricingVehicleLicenseBackPhoto||[]]}],idCardFront:[{tagName:"车主身份证",imageList:[...u.otherImgList.pricingIdCardFrontPhoto||[]]}],idCardBack:[{tagName:"车主身份证",imageList:[...u.otherImgList.pricingIdCardBackPhoto||[]]}],maintenance:[{tagName:"维保照片",imageList:[...u.otherImgList.pricingMaintenanceList||[]]}],insurance:[{tagName:"出险照片",imageList:[...u.otherImgList.pricingInsuranceList||[]]}]}})),y(`/pages/fixPrice/photoManage?detail=${+u.itemType===f["订单状态"]?0:1}&showTab=${u.showTab}&idPhotoHide=${u.idPhotoHide?1:0}`)};return(a,e)=>{const I=l,y=r;return s(),t(y,{style:"--img-num: #f00",class:"img-list"},{default:g((()=>[n(A).length>0?(s(!0),o(h,{key:0},m(n(A).filter(((i,a)=>a<4)),((e,r)=>(s(),t(y,{key:e.id,class:"img-item"},{default:g((()=>["Video"!=e.attachmentType?(s(),t(I,{key:0,onClick:i=>P(r),src:("zipImg"in a?a.zipImg:n(i))(e.attachmentUrl,30),class:"img",mode:"aspectFill"},null,8,["onClick","src"])):(s(),t(I,{key:1,onClick:i=>P(r),src:("zipImg"in a?a.zipImg:n(i))(e.videoCover,30),class:"img img-video",mode:"aspectFill"},null,8,["onClick","src"])),3==r?(s(),t(y,{key:2,onClick:C,class:"dec"},{default:g((()=>[p("全部"+d(n(A).length)+"张 >",1)])),_:1})):c("",!0)])),_:2},1024)))),128)):(s(),t(y,{key:1,class:"img-item single"},{default:g((()=>[L(I,{src:("zipImg"in a?a.zipImg:n(i))("/static/index/carImage_default.png",30),class:"img",mode:"scaleToFill"},null,8,["src"])])),_:1}))])),_:1})}}}),[["__scopeId","data-v-ede829b2"]]);export{P as M};
