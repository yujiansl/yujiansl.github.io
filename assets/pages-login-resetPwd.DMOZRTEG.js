import{d as a,r as e,B as s,c as l,w as t,i as o,o as u,a as n,R as d,u as c,z as m,g as r,W as i,n as p,D as w,ay as f,aS as v,a2 as h,_}from"./index-CK4DGatK.js";const b=_(a({__name:"resetPwd",setup(a){const _=e(0),b=e(),g=e();s((a=>{_.value=a.phone}));const V=()=>{const a=b.value?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/.test(b.value)?g.value?b.value!=g.value?"两次密码不一致":"":"请再次输入新密码":"新密码格式不正确":"请设置新密码";a?(new w).showToast(a):((new w).showLoading("提交中"),uni.$u.http.post(f.resetPwd,{mobile:_.value,newpassword:b.value},{custom:{Authorization:"Basic cGlnOnBpZw=="}}).then((()=>{(new w).showToast("修改成功"),setTimeout((()=>{v({url:"/pages/login/index"}),h()}),1500)})).catch((()=>{})))};return(a,e)=>{const s=d,w=o,f=i;return u(),l(w,{class:"page font-regular"},{default:t((()=>[n(w,{class:"form-item mb50"},{default:t((()=>[n(s,{modelValue:c(b),"onUpdate:modelValue":e[0]||(e[0]=a=>m(b)?b.value=a:null),placeholder:"请设置新密码"},null,8,["modelValue"])])),_:1}),n(w,{class:"form-item mb20"},{default:t((()=>[n(s,{modelValue:c(g),"onUpdate:modelValue":e[1]||(e[1]=a=>m(g)?g.value=a:null),placeholder:"请再次输入新密码"},null,8,["modelValue"])])),_:1}),n(w,{class:"tips mb120"},{default:t((()=>[r("密码规则：由 8-16 位的大小写字母、数字组成")])),_:1}),n(f,{class:p(["next-btn",{disabled:!c(b)||!c(g)}]),onClick:V},{default:t((()=>[r(" 确定 ")])),_:1},8,["class"])])),_:1})}}}),[["__scopeId","data-v-8f7a9eee"]]);export{b as default};
