import{d as a,B as s,a9 as t,r as e,c as o,w as r,i as l,I as i,b9 as n,K as u,o as c,a as d,y as m,u as p,ad as f,b as _,g as y,t as j,F as h,e as g,a1 as b,Z as v,a2 as L,_ as k}from"./index-CK4DGatK.js";import{L as w}from"./ListLoadRefreshView.CnNC2lkG.js";import{e as I}from"./employItem.CBSu_Ex6.js";import{o as x}from"./omit.DzeQdT5l.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const R=k(a({__name:"searchs",setup(a){s((a=>{a.id&&(k.id=a.id)}));const k=t({current:1,size:20,total:0,keyWord:""}),R=e([]),S=e(),B=async()=>{var a;try{v({title:"加载中"});const a={...x(k,"total")},s=await uni.$u.http.get("/product/regionManage/getSalesListByRegionId",{params:a});k.total=s.data.count;const t=s.data.results;R.value=1===k.current?t:[...R.value,...t]}finally{L(),null==(a=S.value)||a.loadFinish()}},C=()=>{k.current=1,B()},F=()=>{console.log(123),k.current++,B()},M=e(!1),T=a=>{M.value=!0,k.keyWord=a,k.current=1,B()},V=()=>{b()};return(a,s)=>{const t=i(u("up-search"),n),e=l;return c(),o(e,{class:"employee"},{default:r((()=>[d(e,{class:"heads"},{default:r((()=>[d(t,{onSearch:T,onCustom:V,"show-action":!0,actionText:"取消"})])),_:1}),p(M)?(c(),o(e,{key:0,class:"contents"},{default:r((()=>[d(e,{class:"inner"},{default:r((()=>[d(w,f({ref_key:"listLoadRef",ref:S,class:"scroll-view-box"},p(k),{istop:!1,onLoadMore:F,onLoadRefresh:C}),{default:r((()=>[d(e,{class:"employ-list"},{default:r((()=>[d(e,{class:"sub-title"},{default:r((()=>[y("共"+j(p(k).total)+"位在职员工",1)])),_:1}),(c(!0),_(h,null,g(p(R),(a=>(c(),o(I,{key:a.userId,item:a},null,8,["item"])))),128))])),_:1})])),_:1},16)])),_:1})])),_:1})):m("",!0)])),_:1})}}}),[["__scopeId","data-v-dc4366f9"]]);export{R as default};
