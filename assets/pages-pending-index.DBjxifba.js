import{i as e}from"./dev.3CSglq9A.js";import{d as s,r as a,E as r,D as l,a2 as t,c as o,w as n,i as u,I as c,M as i,K as d,o as p,a as _,a5 as f,u as v,b as A,F as C,e as g,y as h,g as E,t as R,Q as m,_ as T}from"./index-CK4DGatK.js";const D=T(s({__name:"index",setup(s){const T=a([]);r((()=>{D(),console.log("isDev: ",e)}));const D=()=>{(new l).showLoading("加载中"),uni.$u.http.get("/product/process/processCount").then((e=>{const s=e.data||[];T.value=s.filter((e=>"RATER_AUDIT"!==e.processApproval)),t()}))},I=e=>{switch(e){case"PURCHASE_WAREHOUSING":return"审批待办";case"RATER_AUDIT":return"采购定价";case"CAR_PURCHASE_BOSS_AUDIT":return"采购审批";case"RECHECK":return"复检待办";case"PURCHASE_FINANCE_AUDIT":return"付款审批";case"ATTACHE_AUDIT":return"按揭预审"}},U=(e,s)=>{m(`/pages/pending/pendList?type=${e}&processApproval=${s.processApproval}`)},w=a(!1);async function y(){w.value=!0,await D(),setTimeout((()=>{w.value=!1}),200)}return(s,a)=>{const r=u,l=c(d("up-icon"),i),t=f;return p(),o(r,{class:"page f-c-s"},{default:n((()=>[_(t,{"scroll-y":"","refresher-enabled":!0,"refresher-triggered":v(w),onRefresherrefresh:y,class:"scroll-view-box",style:{height:"100%"}},{default:n((()=>[(p(!0),A(C,null,g(v(T),((a,t)=>(p(),A("div",{key:t},["RECHECK"!==(null==a?void 0:a.processApproval)||("isDev"in s?s.isDev:v(e))?(p(),o(r,{key:0,class:"main-box"},{default:n((()=>[_(r,{class:"title"},{default:n((()=>[E(R(I(null==a?void 0:a.processApproval)),1)])),_:2},1024),_(r,{class:"inventory"},{default:n((()=>[_(r,{onClick:e=>U(0,a)},{default:n((()=>[_(r,null,{default:n((()=>[E("待处理")])),_:1}),_(r,null,{default:n((()=>[E(R(null==a?void 0:a.toBeProcessedNum)+" ",1),_(l,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"]),_(r,{onClick:e=>U(1,a)},{default:n((()=>[_(r,null,{default:n((()=>[E("已处理")])),_:1}),_(r,null,{default:n((()=>[E(R(null==a?void 0:a.processedNum)+" ",1),_(l,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)):h("",!0)])))),128))])),_:1},8,["refresher-triggered"])])),_:1})}}}),[["__scopeId","data-v-14522717"]]);export{D as default};
