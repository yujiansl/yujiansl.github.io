import{d as a,a9 as t,r as s,B as e,E as r,X as u,Y as o,x as n,c as l,w as c,i,I as p,M as d,K as f,o as v,a as _,g as m,u as h,h as y,n as g,t as b,W as k,Q as S,D as w,a1 as $,_ as x}from"./index-CK4DGatK.js";import{u as I}from"./useQuery.3dd8K18V.js";const P=x(a({__name:"readyCondition",setup(a){const x=I(),P=t({}),C=s([]);e((()=>{P.preparationStatus=x.value.preparationStatus??+x.value.preparationStatus})),r((()=>{u("pickData"),o("pickData",(a=>{const{key:t,subKey:s}=a;P[s]=t})),D()}));const D=()=>{uni.$u.http.get("admin/dict/type/preparation_status").then((a=>{const t=a.data;C.value=t.map((a=>({...a,copyValue:a.value,key:a.value,value:a.label}))).reverse()}))},K=n((()=>M(C.value,P.preparationStatus))),M=(a,t)=>{const s=null==a?void 0:a.filter((a=>a.key==t));return(null==s?void 0:s.length)?s[0].value:"请选择"},j=()=>{(new w).showLoading("提交中"),uni.$u.http.put("/product/merchant/car/product/editPreparation",{carProductId:x.value.carProductId,preparationStatus:P.preparationStatus}).then((()=>{(new w).showToast("保存成功"),setTimeout((()=>{$()}),1500)}))};return(a,t)=>{const s=i,e=y,r=p(f("up-icon"),d),u=k;return v(),l(s,{class:"page f-c-s"},{default:c((()=>[_(s,{class:"content"},{default:c((()=>[_(s,{class:"form-box"},{default:c((()=>[_(s,{class:"form-item"},{default:c((()=>[_(s,null,{default:c((()=>[m("整备状态")])),_:1}),_(s,{class:"f-b-c",onClick:t[0]||(t[0]=a=>{return t="整备状态",s=h(C),e=h(P).preparationStatus,r="preparationStatus",void S(`/pages/carManage/pagePicker?title=${t}&list=${JSON.stringify(s)}&key=${e}&subKey=${r}`);var t,s,e,r})},{default:c((()=>[_(e,{class:g({placeholder:"请选择"==h(K)})},{default:c((()=>[m(b(h(K)),1)])),_:1},8,["class"]),_(r,{name:"arrow-right"})])),_:1})])),_:1})])),_:1})])),_:1}),_(s,{class:"bottom-btn"},{default:c((()=>[_(u,{class:"save-btn w_100",onClick:j},{default:c((()=>[m("保存")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-c8b9d5d6"]]);export{P as default};
