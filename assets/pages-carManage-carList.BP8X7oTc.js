import{d as e,E as a,X as l,Y as t,G as s,r,a4 as i,x as n,v as o,I as d,M as u,K as c,a6 as p,c as v,o as g,i as h,w as y,a as m,a5 as f,y as b,u as S,k as _,t as k,b as D,e as I,P as C,F as M,g as A,n as L,a7 as O,h as w,f as T,a8 as x,Q as F,a0 as V,s as j,_ as U,a9 as P,q as E,A as H,B as N,aa as $,Z as R,$ as B,a2 as q,ab as J,ac as G,N as z,O as Y,ad as K,T as Q}from"./index-CK4DGatK.js";import{_ as W}from"./search.CrJlT1Sv.js";import{_ as X}from"./add.BenfLO0n.js";import{U as Z,a as ee}from"./u-dropdown-item.B66HFyYv.js";import{N as ae}from"./NavBar.DSs5OGCU.js";import{c as le,_ as te,a as se,C as re}from"./carType.25_hgCxl.js";import{a as ie}from"./index.HDA2F_3Q.js";import{B as ne}from"./brandDrop.WDU7kvw8.js";import{L as oe}from"./ListLoadRefreshView.CnNC2lkG.js";import{c as de}from"./carListItem.hYH6YShY.js";import{n as ue,p as ce}from"./state.DbjE1IH2.js";import{u as pe}from"./useQuery.3dd8K18V.js";import{o as ve}from"./omit.DzeQdT5l.js";import"./time._VqwKl0d.js";import"./image.DobRSNlT.js";import"./album.BQJzdOdy.js";import"./icon_right.CReGUlPS.js";import"./icon_check.YUHZtzzx.js";import"./PreviewManyCard.CWPi57V4.js";import"./avatar.hGMRw2TZ.js";import"./isNil.aV-w2MPu.js";import"./https.idd9Lf6d.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const ge=""+new URL("share_link-DlOUbKl4.png",import.meta.url).href,he=""+new URL("share_pic-IU_WdL8y.png",import.meta.url).href,ye=""+new URL("share_multi-DmgBorTB.png",import.meta.url).href,me=U(e({__name:"allFilter",props:{colorData:{type:Array,default:()=>[]},methodTypes:{type:Array,default:()=>[]},carBodyArr:{type:Array,default:()=>[]},gearboxDatas:{type:Array,default:()=>[]},initData:{type:Object,default:()=>{}},typeVal:{type:String,default:""},choicenessFlag:{type:String,default:""}},emits:["filterList","saveStatusVal","clearOut"],setup(e,{expose:U,emit:P}){const E=e,H=e=>{const a="appraisers"===e?"评估师":"销售员";x("__select_user_type__",e);const l="appraisers"===e?q.value.appraisers.map((e=>e.id)):q.value.salesUsers.map((e=>e.id));F(`/pages/carManage/sellUserList?title=${a}&userType=APPRAISER&Multiple=1&id=${l.join(",")}`)};a((()=>{l("fixUserData"),t("fixUserData",(e=>{const a=s("__select_user_type__");console.log("store-type",a,e),"appraisers"===a&&(q.value.appraisers=e),"salesUsers"===a&&(q.value.salesUsers=e),i("__select_user_type__")}))}));const{closeAppraiserItem:N}={closeAppraiserItem:e=>{q.value.appraisers=q.value.appraisers.filter((a=>a.id!==e))}},{closeSaleUsers:$}={closeSaleUsers:e=>{q.value.salesUsers=q.value.salesUsers.filter((a=>a.id!==e))}},R=n((()=>Object.entries(le).some((([e,a])=>["已预定","待签署","收款中","已售"].includes(a)&&e===E.typeVal)))),B=n((()=>Object.entries(le).some((([e,a])=>["已预定","待签署","收款中","已售","在售已上架","在售未上架","在售(全部)"].includes(a)&&e===E.typeVal)))),q=r({stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",startMileage:null,endMileage:null,startStorageAge:null,endStorageAge:null,startOnSaleDays:null,endOnSaleDays:null,salesMethod:"",bodyColor:[],dischargeStandard:"",microStoreShelfStatus:"",choicenessFlag:"",driveModeType:[],parallelImportFlag:"",gearboxType:"",energyType:[],carSeat:"",carSeriesLevel:"",appraisers:[],salesUsers:[]}),J=(e,a)=>{const l=q.value[a]?JSON.parse(JSON.stringify(q.value[a]||"{}")):"";if(q.value[a]=e.detail.value,q.value.registerDateStart&&q.value.registerDateEnd){if(new Date(q.value.registerDateStart).getTime()>new Date(q.value.registerDateEnd).getTime())return V({title:"结束日期不能小于开始日期",icon:"none"}),void(q.value[a]=l)}},G=(e,a,l)=>{j((()=>{q.value[a]=ie(e,l),"startMileage"==a&&(q.value.mileageArrs=e?`${q.value[a]},${q.value.endMileage}`:""),"endMileage"==a&&(q.value.mileageArrs=e?`${q.value.startMileage},${q.value[a]}`:"")}))},z=(e,a,l,t)=>{q.value[a]=e;const s=q.value[a],r=q.value[l];if(s&&r&&("start"==t&&parseFloat(s)>parseFloat(r)||"end"==t&&parseFloat(s)<parseFloat(r)))return V({title:"结束必须大于开始",icon:"none"}),void(q.value[a]="")},Y=(e,a)=>{q.value[a]=""},K=r([{label:"在厅",val:"BeReady"},{label:"整备中",val:"UNDER_PREPARATION"},{label:"已出库",val:"Outbound"}]),Q=r([{name:"前驱",val:"前驱"},{name:"后驱",val:"后驱"},{name:"四驱",val:"四驱"}]),W=r([{name:"平行进口车",val:"1"},{name:"非平行进口车",val:"0"}]),X=r([{name:"汽油",val:"汽油"},{name:"纯电动",val:"纯电动"},{name:"油气混合",val:"油气混合"},{name:"柴油",val:"柴油"},{name:"插电混合",val:"插电混合"},{name:"氢燃料",val:"氢燃料"},{name:"柴油混合",val:"柴油混合"},{name:"增程式",val:"增程式"},{name:"CNG",val:"CNG"}]),Z=r([{label:"非精品",val:"0"},{label:"精品",val:"1"}]),ee=r([{label:"两座",val:"2"},{label:"四座",val:"4"},{label:"五座",val:"5"},{label:"七座",val:"7"},{label:"九座",val:"9"}]),ae=r([{label:"1万公里内",value:"0,1"},{label:"3万公里内",value:"0,3"},{label:"5万公里内",value:"0,5"},{label:"8万公里内",value:"0,8"}]),re=r([{label:"国四",value:"国IV"},{label:"国五",value:"国V"},{label:"国六",value:"国VI"},{label:"欧二",value:"欧II"},{label:"欧三",value:"欧III"},{label:"欧四",value:"欧IV"},{label:"欧五",value:"欧V"},{label:"欧六",value:"欧VI"}]),ne=r([{label:"未上架",val:"NoOnSale"},{label:"已上架",val:"OnSale"}]),oe=(e,a,l)=>{if(Array.isArray(q.value[e]))q.value[e].includes(a[l])?(q.value[e]=q.value[e].filter((e=>e!==a[l])),console.log(q.value[e],"init")):q.value[e].push(a[l]);else if(console.log(a[l],q.value[e]),a[l]==q.value[e])q.value[e]="","mileageArrs"==e&&(q.value.startMileage="",q.value.endMileage="");else if(q.value[e]=a[l],"mileageArrs"==e){const a=q.value[e];q.value.startMileage=a.split(",")[0],q.value.endMileage=a.split(",")[1]}},de=P,ue=()=>{q.value={stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",startMileage:null,endMileage:null,startStorageAge:null,endStorageAge:null,startOnSaleDays:null,endOnSaleDays:null,salesMethod:"",bodyColor:[],dischargeStandard:"",microStoreShelfStatus:"",choicenessFlag:"",driveModeType:[],parallelImportFlag:"",gearboxType:"",energyType:[],carSeat:"",carSeriesLevel:""},console.log("clearOut"),de("clearOut",{...q.value,appraiserIdList:[]}),setTimeout((()=>{i("appraisers")}))};U({resetFilter:ue});const ce=async()=>{console.log("searchCar"),de("saveStatusVal",q.value),de("filterList",q.value,"close")};return o((()=>E.initData),(()=>{const e=JSON.parse(JSON.stringify(E.initData||"{}"));if("{}"==JSON.stringify(e))q.value={stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",startMileage:null,endMileage:null,startStorageAge:null,endStorageAge:null,startOnSaleDays:null,endOnSaleDays:null,salesMethod:"",bodyColor:[],dischargeStandard:"",microStoreShelfStatus:"",choicenessFlag:"",driveModeType:[],parallelImportFlag:"",gearboxType:"",energyType:[],carSeat:"",carSeriesLevel:"",appraisers:[]};else for(const a in e)Object.prototype.hasOwnProperty.call(q.value,a)&&(q.value[a]=e[a])}),{deep:!0,immediate:!0}),(a,l)=>{const t=d(c("up-icon"),u),s=h,r=C,i=O,n=w,o=d(c("up-input"),p),x=f;return g(),v(s,{class:"all-filter"},{default:y((()=>[m(x,{class:"scrolls","scroll-y":""},{default:y((()=>[m(s,{class:"content"},{default:y((()=>[S(B)?(g(),v(s,{key:0,class:"models"},{default:y((()=>[m(s,{class:"sub-title",style:{display:"flex","justify-content":"space-between","align-items":"center"}},{default:y((()=>[_("div",{style:{color:"#212531","font-size":"30rpx"}},"评估师"+k(S(q).appraisers),1),_("div",null,[m(t,{name:"trash",size:"32rpx",onClick:l[0]||(l[0]=e=>S(q).appraisers=[])})])])),_:1}),m(s,{class:"user-inner"},{default:y((()=>{var e,a;return[_("div",{class:"inner-box"},[(g(!0),D(M,null,I(null==(e=S(q).appraisers)?void 0:e.slice(0,10),(e=>(g(),D("div",{class:"inner-item",key:e.id,style:{position:"relative"}},[_("div",{class:"inner-item-text"},k(e.name),1),_("div",{class:"close-btn",onClick:a=>S(N)(e.id)},[m(r,{src:te,mode:"widthFix"})],8,["onClick"])])))),128)),(null==(a=S(q).appraisers)?void 0:a.length)>10?(g(),D("div",{key:0,class:"more-btn inner-item",onClick:l[1]||(l[1]=e=>H("appraisers"))},[_("div",{class:"inner-item-text"},"+"+k(S(q).appraisers.length-10),1)])):b("",!0),_("div",{class:"inner-item add-btn",onClick:l[2]||(l[2]=e=>H("appraisers"))},[_("div",null,[m(r,{src:se,mode:"widthFix"})]),_("div",{style:{color:"#3c73ff"}},"添加")])])]})),_:1})])),_:1})):b("",!0),S(R)?(g(),v(s,{key:1,class:"models"},{default:y((()=>[m(s,{class:"sub-title",style:{display:"flex","justify-content":"space-between","align-items":"center"}},{default:y((()=>[_("div",{style:{color:"#212531","font-size":"30rpx"}},"销售员"),_("div",null,[m(t,{name:"trash",size:"32rpx",onClick:l[3]||(l[3]=e=>S(q).salesUsers=[])})])])),_:1}),m(s,{class:"user-inner"},{default:y((()=>{var e,a;return[_("div",{class:"inner-box",style:{}},[(g(!0),D(M,null,I(null==(e=S(q).salesUsers)?void 0:e.slice(0,10),(e=>(g(),D("div",{class:"inner-item",key:e.id,style:{position:"relative"}},[_("div",{class:"inner-item-text"},k(e.name),1),_("div",{class:"close-btn",onClick:a=>S($)(e.id)},[m(r,{src:te,mode:"widthFix"})],8,["onClick"])])))),128)),(null==(a=S(q).salesUsers)?void 0:a.length)>10?(g(),D("div",{key:0,class:"more-btn inner-item",onClick:l[4]||(l[4]=e=>H("salesUsers"))},[_("div",{class:"inner-item-text"},"+"+k(S(q).salesUsers.length-10),1)])):b("",!0),_("div",{class:"inner-item add-btn",onClick:l[5]||(l[5]=e=>H("salesUsers"))},[_("div",null,[m(r,{src:se,mode:"widthFix"})]),_("div",{style:{color:"#3c73ff"}},"添加")])])]})),_:1})])),_:1})):b("",!0),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("车身类型")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(e.carBodyArr,(e=>(g(),v(s,{onClick:a=>oe("carSeriesLevel",e,"val"),class:L([{active:S(q).carSeriesLevel==e.val},"body-item"]),key:e.label},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("库存状态")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(K),(e=>(g(),v(s,{onClick:a=>oe("stockStatus",e,"val"),class:L([{active:S(q).stockStatus==e.val},"body-item"]),key:e.label},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("首次上牌")])),_:1}),m(s,{class:"month-inner"},{default:y((()=>[m(s,{class:"time"},{default:y((()=>[m(i,{mode:"date",fields:"month",value:S(q).registerDateStart,onCancel:l[6]||(l[6]=e=>Y(0,"registerDateStart")),onChange:l[7]||(l[7]=e=>J(e,"registerDateStart"))},{default:y((()=>[m(s,null,{default:y((()=>[A(k(S(q).registerDateStart||"请选择"),1)])),_:1})])),_:1},8,["value"])])),_:1}),m(n,{class:"symbol"},{default:y((()=>[A("-")])),_:1}),m(s,{class:"time"},{default:y((()=>[m(i,{mode:"date",fields:"month",value:S(q).registerDateEnd,onCancel:l[8]||(l[8]=e=>Y(0,"registerDateEnd")),onChange:l[9]||(l[9]=e=>J(e,"registerDateEnd"))},{default:y((()=>[m(s,null,{default:y((()=>[A(k(S(q).registerDateEnd||"请选择"),1)])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("车身颜色")])),_:1}),m(s,{class:"color-inner"},{default:y((()=>[(g(!0),D(M,null,I(e.colorData,(e=>(g(),v(s,{onClick:a=>oe("bodyColor",e,"name"),class:L([{active:S(q).bodyColor.includes(e.name)},"color-item"]),key:e.name},{default:y((()=>[m(s,{style:T(`background-color: ${e.value}`),class:"color-val"},null,8,["style"]),m(s,{class:"text"},{default:y((()=>[A(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("表显里程")])),_:1}),m(s,{class:"mileage-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(ae),(e=>(g(),v(s,{onClick:a=>oe("mileageArrs",e,"value"),class:L([{active:S(q).mileageArrs==e.value},"mileage-item"]),key:e.label},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128)),m(s,{class:"custom"},{default:y((()=>[m(o,{clearable:"",type:"digit",placeholder:"请输入",modelValue:S(q).startMileage,"onUpdate:modelValue":l[10]||(l[10]=e=>S(q).startMileage=e),onChange:l[11]||(l[11]=e=>G(e,"startMileage","float")),onBlur:l[12]||(l[12]=e=>z(e,"startMileage","endMileage","start"))},null,8,["modelValue"]),m(n,{style:{padding:"0 8rpx"}},{default:y((()=>[A("-")])),_:1}),m(o,{clearable:"",type:"digit",placeholder:"请输入",modelValue:S(q).endMileage,"onUpdate:modelValue":l[13]||(l[13]=e=>S(q).endMileage=e),onChange:l[14]||(l[14]=e=>G(e,"endMileage","float")),onBlur:l[15]||(l[15]=e=>z(e,"endMileage","startMileage","end"))},null,8,["modelValue"]),m(n,{style:{"padding-left":"8rpx"}},{default:y((()=>[A("万公里")])),_:1})])),_:1})])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("排放标准")])),_:1}),m(s,{class:"emission-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(re),(e=>(g(),v(s,{onClick:a=>oe("dischargeStandard",e,"value"),class:L([{active:S(q).dischargeStandard==e.value},"emission-item"]),key:e.label},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("库龄")])),_:1}),m(s,{class:"month-inner"},{default:y((()=>[m(o,{clearable:"",type:"number",placeholder:"请输入",onChange:l[16]||(l[16]=e=>G(e,"startStorageAge","int")),onBlur:l[17]||(l[17]=e=>z(e,"startStorageAge","endStorageAge","start")),modelValue:S(q).startStorageAge,"onUpdate:modelValue":l[18]||(l[18]=e=>S(q).startStorageAge=e)},null,8,["modelValue"]),m(n,{class:"symbol"},{default:y((()=>[A("-")])),_:1}),m(o,{clearable:"",type:"number",placeholder:"请输入",onChange:l[19]||(l[19]=e=>G(e,"endStorageAge","int")),onBlur:l[20]||(l[20]=e=>z(e,"endStorageAge","startStorageAge","end")),modelValue:S(q).endStorageAge,"onUpdate:modelValue":l[21]||(l[21]=e=>S(q).endStorageAge=e)},null,8,["modelValue"]),m(n,{style:{"padding-left":"8rpx"}},{default:y((()=>[A("天")])),_:1})])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("销售方式")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(e.methodTypes,(e=>(g(),v(s,{onClick:a=>oe("salesMethod",e,"key"),class:L([{active:S(q).salesMethod==e.key},"body-item"]),key:e.key},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.value),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),"1"!=e.choicenessFlag&&"0"!=e.choicenessFlag?(g(),v(s,{key:2,class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("是否精品车")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(Z),(e=>(g(),v(s,{onClick:a=>oe("choicenessFlag",e,"val"),class:L([{active:S(q).choicenessFlag==e.val},"body-item"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1})):b("",!0),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("座位数")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(ee),(e=>(g(),v(s,{onClick:a=>oe("carSeat",e,"val"),class:L([{active:S(q).carSeat==e.val},"body-item"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("驱动方式")])),_:1}),m(s,{class:"color-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(Q),(e=>(g(),v(s,{onClick:a=>oe("driveModeType",e,"val"),class:L([{active:S(q).driveModeType.includes(e.val)},"color-item center"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("车辆驱动")])),_:1}),m(s,{class:"color-inner"},{default:y((()=>[(g(!0),D(M,null,I(e.gearboxDatas,(e=>(g(),v(s,{onClick:a=>oe("gearboxType",e,"val"),class:L([{active:S(q).gearboxType.includes(e.val)},"color-item center"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("车辆属性")])),_:1}),m(s,{class:"color-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(W),(e=>(g(),v(s,{onClick:a=>oe("parallelImportFlag",e,"val"),class:L([{active:S(q).parallelImportFlag.includes(e.val)},"color-item center"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("能源类型")])),_:1}),m(s,{class:"color-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(X),(e=>(g(),v(s,{onClick:a=>oe("energyType",e,"val"),class:L([{active:S(q).energyType.includes(e.val)},"color-item center"]),key:e.val},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),m(s,{class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("小程序上架")])),_:1}),m(s,{class:"carbody-inner"},{default:y((()=>[(g(!0),D(M,null,I(S(ne),(e=>(g(),v(s,{onClick:a=>oe("microStoreShelfStatus",e,"val"),class:L([{active:S(q).microStoreShelfStatus==e.val},"body-item"]),key:e.label},{default:y((()=>[m(s,{class:"text"},{default:y((()=>[A(k(e.label),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1}),["ON_SALE","ON_SALE_ALL","SOLD_OUT"].includes(e.typeVal)?(g(),v(s,{key:3,class:"models"},{default:y((()=>[m(s,{class:"sub-title"},{default:y((()=>[A("上架天数")])),_:1}),m(s,{class:"month-inner"},{default:y((()=>[m(o,{clearable:"",type:"number",placeholder:"请输入",onChange:l[22]||(l[22]=e=>G(e,"startOnSaleDays","int")),onBlur:l[23]||(l[23]=e=>z(e,"startOnSaleDays","endOnSaleDays","start")),modelValue:S(q).startOnSaleDays,"onUpdate:modelValue":l[24]||(l[24]=e=>S(q).startOnSaleDays=e)},null,8,["modelValue"]),m(n,{class:"symbol"},{default:y((()=>[A("-")])),_:1}),m(o,{clearable:"",type:"number",placeholder:"请输入",onChange:l[25]||(l[25]=e=>G(e,"endOnSaleDays","int")),onBlur:l[26]||(l[26]=e=>z(e,"endOnSaleDays","startOnSaleDays","end")),modelValue:S(q).endOnSaleDays,"onUpdate:modelValue":l[27]||(l[27]=e=>S(q).endOnSaleDays=e)},null,8,["modelValue"]),m(n,{style:{"padding-left":"8rpx"}},{default:y((()=>[A("天")])),_:1})])),_:1})])),_:1})):b("",!0)])),_:1})])),_:1}),m(s,{class:"btns"},{default:y((()=>[m(s,{class:"btn-box"},{default:y((()=>[m(s,{onClick:ue,class:"reset-btn"},{default:y((()=>[A("重置")])),_:1}),m(s,{onClick:ce,class:"confirm-car"},{default:y((()=>[A("查询")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-6fa5626d"]]),fe=U(e({__name:"filter",props:{methodTypes:{default:()=>[]},typeVal:{default:"ON_SALE"},choicenessFlag:{default:""}},emits:["search","filter"],setup(e,{expose:a,emit:l}){const t=e,s=l,i=r(),f=n((()=>{var e;return(null==(e=re[t.typeVal].find((e=>e.default)))?void 0:e.key)||re[t.typeVal][0].key})),_=P({orders:f.value,rentalWay:"day_rental",brandId:[],seriesId:[],powerType:"",priceHigh:"",priceLow:"",stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",salesMethod:"",startMileage:"",endMileage:"",startStorageAge:"",endStorageAge:"",startOnSaleDays:"",endOnSaleDays:"",salesType:"",bodyColor:[],colorDataArrs:"",dischargeStandard:"",carSeriesLevel:""}),C=r([]),O=r([]),T=n((()=>re[t.typeVal].map((e=>({label:e.label,val:e.key}))))),x=r([{label:"不限",val:"0,0"},{label:"3万以下",val:"0,3"},{label:"3-5万",val:"3,5"},{label:"5-8万",val:"5,8"},{label:"8-10万",val:"8,10"},{label:"10-15万",val:"10,15"},{label:"15-20万",val:"15,20"},{label:"20-30万",val:"20,30"},{label:"30-50万",val:"30,50"},{label:"50-100万",val:"50,100"},{label:"100万以上",val:"100"}]),F=r([]),U=r([]),H=r([]),N=r(0),$=r(0);r(0),r(0);const R=r(),B=e=>{1==e&&R.value.open();for(const a in _)Object.prototype.hasOwnProperty.call(ce.value,a)&&(_[a]=ce.value[a],z.value[a]=ce.value[a]);Object.prototype.hasOwnProperty.call(ce.value,"priceLow")||("0"!=_.priceLow||_.priceHigh||(_.priceLow=""),"0"!=_.priceHigh||_.priceLow||(_.priceHigh=""))},q=e=>{2==e&&(Object.prototype.hasOwnProperty.call(z.value,"priceLow")||(_.prices="",i.value.highlight(2,"")),_.orders=z.value.orders)},J=e=>{_.brandId=[],_.seriesId=[],_.brandSeriesMapList=[],C.value=[],O.value=[],N.value=0,z.value.brandId=[],z.value.seriesId=[],z.value.brandSeriesMapList=[],_.priceLow="不限",_.priceHigh="不限",z.value.priceLow="",z.value.priceHigh="",z.value={},ce.value={},i.value.highlight(1,null),i.value.highlight(2,null),i.value.highlight(3,null),$.value=0,R.value.handleClearSearch(),ie(U.value[0].id),i.value.close(),setTimeout((()=>{W(e)}),200)},G=r([]),z=r({stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",startMileage:null,endMileage:null,startStorageAge:null,endStorageAge:null,startOnSaleDays:null,endOnSaleDays:null,salesMethod:"",bodyColor:[],dischargeStandard:"",microStoreShelfStatus:"",carSeriesLevel:"",appraisers:[]}),Y=e=>{console.log(e,"存储状态"),z.value=e,ce.value=e},K=r(null);E((async()=>{Q(),ae(),X(),uni.$u.http.get("/product/merchant/car/product/conditionListToMerchantPage").then((e=>{G.value=e.data.bodyColors})),i.value.highlight(0,_.orders)}));const Q=()=>{uni.$u.http.get("/admin/dict/type/car_series_level").then((e=>{F.value=e.data.map((e=>({label:e.label,val:e.value})))}))},W=(e,a="")=>{a&&i.value.close(),console.log(JSON.parse(JSON.stringify(e)),"filterData");const l=[];["stockStatus","registerDateStart","registerDateEnd","mileageArrs","salesMethod","startMileage","endMileage","startStorageAge","endStorageAge","startOnSaleDays","endOnSaleDays","salesType","bodyColor","colorDataArrs","dischargeStandard","microStoreShelfStatus","choicenessFlag","driveModeType","parallelImportFlag","gearboxType","energyType","carSeat","carSeriesLevel","appraisers"].map((a=>{Array.isArray(e[a])?e[a]&&e[a].length>0?l.push(1):l.push(2):e[a]?l.push(1):l.push(2)})),l.includes(1)?i.value.highlight(3,e):i.value.highlight(3,""),(_.brandId.length>0||_.seriesId.length>0)&&i.value.highlight(1,_.brandId),_.prices&&"0,0"!==_.prices?i.value.highlight(2,_.prices):_.prices="",e.orders=e.orders?e.orders:_.orders,K.value=e,z.value={...e,brandId:_.brandId,seriesId:_.seriesId,priceLow:_.priceLow,priceHigh:_.priceHigh},ce.value={...e,brandId:_.brandId,seriesId:_.seriesId,priceLow:_.priceLow,priceHigh:_.priceHigh},s("search",{...e,brandId:_.brandId,seriesId:_.seriesId,priceLow:_.priceLow,priceHigh:_.priceHigh})},X=()=>{uni.$u.http.get("/admin/dict/type/gearbox_type").then((e=>{H.value=e.data.map((e=>({name:e.label,val:e.value})))}))},ae=()=>{uni.$u.http.get("/product/carProductApp/getBrand",{params:{vehicleStatus:t.typeVal}}).then((e=>{U.value=e.data,ie(U.value[0].id)}))},le=(e,a,l)=>{if(_[e]=a.val,i.value.highlight(l,a.val),"prices"==e){const a=_[e].split(",");a.length>1?"0,0"==_[e]?(_.priceLow="",_.priceHigh="",i.value.highlight(2,"")):(_.priceLow=a[0],_.priceHigh=a[1]):(_.priceLow=a[0],_.priceHigh="")}else z.value.brandId=_.brandId,z.value.seriesId=_.seriesId,z.value.orders=_.orders,pe()},te=()=>{z.value.priceLow=_.priceLow,z.value.priceHigh=_.priceHigh,z.value.prices=_.prices,oe()};o((()=>[_.priceHigh,_.priceLow]),(()=>{if("不限"==_.priceHigh&&"不限"==_.priceLow)return _.priceHigh="",_.priceLow="",_.prices="",void i.value.highlight(2,"");_.priceHigh||_.priceLow?_.priceHigh&&!_.priceLow?"0"==_.priceHigh?(i.value.highlight(2,!0),_.prices=""):(i.value.highlight(2,`${_.priceHigh}`),_.prices=`${_.priceHigh}`):_.priceLow&&!_.priceHigh?"0"==_.priceLow?(i.value.highlight(2,!0),_.prices=""):(i.value.highlight(2,`${_.priceLow}`),_.prices=`${_.priceLow}`):_.priceLow&&_.priceHigh&&(i.value.highlight(2,`${_.priceLow},${_.priceHigh}`),_.prices=`${_.priceLow},${_.priceHigh}`):(_.priceHigh="",_.priceLow="",_.prices="0,0",i.value.highlight(2,""))}));const se=r([]),ie=e=>{uni.$u.http.get("/product/carProductApp/getSeries",{params:{vehicleStatus:t.typeVal,brandId:e}}).then((a=>{se.value=a.data,C.value=e}))},oe=async()=>{K.value&&(_.brandId=K.value.brandId,_.seriesId=K.value.seriesId,_.orders=K.value.orders||z.value.orders||re[t.typeVal][0].key,await ue()),pe()},de=async(e,a,l)=>{if(console.log(l,123),l)if(l.length>0){_.brandId=[...new Set(l.map((e=>e.brandTag)))],_.seriesId=l.map((e=>e.seriesTag));const e=((e,a)=>{const l={};return e.forEach((e=>{const t=e[a];l[t]||(l[t]={});for(const[s,r]of Object.entries(e))s!==a&&(l[t][s]||(l[t][s]=[]),l[t][s].push(r),l[t][s]=[...new Set(l[t][s])])})),l})(l=l.map((e=>({brandTag:e.brandTag,seriesTag:e.seriesTag,ids:e.brandTag}))),"ids"),a=Object.values(e).map((e=>({brandId:e.brandTag[0],seriesIdList:e.seriesTag})));_.brandSeriesMapList=a,a.length>0?i.value.highlight(1,_.seriesId||_.brandId):i.value.highlight(1,!1)}else _.brandId=[],_.seriesId=[],_.brandSeriesMapList=[],z.value.brandSeriesMapList=[],i.value.highlight(1,!1);else e.value&&(_.brandId=e),a.value&&(_.seriesId=a),_.seriesId||_.brandId?i.value.highlight(1,_.seriesId||_.brandId):i.value.highlight(1,!1);z.value.brandId=_.brandId,z.value.seriesId=_.seriesId,z.value.brandSeriesMapList=_.brandSeriesMapList,K.value&&await ue(),pe("brand")},ue=()=>{_.powerType=K.value.powerType,_.stockStatus=K.value.stockStatus,_.registerDateStart=K.value.registerDateStart,_.registerDateEnd=K.value.registerDateEnd,_.mileageArrs=K.value.mileageArrs,_.salesMethod=K.value.salesMethod,_.startMileage=K.value.startMileage,_.endMileage=K.value.endMileage,_.startStorageAge=K.value.startStorageAge,_.endStorageAge=K.value.endStorageAge,_.startOnSaleDays=K.value.startOnSaleDays,_.endOnSaleDays=K.value.endOnSaleDays,_.salesType=K.value.salesType,_.bodyColor=K.value.bodyColor,_.colorDataArrs=K.value.colorDataArrs,_.dischargeStandard=K.value.dischargeStandar},ce=r({}),pe=e=>{var a;(null==(a=_.brandSeriesMapList)?void 0:a.length)||(z.value.brandSeriesMapList=[]);const l={..._,...z.value};ce.value=l,e?s("search",l,e):s("search",l),i.value.close()},ve=(e,a)=>{const l=_.priceLow,t=_.priceHigh;if(l&&t&&parseFloat(l)>parseFloat(t))return V({title:"最高价必须大于最低价",icon:"none"}),void(_[a]="")};o(_.orders,(()=>{console.log("queryData.orders",_.orders)}));const ge=r();return a({clearTabStatus:()=>{ge.value.resetFilter(),j((()=>{_.orders=f.value}))}}),(e,a)=>{const l=h,t=d(c("up-icon"),u),s=d(c("up-input"),p),r=w;return g(),v(Z,{ref_key:"uDropdownRef",ref:i,class:"drop",borderRadius:"20rpx",onOpen:B,onClose:q,activeColor:"#3C73FF"},{default:y((()=>[m(ee,{title:"排序"},{default:y((()=>[m(l,{class:"item-list"},{default:y((()=>[(g(!0),D(M,null,I(S(T),((e,a)=>(g(),v(l,{key:a,class:L({active:S(_).orders==e.val}),onClick:a=>le("orders",e,0)},{default:y((()=>[m(l,null,{default:y((()=>[A(k(e.label),1)])),_:2},1024),S(_).orders==e.val?(g(),v(t,{key:0,name:"checkbox-mark",color:"#3C73FF",size:"20"})):b("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),m(ee,{title:"品牌"},{default:y((()=>[m(ne,{ref_key:"brandDropRef",ref:R,onSearch:de,typeMethod:"car",isMultiple:!0,carType:e.typeVal,pBrand:S(_).brandId,pSeries:S(_).seriesId},null,8,["carType","pBrand","pSeries"])])),_:1}),m(ee,{title:"价格"},{default:y((()=>[m(l,{class:"price-list"},{default:y((()=>[m(l,{class:"price-item"},{default:y((()=>[(g(!0),D(M,null,I(S(x),((e,a)=>(g(),v(l,{key:a,class:L({active:S(_).prices==e.val}),onClick:a=>le("prices",e,2)},{default:y((()=>[A(k(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),m(l,{class:"customs"},{default:y((()=>[m(s,{type:"number",inputAlign:"center",placeholder:"最低价",border:"bottom",modelValue:S(_).priceLow,"onUpdate:modelValue":a[0]||(a[0]=e=>S(_).priceLow=e),clearable:"",onBlur:a[1]||(a[1]=e=>ve(0,"priceLow"))},null,8,["modelValue"]),m(r,null,{default:y((()=>[A("-")])),_:1}),m(s,{type:"number",inputAlign:"center",placeholder:"最高价",border:"bottom",modelValue:S(_).priceHigh,"onUpdate:modelValue":a[2]||(a[2]=e=>S(_).priceHigh=e),clearable:"",onBlur:a[3]||(a[3]=e=>ve(0,"priceHigh"))},null,8,["modelValue"])])),_:1}),m(l,{onClick:te,class:"btns"},{default:y((()=>[A("确认")])),_:1})])),_:1})])),_:1}),m(ee,{title:"筛选"},{default:y((()=>[m(l,{class:"all-list"},{default:y((()=>[(g(),v(me,{key:Math.random(),ref_key:"allFilterRef",ref:ge,initData:S(z),methodTypes:e.methodTypes,colorData:S(G),typeVal:e.typeVal,carBodyArr:S(F),onClearOut:J,onSaveStatusVal:Y,onFilterList:W,choicenessFlag:e.choicenessFlag,gearboxDatas:S(H)},null,8,["initData","methodTypes","colorData","typeVal","carBodyArr","choicenessFlag","gearboxDatas"]))])),_:1})])),_:1})])),_:1},512)}}}),[["__scopeId","data-v-4b07a23f"]]),be=U(e({__name:"carList",setup(e){const l=pe(),t=H(),i=r([]),o=r(),p=r("ON_SALE_ALL"),f=r([]),_=r([]),O=r({}),x=n((()=>_.value.length<=1)),j=P({current:1,size:20,total:0,status:"ON_SALE_ALL",orders:re[p.value][0].key,priceHigh:"",priceLow:"",brandId:[],seriesId:[],stockStatus:"",registerDateStart:"",registerDateEnd:"",mileageArrs:"",startMileage:"",endMileage:"",startStorageAge:"",endStorageAge:"",startOnSaleDays:"",endOnSaleDays:"",salesType:"",colorDataArrs:"",dischargeStandard:"",microStoreShelfStatus:"",yearModel:null,carSeriesLevel:"",appraiserIdList:[]}),U=r("");N((e=>{var a;$("updateData",(({content:e,id:a,posterId:l})=>{e&&(O.value.documentText=e),a&&(O.value.documentTextId=a),l&&(O.value.posterId=a)})),U.value=e.quick,p.value=e.type,j.status=p.value,j.orders=re[p.value][0].key,j.brandId=e.brandId,j.seriesId=e.seriesId,j.modelId=e.modelId,e.regionId&&(j.regionId=e.regionId),Ee(),null==(a=o.value)||a.initTop(),se()}));const E=()=>{ke.value=!1,_e.value=!0},te=r([]),se=()=>{uni.$u.http.get("product/common/getInitSelect").then((e=>{const a=e.data;te.value=a.SalesMethodEnum}))},ie=r([]),ne=r(!0);a((()=>{ie.value=JSON.parse(s("userBtnPermission")||"{}").map((e=>e)),ne.value=!(!ie.value.includes("product:info")&&!ie.value.includes("inventory:info")),Ue(),$e()}));const me=r(!1),be=async()=>{if(!i.value.length)return void(me.value=!1);const e=!me.value;if(e){R({title:"操作中",mask:!0});const e=await we();f.value=await Oe(e.slice(0,9)),_.value=e,q()}else f.value=[],_.value=[];me.value=e},Se=r(!1),_e=r(!1),ke=r(!1),De=()=>{f.value=[],_.value=[],me.value=!1,_e.value=!0,Se.value=!Se.value},Ie=()=>{_e.value=!1,Se.value=!Se.value,me.value=!1,f.value=[],_.value=[],i.value=i.value.map((e=>({...e,checked:!1})))},Ce=()=>{_e.value=!0},Me=r(""),Ae=r(""),Le=n((()=>{var e;if(1===f.value.length&&3===xe.value){const a=((null==(e=f.value[0])?void 0:e.carAttachmentInfo)||[]).filter((e=>["Cover","APPEARANCE"].includes(e.carAttachmentType))).map((e=>decodeURIComponent(e.attachmentUrl)));return a.length?a:[J]}const a=f.value.map((e=>e.coverUrl));return a.length?a:[J]})),Oe=async e=>(await B().post("/product/carProductApp/getShareProduct",e)).data||[],we=async()=>(await B().post("/product/carProductApp/vehiclePage/shareIds",je())).data||[],Te=async(e,a)=>new Promise(((l,t)=>{uni.$u.http.post("product/common/generateSmallProgramCode",{carProductId:e,path:a}).then((e=>{0==e.code?l(e.data):t(e.message)}))})),xe=r(1),Fe=r({}),Ve=async e=>{if(0==_.value.length)return V({title:"请先选择分享的车辆",icon:"none"});R({title:"加载中",mask:!0}),xe.value=e;const a=t.userInfo,l=_.value.join(",");Me.value=l;await Promise.all([(async()=>{f.value.length>1?Ae.value=await Te(l,"pagesA/carDetail/shareList"):Ae.value=await Te(l,"pagesA/carDetail/index")})(),(async()=>{const e=_.value.slice(0,9);f.value=await Oe(e)})()]),q(),ke.value=!0,_e.value=!1,Fe.value={userInfo:a,fullPath:"pages/carManage/details/shareList",checkCarDetails:f.value,checkCarIds:_.value}},je=()=>{const e={...ve(j,"total")};return e.sourceModel="CAR_MANAGEMENT",1!=l.value.choicenessFlag&&0!=l.value.choicenessFlag||(e.choicenessFlag=l.value.choicenessFlag),e};async function Ue(){var e;try{R({title:"加载中"});const e=je();"PAYMENT_ING"==e.status&&(e.status="CAR_PAYMENT_ING");const a=await B().post("/product/carProductApp/vehiclePage",e);j.total=+a.data.count;const l=a.data.results.map((e=>({...e,coverUrl:decodeURIComponent(e.coverUrl),checked:!1})));if(+a.data.count===i.value.length&&1!=j.current)return;i.value=1===j.current?l:[...i.value,...l]}finally{q(),null==(e=o.value)||e.loadFinish()}}const Pe=r(),Ee=()=>{j.current=1,me.value=!1,f.value=[],_.value=[],Ue()},He=()=>{j.current++,Ue()},Ne=r([]),$e=()=>{const e=JSON.parse(JSON.stringify(j||{}));delete e.sort,delete e.current,delete e.size,delete e.total,delete e.yearModel,uni.$u.http.post("product/carProductApp/getCarYear",{...e}).then((e=>{e.data.length>0?(Ne.value=e.data,Ne.value.unshift("全部"),j.yearModel?Be.value=j.yearModel:(Be.value="全部",j.yearModel=null)):(Ne.value=[],Be.value=null,j.yearModel=null)}))},Re=(e,a)=>{var l,t,s;console.log(e,"handleSearch"),me.value=!1,j.current=1,j.brandId=e.brandId||[],j.seriesId=e.seriesId||[],j.priceHigh=e.priceHigh||"",j.priceLow=e.priceLow||"",j.orders=e.orders||"latestRelease",j.stockStatus=e.stockStatus,j.registerDateStart=e.registerDateStart,j.registerDateEnd=e.registerDateEnd,j.mileageArrs=e.mileageArrs,j.startMileage=e.startMileage,j.endMileage=e.endMileage,j.startStorageAge=e.startStorageAge,j.endStorageAge=e.endStorageAge,j.startOnSaleDays=e.startOnSaleDays,j.endOnSaleDays=e.endOnSaleDays,j.salesType=e.salesType,j.colorDataArrs=e.colorDataArrs,j.dischargeStandard=e.dischargeStandard,j.microStoreShelfStatus=e.microStoreShelfStatus,j.bodyColor=e.bodyColor,j.salesMethod=e.salesMethod,j.choicenessFlag=e.choicenessFlag,j.driveModeType=e.driveModeType,j.gearboxType=e.gearboxType,j.parallelImportFlag=e.parallelImportFlag,j.energyType=e.energyType,j.carSeat=e.carSeat,j.carSeriesLevel=e.carSeriesLevel,j.appraiserIdList=(null==(l=e.appraisers)?void 0:l.map((e=>e.id)))||[],j.salesUserIdList=(null==(t=e.salesUsers)?void 0:t.map((e=>e.id)))||[],e.brandSeriesMapList&&e.brandSeriesMapList.length>0?j.brandSeriesMapList=e.brandSeriesMapList:j.brandSeriesMapList=[],a&&(j.yearModel=null),j.brandId.length>0&&j.seriesId.length>0?j.yearModel||$e():(Be.value=null,j.yearModel=null),Ee(),null==(s=o.value)||s.initTop()},Be=r(null),qe=r(),Je=r(Object.entries(le).map((([e,a])=>({label:a,val:e})))),Ge=n((()=>{var e;return(null==(e=re[p.value].find((e=>e.default)))?void 0:e.key)||re[p.value][0].key}));return(e,a)=>{const t=h,s=d(c("up-icon"),u),r=C,n=w,V=d(c("u-popup"),G),P=z("permissionBtn");return g(),v(t,{class:"page f-c-s car-lists"},{default:y((()=>{var d,u,c;return[m(ae,null,{title:y((()=>[m(t,{class:"head-drop",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:y((()=>{var e,a,r;return[S(U)||(null==(e=S(l))?void 0:e.testDrive)?b("",!0):(g(),v(Z,{key:0,ref_key:"uDropdownRef",ref:Pe,class:"drop",borderRadius:"20rpx"},{default:y((()=>{return[m(ee,{title:(e=S(p),le[e])},{default:y((()=>[m(t,{class:"item-list"},{default:y((()=>[(g(!0),D(M,null,I(S(Je),((e,a)=>(g(),v(t,{key:a,class:L({active:S(p)==e.val}),onClick:a=>(e=>{var a;Se.value=!1,_e.value=!1,p.value=e.val,qe.value.clearTabStatus(),console.log(Ge.value,"sortKey"),j.orders=Ge.value,j.status=e.val,Pe.value.close(),j.brandId=[],j.seriesId=[],j.priceHigh="",j.priceLow="",j.stockStatus="",j.registerDateStart="",j.registerDateEnd="",j.mileageArrs=[],j.startMileage="",j.endMileage="",j.startStorageAge="",j.endStorageAge="",j.startOnSaleDays="",j.endOnSaleDays="",j.salesType="",j.colorDataArrs=[],j.dischargeStandard="",j.microStoreShelfStatus="",j.bodyColor=[],j.salesMethod="",j.yearModel=null,Be.value=null,Ee(),null==(a=o.value)||a.initTop()})(e)},{default:y((()=>[m(t,null,{default:y((()=>[A(k(e.label),1)])),_:2},1024),S(p)==e.val?(g(),v(s,{key:0,name:"checkbox-mark",color:"#DD4F33",size:"20"})):b("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1},8,["title"])];var e})),_:1},512)),S(U)&&!(null==(a=S(l))?void 0:a.testDrive)?(g(),v(t,{key:1},{default:y((()=>[A("在售(全部)")])),_:1})):b("",!0),"1"==(null==(r=S(l))?void 0:r.testDrive)?(g(),v(t,{key:2},{default:y((()=>[A("试乘试驾")])),_:1})):b("",!0)]})),_:1})])),right:y((()=>[["sell","reserve"].includes(S(U))?(g(),v(t,{key:0,class:"nav-right"},{default:y((()=>[m(r,{src:W,onClick:a[0]||(a[0]=a=>("toPage"in e?e.toPage:S(F))(`/pages/carManage/searchCarQuick?quick=${S(U)}`))})])),_:1})):b("",!0),S(U)?b("",!0):(g(),v(t,{key:1,class:"nav-right"},{default:y((()=>{var t;return[m(r,{src:W,onClick:a[1]||(a[1]=a=>("toPage"in e?e.toPage:S(F))("/pages/carManage/searchCar?source=car"+(S(l).testDrive?"&testDrive=1":"")))}),S(j).regionId||(null==(t=S(l))?void 0:t.testDrive)?b("",!0):Y((g(),v(r,{key:0,src:X,onClick:a[2]||(a[2]=a=>("toPage"in e?e.toPage:S(F))(`/pages/carManage/addCar?choicenessFlag=${S(l).choicenessFlag}`))},null,512)),[[P,["product:add"]]])]})),_:1}))])),_:1}),m(fe,{ref_key:"filterRef",ref:qe,methodTypes:S(te),typeVal:S(p),choicenessFlag:S(l).choicenessFlag,onSearch:Re},null,8,["methodTypes","typeVal","choicenessFlag"]),(null==(d=S(j).brandId)?void 0:d.length)>0&&(null==(u=S(j).seriesId)?void 0:u.length)>0&&S(Ne).length>0&&S(i).length>0?(g(),v(t,{key:0,class:"year-list"},{default:y((()=>[(g(!0),D(M,null,I(S(Ne),(e=>(g(),v(n,{onClick:a=>{return l=e,f.value=[],_.value=[],me.value=!1,Be.value=l,j.yearModel=l,"全部"==j.yearModel&&(j.yearModel=null),void Ue();var l},class:L(["year-item",{active:S(Be)==e}]),key:e},{default:y((()=>[A(k(e),1)])),_:2},1032,["onClick","class"])))),128))])),_:1})):b("",!0),S(U)?b("",!0):(g(),v(t,{key:1,class:"total"},{default:y((()=>[m(t,null,{default:y((()=>[S(Se)?(g(),v(t,{key:1,onClick:be,class:"alls"},{default:y((()=>[m(r,{class:"img",src:S(me)?"/static/carManage/select_y.png":"/static/carManage/select_n.png"},null,8,["src"]),m(t,null,{default:y((()=>[A("全选 "),m(n,{class:"count"},{default:y((()=>[A("( "+k(S(_).length)+"/"+k(S(j).total)+" )",1)])),_:1})])),_:1})])),_:1})):(g(),v(t,{key:0},{default:y((()=>[A("共找到 "+k(S(j).total)+" 辆",1)])),_:1}))])),_:1}),S(ue)({queryType:S(p)})&&S(i).length?(g(),v(t,{key:0,class:"handle-btn"},{default:y((()=>[S(Se)?(g(),v(t,{key:1,onClick:Ie},{default:y((()=>[A("取消分享")])),_:1})):(g(),v(t,{key:0,onClick:De},{default:y((()=>[A("多车分享")])),_:1}))])),_:1})):b("",!0)])),_:1})),m(oe,K({ref_key:"listLoadRef",ref:o,class:"scroll-view-box"},S(j),{istop:!1,onLoadMore:He,onLoadRefresh:Ee}),{default:y((()=>[Y(m(t,{class:"list-box"},{default:y((()=>[(g(!0),D(M,null,I(S(i),(e=>(g(),v(de,{key:e.id,hasCarAuth:S(ne),onSelect:a=>(e=>{const a=_.value.findIndex((a=>a===e.id));a<0?_.value.push(e.id):_.value.splice(a,1),me.value=_.value.length==j.total})(e),hasCheck:S(Se),quick:S(U),item:e,testDrive:S(l).testDrive,queryType:S(p),"is-checked":S(_).includes(e.id),isSold:!!["PAYMENT_ING","SOLD_OUT","LOCKED","TO_BE_SIGNED"].includes(S(j).status)},null,8,["hasCarAuth","onSelect","hasCheck","quick","item","testDrive","queryType","is-checked","isSold"])))),128))])),_:1},512),[[Q,S(i).length]])])),_:1},16),S(ke)?(g(),v(ce,{key:2,onShowPoup:Ce,listShareObj:S(Fe),tabNum:S(xe),imageData:S(Le),qrCodeData:S(Ae),onClose:E,showPoster:S(x),backData:S(O),carProductId:null==(c=S(f)[0])?void 0:c.id,visible:S(ke),checkCarDetailList:S(f)},null,8,["listShareObj","tabNum","imageData","qrCodeData","showPoster","backData","carProductId","visible","checkCarDetailList"])):b("",!0),m(V,{overlay:!1,mode:"bottom",round:20,closeOnClickOverlay:!0,show:S(_e),onClose:a[6]||(a[6]=e=>_e.value=!1),style:T(S(_e)?"flex: none !important; height: 100px":"")},{default:y((()=>[m(t,{class:"share-box"},{default:y((()=>[m(t,{onClick:a[3]||(a[3]=e=>Ve(1))},{default:y((()=>[m(r,{src:ge}),m(t,{class:"share-type"},{default:y((()=>[A("链接")])),_:1})])),_:1}),S(x)?(g(),v(t,{key:0,onClick:a[4]||(a[4]=e=>Ve(2))},{default:y((()=>[m(r,{src:he}),m(t,{class:"share-type"},{default:y((()=>[A("拼图")])),_:1})])),_:1})):b("",!0),m(t,{onClick:a[5]||(a[5]=e=>Ve(3))},{default:y((()=>[m(r,{src:ye}),m(t,{class:"share-type"},{default:y((()=>[A("多图")])),_:1})])),_:1})])),_:1})])),_:1},8,["show","style"])]})),_:1})}}}),[["__scopeId","data-v-dbe0dd72"]]);export{be as default};
