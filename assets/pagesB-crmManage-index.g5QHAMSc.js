import{d as a,r as e,E as s,c as t,w as l,i as r,I as n,M as o,K as i,N as c,o as u,a as d,P as f,u as g,Q as m,g as _,a5 as p,O as h,b as y,F as v,e as k,t as x,_ as C}from"./index-CK4DGatK.js";import{_ as b}from"./add.BenfLO0n.js";import{N as w}from"./NavBar.DSs5OGCU.js";import{c as M}from"./crm.-ZWUD7KR.js";const j=C(a({__name:"index",setup(a){const C=e([]),j=e([]);s((()=>{B(0),B(1)}));const B=a=>{uni.$u.http.get(M.getstatistics,{params:{clueType:a}}).then((e=>{0===a&&(C.value=e.data),1===a&&(j.value=e.data)}))},P=(a,e)=>{console.log(a,typeof a),m(`/pagesB/crmManage/searchList?type=${null===a?"":a}&clueType=${e}`)},N=e(!1);async function T(){N.value=!0,await Promise.all([B(0),B(1)]),setTimeout((()=>{N.value=!1}),200)}return(a,e)=>{const s=r,M=f,B=n(i("up-icon"),o),$=p,z=c("permissionBtn");return u(),t(s,{class:"page f-c-s"},{default:l((()=>[d(w,null,{title:l((()=>[d(s,{class:"head-drop f-r-a f-r-c"},{default:l((()=>[_("客户管理")])),_:1})])),right:l((()=>[d(s,{class:"nav-right"},{default:l((()=>[d(M,{src:b,onClick:e[0]||(e[0]=e=>("toPage"in a?a.toPage:g(m))("/pagesB/crmManage/addCustom"))})])),_:1})])),_:1}),d($,{"scroll-y":"","refresher-enabled":!0,"refresher-triggered":g(N),onRefresherrefresh:T,class:"scroll-view-box",style:{height:"100%"}},{default:l((()=>[h((u(),t(s,{class:"main-box"},{default:l((()=>[d(s,{class:"title"},{default:l((()=>[_("销售客户")])),_:1}),d(s,{class:"inventory"},{default:l((()=>[(u(!0),y(v,null,k(g(C),((a,e)=>(u(),t(s,{key:e,onClick:e=>P(a.code,"0")},{default:l((()=>[d(s,null,{default:l((()=>[_(x(a.description),1)])),_:2},1024),d(s,null,{default:l((()=>[_(x(a.count),1),d(B,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})),[[z,["crmManage:sales:info"]]]),h((u(),t(s,{class:"main-box"},{default:l((()=>[d(s,{class:"title"},{default:l((()=>[_("评估客户 ")])),_:1}),d(s,{class:"inventory"},{default:l((()=>[(u(!0),y(v,null,k(g(j),((a,e)=>(u(),t(s,{key:e,onClick:e=>P(a.code,"1")},{default:l((()=>[d(s,null,{default:l((()=>[_(x(a.description),1)])),_:2},1024),d(s,null,{default:l((()=>[_(x(a.count),1),d(B,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})),[[z,["crmManage:pricing:info"]]])])),_:1},8,["refresher-triggered"])])),_:1})}}}),[["__scopeId","data-v-36aec553"]]);export{j as default};
