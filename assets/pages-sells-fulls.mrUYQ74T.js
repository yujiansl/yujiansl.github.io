import{d as e,r as a,c as l,w as t,i as u,I as n,M as s,K as o,o as d,a as m,g as i,h as f,a7 as c,u as r,t as _,R as v,aj as p,W as h,a0 as y,a1 as g,s as x,_ as R}from"./index-CK4DGatK.js";import{u as V}from"./useQuery.3dd8K18V.js";import{a as b}from"./index.HDA2F_3Q.js";const P=R(e({__name:"fulls",setup(e){const R=V(),P=a({fullPaymentTime:"",amountReceived:"",note:""}),T=e=>{P.value.fullPaymentTime=e.detail.value},j=()=>{const{fullPaymentTime:e,amountReceived:a}=P.value;e?a?uni.$u.http.put("product/order/car/custom/fullCollection",{...P.value,id:R.value.id}).then((()=>{y({title:"收齐全款成功",icon:"none"}),g()})):y({title:"请输入已收金额",icon:"none"}):y({title:"请选择收齐全款时间",icon:"none"})};return(e,a)=>{const y=f,g=u,R=c,V=n(o("up-icon"),s),w=v,C=p,I=h;return d(),l(g,{class:"fulls page"},{default:t((()=>[m(g,{class:"content"},{default:t((()=>[m(g,{class:"form-box"},{default:t((()=>[m(g,{class:"form-item"},{default:t((()=>[m(g,null,{default:t((()=>[m(y,null,{default:t((()=>[i("*")])),_:1}),i("收齐全款时间")])),_:1}),m(R,{mode:"date",value:r(P).fullPaymentTime,onChange:T},{default:t((()=>[m(g,null,{default:t((()=>[i(_(r(P).fullPaymentTime||"请选择"),1)])),_:1})])),_:1},8,["value"]),m(V,{name:"arrow-right"})])),_:1}),m(g,{class:"form-item"},{default:t((()=>[m(g,null,{default:t((()=>[m(y,null,{default:t((()=>[i("*")])),_:1}),i("已收金额")])),_:1}),m(w,{modelValue:r(P).amountReceived,"onUpdate:modelValue":a[0]||(a[0]=e=>r(P).amountReceived=e),type:"number",placeholder:"请输入",maxlength:"7",onInput:a[1]||(a[1]=e=>{return a=e.detail.value,l="amountReceived",t="yuan",void x((()=>{P.value[l]=b(a,t)}));var a,l,t})},null,8,["modelValue"]),i(" 元 ")])),_:1}),m(g,{class:"form-textarea"},{default:t((()=>[m(g,{class:"area-title"},{default:t((()=>[i("备注")])),_:1}),m(C,{modelValue:r(P).note,"onUpdate:modelValue":a[2]||(a[2]=e=>r(P).note=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),m(g,{class:"limit"},{default:t((()=>[i(_(r(P).note.length)+"/1000",1)])),_:1})])),_:1})])),_:1})])),_:1}),m(g,{class:"bottom-btn"},{default:t((()=>[m(I,{class:"save-btn w_100",onClick:j},{default:t((()=>[i("收齐全款")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-d883ff51"]]);export{P as default};
