import{_ as t,c as e,o as i,w as s,a as n,i as o,f as l,n as a,b as d,F as r,e as h,S as c,h as u,g as p,t as A,P as g,j as m,O as f,T as y}from"./index-CK4DGatK.js";const C=t({name:"u-dropdown",props:{activeColor:{type:String,default:"#333"},inactiveColor:{type:String,default:"#54565A"},closeOnClickMask:{type:Boolean,default:!0},closeOnClickSelf:{type:Boolean,default:!0},duration:{type:[Number,String],default:300},height:{type:[Number,String],default:"94rpx"},borderBottom:{type:Boolean,default:!1},titleSize:{type:[Number,String],default:"28rpx"},borderRadius:{type:[Number,String],default:0},menuIcon:{type:String,default:"arrow-down"},menuIconSize:{type:[Number,String],default:"26rpx"}},data:()=>({showDropdown:!0,menuList:[],active:!1,current:99999,contentStyle:{zIndex:-1,opacity:0},highlightIndexs:[],contentHeight:0}),computed:{popupStyle(){let t={};return t.transform=`translateY(${this.active?0:"-100%"})`,t["transition-duration"]=this.duration/1e3+"s",t.borderRadius=`0 0 ${this.borderRadius} ${this.borderRadius}`,t}},created(){this.children=[]},methods:{init(){this.menuList=[],this.children.map((t=>{t.init()}))},menuClick(t){if(this.menuList[t].disabledDefault)this.$emit("checkUserList");else if(!this.menuList[t].disabled)return t===this.current&&this.closeOnClickSelf?(this.close(),void setTimeout((()=>{this.children[t].active=!1}),this.duration)):void this.open(t)},open(t){this.getContentHeight(),this.contentStyle={zIndex:11},this.active=!0,this.current=t,this.children.map(((e,i)=>{e.active=t==i})),this.$emit("open",this.current)},close(){this.$emit("close",this.current),this.active=!1,this.current=99999,this.contentStyle={zIndex:-1,opacity:0},this.contentHeight=0},maskClick(){this.closeOnClickMask&&this.close()},highlight(t=void 0,e,i){if(void 0===t)this.highlightIndexs=[];else{const s=this.highlightIndexs.findIndex((e=>e===t));if(void 0!==i)return void(i&&-1===s?this.highlightIndexs.push(t):!i&&s>-1&&this.highlightIndexs.splice(s,1));e?(this.highlightIndexs.push(t),this.highlightIndexs=[...new Set(this.highlightIndexs)]):s>-1&&this.highlightIndexs.splice(s,1)}},getContentHeight(){let t=this.$u.sys().windowHeight;this.$uGetRect(".u-dropdown__menu").then((e=>{this.contentHeight=t-e.bottom}))}}},[["render",function(t,f,y,C,b,w){const _=u,v=g,I=o;return i(),e(I,{class:"u-dropdown"},{default:s((()=>[n(I,{class:a(["u-dropdown__menu",{"u-border-bottom":y.borderBottom}]),style:l({height:y.height})},{default:s((()=>[(i(!0),d(r,null,h(b.menuList,((t,o)=>(i(),e(I,{class:"u-dropdown__menu__item",key:o},{default:s((()=>[n(I,{class:"u-flex",onClick:c((t=>w.menuClick(o)),["stop"])},{default:s((()=>[n(_,{class:a(["u-dropdown__menu__item__text",{"font-family":o===b.current||b.highlightIndexs.includes(o)}]),style:l({fontWeight:b.highlightIndexs.includes(o)?"bold":"normal",color:t.disabled?"#c0c4cc":b.highlightIndexs.includes(o)?"#3C73FF":o===b.current?y.activeColor:y.inactiveColor,fontSize:y.titleSize})},{default:s((()=>[p(A(t.title),1)])),_:2},1032,["style","class"]),n(I,{class:a(["u-dropdown__menu__item__arrow",{"u-dropdown__menu__item__arrow--rotate":o===b.current}])},{default:s((()=>[["筛选"].includes(t.title)?(i(),e(v,{key:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAdtJREFUOE/llLFrFEEUxr9v7y6cEDGNXYrV3Vsk5jaxEGIpClpcau3UwsqAlmlEBcE/wNhrFfsEVFAQUihYJLdBkL09ncbaoIXHuTvPe4ORU+8OY65zupnZ+b233/fxiDEvhuHccZRsOBZu4WUMavEnElPjAIpgh0FUv09wyQFFXgo9sze4TBM4655DVgigHEbxGoDzEMnyb6WTxmzt/A3U9+enypXiDUiV7GmWJosKxOGZmclDeXkDwLxAnhfdL4vGmM4oqO/71dLEwTWC2t1W3v18St84oK4wjKfFwwYBX4QP263mlVHAIIpXCVwUwBTd7mlj3jmpfgJ1EwTxLEt4BWCyt7+dpcmdQdAwim/pPUQ6Be3Ch/Rtc/e7X4Cu02Nz52BlXbXtVb/cTpNH/dAgmr1AeI8B5LBsZFnzWf/9H0AHjerXAK5oB5ZsvE+TF3p+NIrPeNBirAKylKXbD37/g4HAH9B7AJc1W1/ZqenZAam2NLMicrfd2r45SI6hQAet1VsaCUp+wuWM5U01oSfDkWGGjQZG8aZGqR+oEcnSxBXYe4f/M9A2APtRTdmvhk/c0HAW4zWIhX0B3TSZsNd7WbzRNzP/3eXdWCi4UrGXLGWZ4HqWJleHxeY7tJ3WKW1y/o0AAAAASUVORK5CYII=",style:{width:"20rpx",height:"20rpx"}})):(i(),e(v,{key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAAAXNSR0IArs4c6QAAAddJREFUWEftlT9IG3EUx7/vTFqkWB06KUi71JCAq6uFDs2gpCS/IxcQLLg6t+ONdu5a0OkS73fRoINdiq6uhYh/huKgk4NaKjXJ/V75YSMaEy8nQjrcbT/e+773/X3uPX6EHn/U4/6IDEQEIgIRgYjA/0tACDHCFN/Sb4Vq4O3KinMY5t0QYmaUyf+uNcT1SSnlUTt9RwLCLOwx8LopYnCh7BZLADjACGVNK08g5zqPcOgtOy9DGciZhQsA/TdFBF5PJccytm2rdsVs2zaqOwerDJ5uibPnOkZYAwsAPt4V0WmjFn9VqSyd3oxlZmeHYhf1nwAPtWn02XOdT6EM6ORcriBgwG0jVAzOlN3iuo5lTWuKQBUAd2+pfNPzlmWn3xa4BdP5/PATRTsADbZiBbhEZDAzW3rWbsf5rPaHk2trpeP7ZibQgBan0/NPnw2cVAB6190m8Lffv15kNja+XAbld2VAF9ED9qO6/8EgfL2vqGI1N55KLHYa1FZt1waawqxlJcinbQDPb28IzpXPE+VycTfo1i26MOlXuUKIQVB8lYE3+kzAJrj+Xkp5FrZaaALNBkKIPqViKX02jEZVSumHbf7P/ENkj6d5MIHHshAZiAhEBHpO4C/RvJIi9fjKFQAAAABJRU5ErkJggg=="}))])),_:2},1032,["class"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1},8,["style","class"]),n(I,{class:"u-dropdown__content",style:l([b.contentStyle,{top:y.height,height:b.contentHeight+"px"}]),onClick:w.maskClick,onTouchmove:f[1]||(f[1]=c((()=>{}),["stop","prevent"]))},{default:s((()=>[n(I,{onClick:f[0]||(f[0]=c((()=>{}),["stop","prevent"])),class:"u-dropdown__content__popup",style:l([w.popupStyle])},{default:s((()=>[m(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),n(I,{class:"u-dropdown__content__mask"})])),_:3},8,["style","onClick"])])),_:3})}],["__scopeId","data-v-49791019"]]);const b=t({name:"u-dropdown-item",props:{value:{type:[Number,String,Array],default:""},title:{type:[String,Number],default:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:"auto"},disabledDefault:{type:Boolean,default:!1}},data:()=>({active:!1,activeColor:"#2979ff",inactiveColor:"#606266"}),computed:{propsChange(){return`${this.title}-${this.disabled}`}},watch:{propsChange(t){this.parent&&this.parent.init()}},created(){this.parent=!1},methods:{init(){let t=this.$u.$parent.call(this,"u-dropdown");if(t){this.parent=t,this.activeColor=t.activeColor,this.inactiveColor=t.inactiveColor,t.children.find((t=>this===t))||t.children.push(this),1==t.children.length&&(this.active=!0),t.menuList.push({title:this.title,disabled:this.disabled,disabledDefault:this.disabledDefault})}},cellClick(t){this.$emit("input",t),this.parent.close(),this.$emit("change",t)}},mounted(){this.init()}},[["render",function(t,n,l,a,d,r){const h=o;return f((i(),e(h,{class:"u-dropdown-item",onTouchmove:c((()=>{}),["stop","prevent"]),onClick:c((()=>{}),["stop","prevent"])},{default:s((()=>[m(t.$slots,"default")])),_:3},512)),[[y,d.active]])}]]);export{C as U,b as a};
