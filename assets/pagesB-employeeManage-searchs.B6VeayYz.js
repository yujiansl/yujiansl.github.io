import{d as a,B as s,a9 as t,r as e,c as o,w as r,i as l,I as i,b9 as n,K as u,o as c,a as d,y as m,u as p,ad as f,b as _,g as y,t as j,F as b,e as h,a1 as v,Z as g,a2 as L,_ as k}from"./index-CK4DGatK.js";import{L as w}from"./ListLoadRefreshView.CnNC2lkG.js";import{e as x}from"./employItem.B9_dGooL.js";import{o as I}from"./omit.DzeQdT5l.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const R=k(a({__name:"searchs",setup(a){s((()=>{}));const k=t({current:1,size:20,total:0,keyWord:""}),R=e([]),C=e(),F=async()=>{var a;try{g({title:"加载中"});const a={...I(k,"total")},s=await uni.$u.http.get("admin/user/page",{params:a});k.total=s.data.total;const t=s.data.records;R.value=1===k.current?t:[...R.value,...t]}finally{L(),null==(a=C.value)||a.loadFinish()}},S=()=>{k.current=1,F()},T=()=>{console.log(123),k.current++,F()},V=e(!1),W=a=>{V.value=!0,k.keyWord=a,k.current=1,F()},z=()=>{v()};return(a,s)=>{const t=i(u("up-search"),n),e=l;return c(),o(e,{class:"employee"},{default:r((()=>[d(e,{class:"heads"},{default:r((()=>[d(t,{onSearch:W,onCustom:z,"show-action":!0,actionText:"取消"})])),_:1}),p(V)?(c(),o(e,{key:0,class:"contents"},{default:r((()=>[d(e,{class:"inner"},{default:r((()=>[d(w,f({ref_key:"listLoadRef",ref:C,class:"scroll-view-box"},p(k),{istop:!1,onLoadMore:T,onLoadRefresh:S}),{default:r((()=>[d(e,{class:"employ-list"},{default:r((()=>[d(e,{class:"sub-title"},{default:r((()=>[y("共"+j(p(k).total)+"位在职员工",1)])),_:1}),(c(!0),_(b,null,h(p(R),(a=>(c(),o(x,{key:a.userId,item:a},null,8,["item"])))),128))])),_:1})])),_:1},16)])),_:1})])),_:1})):m("",!0)])),_:1})}}}),[["__scopeId","data-v-7ed67bb1"]]);export{R as default};
