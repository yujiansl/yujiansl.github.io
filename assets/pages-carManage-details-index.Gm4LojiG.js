import{_ as a,I as e,ag as t,K as l,c as s,o as r,w as c,y as n,i as u,g as o,t as i,a as d,n as p,aM as f,b as m,F as _,e as v,aN as h,ax as g,u as y,P as b,d as k,q as P,r as w,v as I,a5 as C,h as D,au as S,Q as A,ai as E,D as L,x as O,M as N,ac as T,f as x,A as B,B as $,aO as F,G as M,aq as R,ah as j,W as U,ar as V,a1 as Y,$ as z,an as K,a9 as q,N as H,O as G,k as J,S as W,z as Q,a0 as X,Z,a2 as aa,aP as ea,aQ as ta,aa as la,aR as sa,X as ra,E as ca,a3 as na,a4 as ua,am as oa,aL as ia,a8 as da,ab as pa,aS as fa}from"./index-CK4DGatK.js";import{_ as ma}from"./share-btn.DkrQv59n.js";import{z as _a}from"./image.DobRSNlT.js";import{_ as va}from"./play.dJbs8fP_.js";import{T as ha}from"./tracks.Bx8MlLQ0.js";import{N as ga}from"./NavBar.DSs5OGCU.js";import{R as ya}from"./refuse.BEcO0WCW.js";import{u as ba}from"./useQuery.3dd8K18V.js";import{c as ka}from"./carVerify.BfKp_ULT.js";import{p as Pa,f as wa}from"./index.HDA2F_3Q.js";import{f as Ia}from"./time._VqwKl0d.js";import{a as Ca}from"./associationCarModal.C2s6tUSD.js";import{o as Da}from"./omit.DzeQdT5l.js";import{c as Sa}from"./callPhone.KEQUzljZ.js";import{n as Aa,p as Ea}from"./state.DbjE1IH2.js";import{n as La}from"./noPurchaseCarInfo.BiDwqUh1.js";import{i as Oa}from"./isEmpty.ma15Dxmc.js";import"./close.Dhgi5Ijg.js";import"./car_default.CyENNAub.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";import"./album.BQJzdOdy.js";import"./icon_right.CReGUlPS.js";import"./icon_check.YUHZtzzx.js";import"./PreviewManyCard.CWPi57V4.js";import"./avatar.hGMRw2TZ.js";import"./isNil.aV-w2MPu.js";import"./https.idd9Lf6d.js";const Na=a({props:{sourceList:{type:Array,default:()=>[]},platno:{type:String,default:""}},data:()=>({videoArr:[],currentVideoIndex:0,duration:500}),watch:{sourceList:{immediate:!0,handler(a){this.videoArr=a.filter((a=>"Video"==a.attachmentType))}}},methods:{onLoadImage(a){this.sourceList[a].loaded=!0},changeSwiper(a){this.currentVideoIndex=a.detail.current,this.sourceList[a.detail.current].loaded||(this.sourceList[a.detail.current].loaded=!0)},handlePage(a){this.duration=0,this.currentVideoIndex=a,setTimeout((()=>{this.duration=500}),600)}}},[["render",function(a,k,P,w,I,C){const D=u,S=g,A=b,E=e(l("up-loading-icon"),t),L=h,O=f;return r(),s(D,{class:"banner"},{default:c((()=>{var e;return[P.platno?(r(),s(D,{key:0,class:"product-no"},{default:c((()=>[o("No."+i(P.platno),1)])),_:1})):n("",!0),I.videoArr.length?(r(),s(D,{key:1,class:"banner-tab"},{default:c((()=>[d(D,{class:p({active:I.currentVideoIndex<P.sourceList.length-1}),onClick:k[0]||(k[0]=a=>C.handlePage(0))},{default:c((()=>[o("照片")])),_:1},8,["class"]),d(D,{class:p({active:I.currentVideoIndex==P.sourceList.length-1}),onClick:k[1]||(k[1]=a=>C.handlePage(P.sourceList.length-1))},{default:c((()=>[o("视频")])),_:1},8,["class"])])),_:1})):n("",!0),P.sourceList.length?(r(),s(D,{key:2,class:"nums"},{default:c((()=>[o(i(I.currentVideoIndex+1)+"/"+i(P.sourceList.length),1)])),_:1})):n("",!0),(null==(e=P.sourceList)?void 0:e.length)?(r(),s(O,{key:3,class:"swiper",current:I.currentVideoIndex,duration:I.duration,id:"swiper",onChange:C.changeSwiper},{default:c((()=>[(r(!0),m(_,null,v(P.sourceList,((e,t)=>(r(),s(L,{key:t,onClick:e=>a.$emit("clickSwiper",t)},{default:c((()=>["Video"==e.attachmentType?(r(),m(_,{key:0},[d(S,{src:e.attachmentUrl,"object-fit":"cover",poster:("zipImg"in a?a.zipImg:y(_a))(e.videoCover,50),"show-center-play-btn":!1,"show-fullscreen-btn":!1,controls:!1,"show-play-btn":!1,"show-progress":!1,"enable-progress-gesture":!1},null,8,["src","poster"]),d(D,{class:"cover-view"},{default:c((()=>[d(A,{src:va,mode:"aspectFit"})])),_:1})],64)):e.loaded||I.currentVideoIndex===t?(r(),s(A,{key:1,src:("zipImg"in a?a.zipImg:y(_a))(e.attachmentUrl,50),mode:"aspectFill",onLoad:a=>C.onLoadImage(t)},null,8,["src","onLoad"])):(r(),s(E,{key:2,size:"30"}))])),_:2},1032,["onClick"])))),128))])),_:1},8,["current","duration","onChange"])):(r(),s(A,{key:4,src:"./static/index/car_default.png"}))]})),_:1})}],["__scopeId","data-v-56e3aac0"]]),Ta=a(k({__name:"publicDetail",props:{type:{type:String,default:"archives"},pubData:{type:Object,default:{}}},setup(a){const e=a;P((()=>{t.value="archives"==e.type?l.value:p.value}));const t=w([]);I((()=>e.type),(()=>{t.value="archives"==e.type?l.value:p.value}),{deep:!0});const l=w([{label:"VIN码",val:"vinNo"},{label:"品牌车型",val:"carModelFullName"},{label:"表显里程",val:"mileage",unit:"万公里"},{label:"首次上牌",val:"registerDate",slot:!0},{label:"车身颜色",val:"bodyColor"},{label:"车牌号",val:"plateNo"},{label:"库存状态",val:"stockStatus",slot:!0},{label:"小程序上架",val:"microStoreStatus",slot:!0},{label:"使用性质",val:"productNatureName"},{label:"所有权归属",val:"copyrightName"},{label:"发动机号",val:"engineNo"},{label:"出厂日期",val:"factoryDate"},{label:"登记证号",val:"registryNumber"},{label:"厂牌型号",val:"brandModel"},{label:"内饰颜色",val:"interiorColor"},{label:"新车指导价",val:"guidePrice",unit:"万元"},{label:"购置税",val:"purchaseTaxAmount",unit:"万元"},{label:"加装费用",val:"retrofittingAmount",unit:"元"},{label:"所在地",val:"address",slot:!0},{label:"归属地",val:"registerCityName"},{label:"车辆等级",val:"carConditionLevel",slot:!0},{label:"精品车",val:"choicenessFlag",slot:!0},{label:"区域",val:"regionName"},{label:"懂车帝检测报告",val:"carAttachmentInfo",slot:!0,code:"DCD_FILE"},{label:"268V检测报告",val:"carAttachmentInfo",slot:!0,code:"V268_FILE"},{label:"查博士检测报告",val:"carAttachmentInfo",slot:!0,code:"CBS_FILE"}]),p=w([{label:"车况(对内)",val:"carCommentIn"},{label:"车辆描述(对外)",val:"carCommentOut"}]),f=a=>{switch(a){case"Intransit":return"在途";case"BeReady":return"在厅";case"Readiness":return"整备";case"UNDER_PREPARATION":return"整备中";case"COMPLETE_REPAIR":return"整备完成";case"Transition":return"转场";case"LendOut":return"外借";case"GoOut":return"外出";case"Outbound":return"已出库";default:return"-"}},h=a=>{switch(a){case"Level1":case"1":return"1级";case"Level2":case"2":return"2级";case"Level3":case"3":return"3级";case"Level4":case"4":return"4级";case"Level5":case"5":return"5级";default:return"-"}},g=a=>(null==a?void 0:a.filter((a=>"DCD_FILE"==a.carAttachmentType))[0])||{},b=a=>(null==a?void 0:a.filter((a=>"V268_FILE"==a.carAttachmentType))[0])||{},k=a=>(null==a?void 0:a.filter((a=>"CBS_FILE"==a.carAttachmentType))[0])||{},O=(a,e)=>{if(!a)return"";const t=a.split(".");return 1==e?t[0]:2==e?"."+t[1]:void 0};return(e,l)=>{const p=u,P=D,w=C;return r(),s(p,{class:"publics"},{default:c((()=>[d(w,{style:{height:"100%"},"scroll-y":""},{default:c((()=>[d(p,{class:"titles"},{default:c((()=>[o(i("archives"==a.type?"车辆档案":"车况详情"),1)])),_:1}),(r(!0),m(_,null,v(y(t),(t=>(r(),s(p,{key:t.label,class:"rows"},{default:c((()=>[d(P,{class:"label"},{default:c((()=>[o(i(t.label),1)])),_:2},1024),t.slot?(r(),m(_,{key:0},["microStoreStatus"==t.val?(r(),s(P,{key:0,class:"val"},{default:c((()=>[o(i("OnSale"==a.pubData[t.val]?"已上架":"未上架"),1)])),_:2},1024)):n("",!0),"registerDate"==t.val?(r(),s(P,{key:1,class:"val"},{default:c((()=>[o(i(a.pubData[t.val]?y(S)(a.pubData[t.val]).format("YYYY-MM"):"-"),1)])),_:2},1024)):n("",!0),"stockStatus"==t.val?(r(),s(P,{key:2,class:"val"},{default:c((()=>[o(i(f(a.pubData[t.val])),1)])),_:2},1024)):n("",!0),"address"==t.val?(r(),s(P,{key:3,class:"val"},{default:c((()=>[o(i(a.pubData[t.val]?a.pubData[t.val].indexOf("省")>-1?a.pubData[t.val].slice(a.pubData[t.val].indexOf("省")+1):a.pubData[t.val]:"-"),1)])),_:2},1024)):n("",!0),"carConditionLevel"==t.val?(r(),s(P,{key:4},{default:c((()=>[o(i(h(a.pubData[t.val])),1)])),_:2},1024)):n("",!0),"choicenessFlag"==t.val?(r(),s(P,{key:5},{default:c((()=>[o(i(a.pubData[t.val]?"是":"否"),1)])),_:2},1024)):n("",!0),"carAttachmentInfo"==t.val?(r(),m(_,{key:6},["DCD_FILE"==t.code&&g(a.pubData[t.val]).attachmentUrl?(r(),s(p,{key:0,class:"report-box"},{default:c((()=>[d(P,{class:"report-name"},{default:c((()=>[o(i(O(g(a.pubData[t.val]).attachmentName,1)||"检测报告"),1)])),_:2},1024),g(a.pubData[t.val]).attachmentName?(r(),s(P,{key:0},{default:c((()=>[o(i(O(g(a.pubData[t.val]).attachmentName,2)),1)])),_:2},1024)):n("",!0),d(P,{class:"report-preview",onClick:l=>("toPage"in e?e.toPage:y(A))(`/pages/carManage/pdf?url=${g(a.pubData[t.val]).attachmentUrl}`)},{default:c((()=>[o("预览")])),_:2},1032,["onClick"])])),_:2},1024)):n("",!0),"DCD_FILE"!=t.code||g(a.pubData[t.val]).attachmentUrl?n("",!0):(r(),s(p,{key:1},{default:c((()=>[o("-")])),_:1})),"V268_FILE"==t.code&&b(a.pubData[t.val]).attachmentUrl?(r(),s(p,{key:2,class:"report-box"},{default:c((()=>["V268_FILE"==t.code&&b(a.pubData[t.val]).attachmentUrl?(r(),s(P,{key:0,class:"report-name"},{default:c((()=>[o(i(O(b(a.pubData[t.val]).attachmentName,1)||"检测报告"),1)])),_:2},1024)):n("",!0),b(a.pubData[t.val]).attachmentName?(r(),s(P,{key:1},{default:c((()=>[o(i(O(b(a.pubData[t.val]).attachmentName,2)),1)])),_:2},1024)):n("",!0),d(P,{class:"report-preview",onClick:l=>("toPage"in e?e.toPage:y(A))(`/pages/carManage/pdf?url=${b(a.pubData[t.val]).attachmentUrl}`)},{default:c((()=>[o("预览")])),_:2},1032,["onClick"])])),_:2},1024)):n("",!0),"V268_FILE"!=t.code||b(a.pubData[t.val]).attachmentUrl?n("",!0):(r(),s(p,{key:3},{default:c((()=>[o("-")])),_:1})),"CBS_FILE"==t.code&&k(a.pubData[t.val]).attachmentUrl?(r(),s(p,{key:4,class:"report-box"},{default:c((()=>["CBS_FILE"==t.code&&k(a.pubData[t.val]).attachmentUrl?(r(),s(P,{key:0,class:"report-name"},{default:c((()=>[o(i(O(k(a.pubData[t.val]).attachmentName,1)||"检测报告"),1)])),_:2},1024)):n("",!0),k(a.pubData[t.val]).attachmentName?(r(),s(P,{key:1},{default:c((()=>[o(i(O(k(a.pubData[t.val]).attachmentName,2)),1)])),_:2},1024)):n("",!0),d(P,{class:"report-preview",onClick:l=>("toPage"in e?e.toPage:y(A))(`/pages/carManage/pdf?url=${k(a.pubData[t.val]).attachmentUrl}`)},{default:c((()=>[o("预览")])),_:2},1032,["onClick"])])),_:2},1024)):n("",!0),"CBS_FILE"!=t.code||k(a.pubData[t.val]).attachmentUrl?n("",!0):(r(),s(p,{key:5},{default:c((()=>[o("-")])),_:1}))],64)):n("",!0)],64)):(r(),s(p,{key:1,class:"val copy"},{default:c((()=>[o(i(a.pubData[t.val]||"-")+" ",1),a.pubData[t.val]&&t.unit?(r(),s(P,{key:0},{default:c((()=>[o(i(t.unit),1)])),_:2},1024)):n("",!0),["carCommentIn","carCommentOut"].includes(t.val)&&a.pubData[t.val]?(r(),s(P,{key:1,onClick:e=>{return l=a.pubData[t.val],void E({data:l,success:function(){(new L).showToast("复制成功")}});var l},class:"copy-btn"},{default:c((()=>[o("一键复制")])),_:2},1032,["onClick"])):n("",!0)])),_:2},1024))])),_:2},1024)))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-e610dc62"]]),xa=a(k({__name:"carInfo",props:{infoData:{type:Object,default:{}}},setup(a){const t=a;w([{label:"检测报告",val:"去检测/上传"},{label:"质保服务",val:"无有效检测记录，去检测"},{label:"厉史牟况",val:"去查询/上传"},{label:"整备工单",val:"待整备"}]),w([{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_8342711_web_%E4%B8%BB%E5%89%AF%E9%A9%BE%E6%B0%94%E5%9B%8A.png",name:"主/副驾驶座安全气囊"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_8907644_web_%E5%89%8D%E5%90%8E%E6%8E%92%E6%B0%94%E5%9B%8A.png",name:"前/后排侧气囊"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_6634381_web_%E5%89%8D%E5%90%8E%E6%8E%92%E5%A4%B4%E9%83%A8.png",name:"前/后排头部气囊（气帘）"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_8756310_web_%E8%83%8E%E5%8E%8B%E7%9B%91%E6%B5%8B.png",name:"胎压监测装胃"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_5577672_web_%E5%84%BF%E7%AB%A5%E5%BA%A7%E6%A4%85%E6%8E%A5%E5%8F%A3.png",name:"ISOFIXJL童座椅接囗"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_6484998_web_%E6%97%A0%E9%92%A5%E5%8C%99%E5%90%AF%E5%8A%A8.png",name:"无钥匙启动系统"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_4124568_web_%E6%97%A0%E9%92%A5%E5%8C%99%E8%BF%9B%E5%85%A5.png",name:"无钥匙进入系统"},{image:"https://cdwyc.obs.cn-north-4.myhuaweicloud.com:443/Normal/2024/07/12_4212449_web_ABS%E9%98%B2%E6%8A%B1%E6%AD%BB.png",name:"ABS防抱死"}]);const p=w(!1);function f(){p.value=!1}const m=w("archives"),_=a=>{m.value=a,p.value=!0},v=a=>{switch(a){case"Level1":case"1":return"1级";case"Level2":case"2":return"2级";case"Level3":case"3":return"3级";case"Level4":case"4":return"4级";case"Level5":case"5":return"5级";default:return"-"}},h=O((()=>{var a,e;return(null==(e=null==(a=t.infoData)?void 0:a.carAttachmentInfo)?void 0:e.filter((a=>"DCD_FILE"==a.carAttachmentType))[0])||{}})),g=O((()=>{var a,e;return(null==(e=null==(a=t.infoData)?void 0:a.carAttachmentInfo)?void 0:e.filter((a=>"V268_FILE"==a.carAttachmentType))[0])||{}})),k=O((()=>{var a,e;return(null==(e=null==(a=t.infoData)?void 0:a.carAttachmentInfo)?void 0:e.filter((a=>"CBS_FILE"==a.carAttachmentType))[0])||{}}));return(t,P)=>{const w=D,I=e(l("up-icon"),N),C=u,E=b,L=e(l("up-popup"),T);return a.infoData?(r(),s(C,{key:0,class:"carInfo"},{default:c((()=>[d(C,{class:"archives"},{default:c((()=>[d(C,{class:"title"},{default:c((()=>[d(w,{class:"text"},{default:c((()=>[o("车辆档案")])),_:1}),d(C,{onClick:P[0]||(P[0]=a=>_("archives")),class:"btns"},{default:c((()=>[d(w,null,{default:c((()=>[o("查看全部")])),_:1}),d(I,{name:"arrow-right",color:"#CBCCCE"})])),_:1})])),_:1}),d(C,{class:"rows rows-b"},{default:c((()=>[d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("VIN码：")])),_:1}),d(w,{class:"val one-line copy"},{default:c((()=>[o(i(a.infoData.vinNo),1)])),_:1})])),_:1}),d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("收购：")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>{var e,t,l,s;return[o(i((null==(t=null==(e=a.infoData)?void 0:e.purchaseDetail)?void 0:t.assessDate)?null==(s=null==(l=a.infoData)?void 0:l.purchaseDetail)?void 0:s.assessDate.split(" ")[0]:"-"),1)]})),_:1})])),_:1})])),_:1}),d(C,{class:"max-info"},{default:c((()=>[d(C,{class:"column"},{default:c((()=>[d(w,null,{default:c((()=>[o(i(a.infoData.mileage?a.infoData.mileage+"万公里":"-"),1)])),_:1}),d(w,null,{default:c((()=>[o("表显里程")])),_:1})])),_:1}),d(C,{class:"column"},{default:c((()=>[d(w,null,{default:c((()=>[o(i(a.infoData.registerDate?y(S)(a.infoData.registerDate).format("YYYY-MM"):"-"),1)])),_:1}),d(w,null,{default:c((()=>[o("首次上牌")])),_:1})])),_:1}),d(C,{class:"column"},{default:c((()=>[d(w,null,{default:c((()=>[o(i(a.infoData.carModelDischargeStandard||"-"),1)])),_:1}),d(w,null,{default:c((()=>[o("排放标准")])),_:1})])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("车牌号")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.plateNo||"-"),1)])),_:1})])),_:1}),d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("使用性质")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.productNatureName||"-"),1)])),_:1})])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("所在地")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>[o(i(a.infoData.address?a.infoData.address.indexOf("省")>-1?a.infoData.address.slice(a.infoData.address.indexOf("省")+1):a.infoData.address:"-"),1)])),_:1})])),_:1}),d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("归属地")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>[o(i(a.infoData.registerCityName||"-"),1)])),_:1})])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("车辆等级")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>[o(i(v(a.infoData.carConditionLevel)),1)])),_:1})])),_:1}),d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("精品车")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>[o(i(a.infoData.choicenessFlag?"是":"否"),1)])),_:1})])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("区域")])),_:1}),d(w,{class:"val one-line"},{default:c((()=>[o(i(a.infoData.regionName||"-"),1)])),_:1})])),_:1}),d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("懂车帝报告")])),_:1}),y(h).attachmentUrl?(r(),s(w,{key:0,class:"val one-line blue_report",onClick:P[1]||(P[1]=a=>("toPage"in t?t.toPage:y(A))(`/pages/carManage/pdf?url=${y(h).attachmentUrl}`))},{default:c((()=>[o("查看报告")])),_:1})):(r(),s(w,{key:1},{default:c((()=>[o("-")])),_:1}))])),_:1}),d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("268V报告")])),_:1}),y(g).attachmentUrl?(r(),s(w,{key:0,class:"val one-line blue_report",onClick:P[2]||(P[2]=a=>("toPage"in t?t.toPage:y(A))(`/pages/carManage/pdf?url=${y(g).attachmentUrl}`))},{default:c((()=>[o("查看报告")])),_:1})):(r(),s(w,{key:1},{default:c((()=>[o("-")])),_:1}))])),_:1}),d(C,{class:"items area"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("查博士报告")])),_:1}),y(k).attachmentUrl?(r(),s(w,{key:0,class:"val one-line blue_report",onClick:P[3]||(P[3]=a=>("toPage"in t?t.toPage:y(A))(`/pages/carManage/pdf?url=${y(k).attachmentUrl}`))},{default:c((()=>[o("查看报告")])),_:1})):(r(),s(w,{key:1},{default:c((()=>[o("-")])),_:1}))])),_:1})])),_:1})])),_:1}),d(C,{class:"condition"},{default:c((()=>[d(C,{class:"title"},{default:c((()=>[d(w,{class:"text"},{default:c((()=>[o("车况详情")])),_:1}),d(C,{onClick:P[4]||(P[4]=a=>_("condition")),class:"btns"},{default:c((()=>[o(" 查看全部 "),d(I,{name:"arrow-right",color:"#CBCCCE"})])),_:1})])),_:1}),d(C,{class:"bg-box"},{default:c((()=>[d(C,{class:"appraiser"},{default:c((()=>{var e;return[d(E,{src:(null==(e=a.infoData.purchaseDetail)?void 0:e.avatar)||"https://sjmc.obs.cn-north-4.myhuaweicloud.com/static/mine/avatar.png"},null,8,["src"]),d(w,{class:"name"},{default:c((()=>{var e,t;return[o(i((null==(t=null==(e=a.infoData)?void 0:e.purchaseDetail)?void 0:t.assessUserName)||"-"),1)]})),_:1}),d(w,{class:"role"},{default:c((()=>[o("评估师")])),_:1})]})),_:1}),d(C,{class:"desc"},{default:c((()=>[d(C,null,{default:c((()=>[d(w,{class:"title-1"},{default:c((()=>[o("车况")])),_:1}),d(w,{class:"title-2"},{default:c((()=>[o("(对内)")])),_:1})])),_:1}),d(C,{class:"word-warp"},{default:c((()=>[o(i(a.infoData.carCommentIn||"-"),1)])),_:1})])),_:1}),d(C,{class:"desc"},{default:c((()=>[d(C,null,{default:c((()=>[d(w,{class:"title-1"},{default:c((()=>[o("车辆描述")])),_:1}),d(w,{class:"title-2"},{default:c((()=>[o("(对外)")])),_:1})])),_:1}),d(C,{class:"word-warp"},{default:c((()=>[o(i(a.infoData.carCommentOut||"-"),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(C,{class:"card-infor"},{default:c((()=>[d(C,{class:"title"},{default:c((()=>[d(w,{class:"text"},{default:c((()=>[o("牌证资料")])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("过户次数")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.transferTimeName||"-"),1)])),_:1})])),_:1}),d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("钥匙数量")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.keyNum?a.infoData.keyNum+"把":"-"),1)])),_:1})])),_:1})])),_:1}),d(C,{class:"rows"},{default:c((()=>[d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("交强险")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.insuranceExpireDate||"无"),1)])),_:1})])),_:1}),d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("商业险")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.commercialInsuranceData||"无"),1)])),_:1})])),_:1})])),_:1}),d(C,{class:"items"},{default:c((()=>[d(w,{class:"label"},{default:c((()=>[o("年检到期")])),_:1}),d(w,{class:"val"},{default:c((()=>[o(i(a.infoData.examinationExpireDate||"-"),1)])),_:1})])),_:1})])),_:1}),d(L,{class:"popups",round:10,closeable:"",show:y(p),onClose:f},{default:c((()=>[d(C,{class:"query-infos",style:x({height:"archives"==y(m)?"600px":"500px"})},{default:c((()=>[d(Ta,{pubData:a.infoData,type:y(m)},null,8,["pubData","type"])])),_:1},8,["style"])])),_:1},8,["show"])])),_:1})):n("",!0)}}}),[["__scopeId","data-v-dc0eef6b"]]),Ba=a(k({__name:"btnGroup",props:{rows:{default:{}}},emits:["handleSuccess","handleSaleAudit","toVerifyStroeVin"],setup(a,{emit:t}){const p=a,f=t,h=ba(),g=B(),k=w(!1),P=w(!1),I=w(""),C=w(""),D=w(),S=w([]);$((async()=>{S.value=M("userBtnPermission")?JSON.parse(M("userBtnPermission")):await F().then((a=>a.data.permissions||[]))}));const E=O((()=>{var a,e,t;const l=g.userInfo,s=!0;return[{name:"调价",value:"OnSale"==p.rows.status&&s,permission:"product:adjustPrice",icon:"/static/carManage/car_icon_tj.png"},{name:"出售",value:!["SoldOut","ToBeSigned","PaymentIng","WaitStewardAudit","WaitPlatformAudit","ForceCancel","Locked"].includes(p.rows.status),permission:"product:directSale",icon:"/static/carManage/car_icon_cs.png"},{name:"退库",value:!["SoldOut","ToBeSigned","PaymentIng","OnlyEvaluation","Transaction","Locked","Sold","ForceCancel"].includes(p.rows.status),permission:"product:stockReturn",icon:"/static/carManage/car_icon_tk.png"},{name:"编辑",value:!["SoldOut","Locked","ToBeSigned","PaymentIng"].includes(p.rows.status)&&s,permission:"product:edit",icon:"/static/carManage/car_icon_bj.png"},{name:"预定",value:!["SoldOut","ToBeSigned","PaymentIng","WaitStewardAudit","WaitPlatformAudit","ForceCancel","Locked"].includes(p.rows.status),permission:"product:reserve",icon:"/static/carManage/car_icon_bj.png"},{name:"重新入库",value:"ForceCancel"==p.rows.status&&s,permission:"product:restorage",icon:"/static/carManage/car_icon_cxrk.png"},{name:"小程序下架",value:"OnSale"==p.rows.microStoreStatus&&!["ForceCancel","SoldOut","Locked","ToBeSigned","PaymentIng"].includes(p.rows.status)&&s,permission:"product:microStoreSaleDelisting",icon:"/static/carManage/car_icon_xcxxj.png"},{name:"小程序上架",value:!["ForceCancel","SoldOut","Locked","ToBeSigned","PaymentIng"].includes(p.rows.status)&&(null==p.rows.microStoreStatus||"NoOnSale"==p.rows.microStoreStatus),permission:"product:microStoreSaleListing",icon:"/static/carManage/car_icon_xcxsj.png"},{name:"预定转售出",value:["Locked"].includes(p.rows.status)&&(null==l?void 0:l.userId)===(null==(a=p.rows)?void 0:a.salesUserId),permission:"sells:reserve:sold",icon:"/static/carManage/car_icon_cgxx.png"},{name:"采购信息",value:s,permission:"product:purchase",icon:"/static/carManage/car_icon_cgxx.png"},{name:"牌证资料",value:s,permission:"product:License",icon:"/static/carManage/car_icon_pzzl.png"},{name:"取消预定",value:g.userInfo.userId===(null==(e=p.rows)?void 0:e.salesUserId)&&"Locked"==(null==(t=null==p?void 0:p.rows)?void 0:t.status),permission:"sells:reserve:cancel",icon:"/static/carManage/car_icon_tk.png"},{name:"整备状态",value:!["ForceCancel","SoldOut","Locked","ToBeSigned","PaymentIng"].includes(p.rows.status)&&s,permission:"product:readyCondition",icon:"/static/carManage/car_icon_zbzt.png"}].filter((a=>1==a.value&&S.value.includes(a.permission)))})),N=async(a,e)=>{const t={...e,btnName:a};if("预定转售出"===t.btnName){const a=await ka(t.carProductId);if(1==a.saleApproving||0==a.saleApproving&&"OnSale"!=a.carStatus&&"Locked"!=a.carStatus)return void f("handleSaleAudit",a,t.carProductId);A(`/pages/carManage/details/carSell?carProductId=${t.carProductId}&source=reserveToSale&sourceId=${t.orderCarCustomerId}`)}else if("调价"==t.btnName)A(`/pages/carManage/details/adjustPrice?carProductId=${t.carProductId}`);else if("重新入库"==t.btnName)C.value="重新入库",I.value="确定重新入库？",P.value=!0;else if("出售"==t.btnName){const a=await ka(t.carProductId);if(1==a.saleApproving||0==a.saleApproving&&"OnSale"!=a.carStatus&&"Locked"!=a.carStatus)return void f("handleSaleAudit",a,t.carProductId);A(`/pages/carManage/details/carSell?carProductId=${t.carProductId}`)}else if("退库"==t.btnName){const a=await ka(t.carProductId);if(1==a.saleApproving||0==a.saleApproving&&"OnSale"!=a.carStatus&&"Locked"!=a.carStatus)return void f("handleSaleAudit",a,t.carProductId);A(`/pages/carManage/details/cancelStocks?carProductId=${t.carProductId}`)}else if("编辑"==t.btnName){let a=`/pages/carManage/addCar?carProductId=${t.carProductId}`;h.value.pushType&&"qw"==h.value.pushType&&(a+="&pushType=qw"),A(a)}else if("预定"==t.btnName){const a=await ka(t.carProductId);if(1==a.saleApproving||0==a.saleApproving&&"OnSale"!=a.carStatus&&"Locked"!=a.carStatus)return void f("handleSaleAudit",a,t.carProductId);A(`/pages/carManage/details/carSell?carProductId=${t.carProductId}&type=reserve`)}else if("小程序下架"==t.btnName)C.value="小程序下架",I.value="确定下架小程序吗？",P.value=!0;else if("小程序上架"==t.btnName)C.value="小程序上架",I.value="确定上架小程序吗？",P.value=!0;else if("采购信息"==t.btnName)A(`/pages/carManage/details/purchaseInfo?carProductId=${t.carProductId}&status=${t.status}`);else if("牌证资料"==t.btnName)A(`/pages/carManage/details/licenceInfo?carProductId=${t.carProductId}&status=${t.status}`);else if("整备状态"==t.btnName)A(`/pages/carManage/details/readyCondition?carProductId=${t.carProductId}&stockStatus=${t.stockStatus}&preparationStatus=${t.preparationStatus}`);else if("取消预定"==t.btnName){const a=await ka(t.carProductId);if(1==a.saleApproving||0==a.saleApproving&&"OnSale"!=a.carStatus&&"Locked"!=a.carStatus)return void f("handleSaleAudit",a,t.carProductId);D.value.open()}},T=a=>{N(a.name,p.rows)},x=()=>{"重新入库"==C.value?q():"小程序下架"==C.value?H(p.rows.carProductId,1):"小程序上架"==C.value&&H(p.rows.carProductId,2)},q=()=>{uni.$u.http.get("/product/merchant/car/product/restocking",{params:{carProductId:p.rows.carProductId}}).then((a=>{if(0==a.code)(new L).showToast("重新入库成功"),f("handleSuccess"),P.value=!1;else if("10010"==a.code){const e=JSON.parse(a.message);f("toVerifyStroeVin",[e]),P.value=!1}}))},H=(a,e)=>{const t=[a];1==e?uni.$u.http.post("/product/merchant/car/product/microStoreOffSale",{idList:t}).then((a=>{0==a.code&&(a.data?((new L).showToast("小程序下架成功"),f("handleSuccess"),V("refreshList")):(new L).showToast("小程序下架失败"),P.value=!1)})):uni.$u.http.post("/product/merchant/car/product/microStoreOnSale",{idList:t}).then((a=>{0==a.code&&(a.data?((new L).showToast("小程序上架成功"),f("handleSuccess"),V("refreshList")):(new L).showToast("小程序上架失败"),P.value=!1)}))},G=()=>{(new L).showLoading("提交中");const a={taskId:h.value.taskId,taskDefinitionKey:h.value.taskDefinitionKey,primaryKey:h.value.primaryKey,passOrReject:1};uni.$u.http.post("/product/process/processApproval",a).then((()=>{(new L).showToast("提交成功"),V("refreshList"),Y()})).catch((a=>{Pa(a.message)}))},J=async a=>{var e;const t=null==(e=p.rows)?void 0:e.orderCarCustomerId;if(!t||!a)return;const l=new L;l.showLoading("提交中");try{if(0==(await z().put("/product/order/car/custom/reserve/cancel",{id:t,remark:a.length>1e3?a.slice(0,1e3):a})).code)return void K()}finally{l.hideLoading()}};return(a,t)=>{const p=b,f=u,g=e(l("up-action-sheet"),R),w=e(l("up-modal"),j),C=U;return r(),m(_,null,[y(E).length&&!y(h).pageKey?(r(),s(f,{key:0,class:"footer"},{default:c((()=>[y(E).length>5?(r(),s(f,{key:0,class:"btn-group"},{default:c((()=>[(r(!0),m(_,null,v(y(E).filter(((a,e)=>e<=3)),(e=>(r(),s(f,{onClick:t=>N(e.name,a.rows),key:e.name,class:"btn-item"},{default:c((()=>[d(p,{src:e.icon},null,8,["src"]),o(" "+i(e.name),1)])),_:2},1032,["onClick"])))),128)),d(f,{onClick:t[0]||(t[0]=a=>k.value=!0),class:"btn-item"},{default:c((()=>[d(p,{src:"./static/carManage/car_icon_gd.png"}),o(" 更多 ")])),_:1})])),_:1})):(r(),s(f,{key:1,class:"btn-group"},{default:c((()=>[(r(!0),m(_,null,v(y(E),(e=>(r(),s(f,{onClick:t=>N(e.name,a.rows),key:e.name,class:"btn-item"},{default:c((()=>[d(p,{src:e.icon},null,8,["src"]),o(" "+i(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})),d(g,{class:"pop-action",onSelect:T,onClose:t[1]||(t[1]=a=>k.value=!1),actions:y(E).filter(((a,e)=>e>3)),closeOnClickOverlay:!0,closeOnClickAction:!0,cancelText:"取消",show:y(k)},null,8,["actions","show"]),d(w,{width:"500rpx",showCancelButton:!0,show:y(P),content:y(I),onCancel:t[2]||(t[2]=a=>P.value=!1),onConfirm:x},null,8,["show","content"])])),_:1})):n("",!0),y(h).pageKey&&1!=y(h).status?(r(),s(f,{key:1,class:"footer"},{default:c((()=>[d(C,{onClick:G,class:"storage-btn"},{default:c((()=>[o("确定")])),_:1})])),_:1})):n("",!0),d(ya,{ref_key:"reserveCancelRef",ref:D,title:"取消预定",refuseTitlePlace:"请输入取消预定原因",onConfirm:J},null,512)],64)}}}),[["__scopeId","data-v-65970a7e"]]),$a=a(k({__name:"ordersInfo",props:{orderData:{type:Array,default:()=>[]},staticsData:{type:Object,default:{}},stockStatus:{type:String,default:""},pages:{type:Object,default:()=>{}},detailObj:{type:Object,default:()=>{}}},emits:["more"],setup(a,{emit:t}){const p=w(),f=w({}),h=ba(),g=q({current:1,size:10,total:0}),b=w([]),k=a,P=w({status:"detailPurchaseOrder",show:!1,item:{},orderList:[],purchaseId:"",carPricingId:""}),I=async a=>{try{if(a&&["ForceCancel","SoldOut"].includes(k.detailObj.status))return(new L).showToast("该车已售/退库，无法绑定");const e={carProductId:h.value.id,purchaseId:P.value.purchaseId};await uni.$u.http.post("/product/merchant/car/product/bindPurchaseOrder",e),(new L).showToast("绑定成功"),P.value.show=!1,await K()}catch(e){console.error(e)}P.value.show=!1},O=w(!1),T=async()=>{var a;if(!O.value)try{O.value=!0,P.value.orderList=[];const e=await uni.$u.http.get(`/product/carPricing/bindPurchaseOrderList?carProductId=${h.value.id}`);if(!(null==(a=e.data)?void 0:a.length))return(new L).showToast("暂无可绑定的采购订单");P.value.orderList=e.data,P.value.show=!0}catch(e){console.error(e)}finally{O.value=!1}},x=a=>{switch(a){case"Readiness":return"待整备";case"UNDER_PREPARATION":return"整备中";case"COMPLETE_REPAIR":return"整备完成";default:return""}},B=a=>{if(a)return S(a).format("YYYY-MM-DD")},F=a=>{switch(a){case"PaymentIng":return"收款中";case"FullPaymentReceived":return"收齐全款";case"CANCEL_ORDER":return"取消订单";case"AUDIT_IN":return"审核中";case"RESERVE":return"已预定";case"CANCEL_RESERVE":return"取消预定";case"NO_SIGN":return"待签署";default:return""}},R=t,j=()=>{R("more")},U=async a=>{const e=await uni.$u.http.post("/product/paymentOrder/pageFullPaymentRecord",{purchaseId:a,...Da(g,"total")});b.value=b.value.concat(e.data.results),g.total=e.data.count,b.value.length<g.total&&await U(a)},V=a=>{(new L).showLoading("提交中"),uni.$u.http.post("/product/carPricingFlowable/editStatus",{carPricingId:f.value.pricingId,editStatus:2,statusRemark:a,purchaseId:f.value.purchaseOrderId}).then((()=>{p.value.close(),K()})).finally((()=>{(new L).hideLoading()}))},Y=a=>{uni.$u.http.get("/product/paymentOrder/queryAppPaymentInfo",{params:{purchaseId:a.purchaseOrderId}}).then((async e=>{const{purchasePrice:t,paidPrice:l,paidingPrice:s,unpaidPrice:r,payee:c,bankCardNumber:n,openBank:u}=e.data,o={id:a.purchaseOrderId,purchasePrice:t,paidPrice:l,paidingPrice:s,unpaidPrice:r,payee:c,bankCardNumber:n,openBank:u};if(b.value=[],g.current=1,g.size=10,g.total=0,await U(a.purchaseOrderId),b.value.length){const{payee:a,openBank:e,bankCardNumber:t}=b.value[0]||{};o.payee=a,o.openBank=e,o.bankCardNumber=t}A(`/pages/purchaseOrder/addPayment?params=${JSON.stringify(o)}`)}))},z=w([]),K=async()=>{try{if(!JSON.parse(M("userBtnPermission")).includes("product:purchase"))return;const a=await uni.$u.http.get("product/purchaseOrder/queryDetailsByCarProductId",{params:{carProductId:h.value.id}});z.value=a.data||[]}catch(a){console.error(a)}};return $((()=>{K()})),(t,g)=>{const b=u,k=D,w=C,S=e(l("u-icon"),N),O=e(l("up-icon"),N),$=H("permissionBtn");return r(),s(b,{class:"order-info"},{default:c((()=>{var e,l;return[d(b,{class:"o-title"},{default:c((()=>[o("销售订单")])),_:1}),a.orderData&&a.orderData.length>0?(r(),s(b,{key:0,class:"sales-inner"},{default:c((()=>[d(w,{"scroll-y":""},{default:c((()=>[(r(!0),m(_,null,v(a.orderData,(a=>(r(),s(b,{key:a.id,class:"order-item",onClick:e=>("toPage"in t?t.toPage:y(A))(`/pages/sells/details/index?id=${a.id}`)},{default:c((()=>[d(b,{class:"item-head"},{default:c((()=>[d(b,null,{default:c((()=>[d(b,null,{default:c((()=>[o(" 定金： "),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o(i(a.deposit||0),1)])),_:2},1024),o(" 元 ")])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[o(" 成交价： "),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o(i(a.dealPrice||0),1)])),_:2},1024),o(" 万元 ")])),_:2},1024)])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[o(i(F(a.orderStatus)),1)])),_:2},1024)])),_:2},1024),d(b,{class:"item-content"},{default:c((()=>[d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o("客户："+i(a.customerName||"-"),1)])),_:2},1024),d(k,null,{default:c((()=>[o("|")])),_:1}),d(k,null,{default:c((()=>[o("销售："+i(a.salesUserName||"-"),1)])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o("收齐全款日期："+i(a.fullPaymentTime||"-"),1)])),_:2},1024),d(k,null,{default:c((()=>[o("|")])),_:1}),d(k,null,{default:c((()=>[o("预定日期："+i(a.reserveTime||"-"),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(b,{class:"item-bottom"},{default:c((()=>[d(b,null,{default:c((()=>[o(i(("formatCardTime"in t?t.formatCardTime:y(Ia))(a.createTime))+"创建",1)])),_:2},1024),d(b,null,{default:c((()=>[o("查看详情")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),a.pages.current*a.pages.size<a.pages.total?(r(),s(b,{key:0,onClick:j,class:"more-btn"},{default:c((()=>[o("查看更多 "),d(S,{color:"#3C73FF",name:"arrow-down"})])),_:1})):n("",!0)])),_:1})):(r(),s(b,{key:1,class:"no-order"},{default:c((()=>[o("暂无销售订单")])),_:1})),d(b,null,{default:c((()=>[d(b,{class:"o-title order-flex"},{default:c((()=>[d(k,null,{default:c((()=>[o("采购订单")])),_:1}),G((r(),s(b,{class:"order-bind-btn SC-Medium",onClick:T},{default:c((()=>[o(" 绑定采购订单 ")])),_:1})),[[$,["product::bindPurchase"]]])])),_:1}),(r(!0),m(_,null,v(y(z),(a=>(r(),s(b,{key:a.purchaseOrderId,class:"order-item",onClick:e=>("toPage"in t?t.toPage:y(A))(`/pages/purchaseOrder/purchaseDetail?id=${null==a?void 0:a.pricingId}&status=${a.orderStatus}&purchaseId=${a.purchaseOrderId}`)},{default:c((()=>[d(b,{class:"item-head"},{default:c((()=>[d(b,null,{default:c((()=>[d(b,null,{default:c((()=>[o(" 采购价： "),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o(i(a.purchasePrice||0),1)])),_:2},1024),o(" 万元 ")])),_:2},1024)])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[o(i(a.orderStatusName),1)])),_:2},1024)])),_:2},1024),d(b,{class:"item-price"},{default:c((()=>[d(b,{class:"mr12"},{default:c((()=>[d(k,{class:"title"},{default:c((()=>[o("已付款：")])),_:1}),o(" ￥"+i(a.paymentPrice||0),1)])),_:2},1024),d(b,null,{default:c((()=>[d(k,{class:"gd"},{default:c((()=>[o("|")])),_:1}),d(k,{class:"title ml12"},{default:c((()=>[o("待付款：")])),_:1}),o(" ￥"+i(a.waitPaymentPrice||0),1)])),_:2},1024)])),_:2},1024),d(b,{class:"item-content"},{default:c((()=>[d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o("车主："+i(a.customerName||"-"),1)])),_:2},1024),d(k,null,{default:c((()=>[o("|")])),_:1}),d(k,null,{default:c((()=>[o("评估师："+i(a.assessUserName||"-"),1)])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o("采购日期："+i(B(a.purchaseTime)||"-"),1)])),_:2},1024),d(k,null,{default:c((()=>[o("|")])),_:1}),d(k,null,{default:c((()=>[o("付清全款日期："+i(B(a.fullPaymentTime)),1)])),_:2},1024)])),_:2},1024),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>[o("采购类型："+i(a.purchaseTypeName||"-"),1)])),_:2},1024),d(k,null,{default:c((()=>[o("|")])),_:1}),d(k,null,{default:c((()=>[o("付款方式："+i(a.paymentMethodName),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(b,{class:"item-bottom"},{default:c((()=>[d(b,null,{default:c((()=>[o(i(("formatCardTime"in t?t.formatCardTime:y(Ia))(a.createTime))+"创建",1)])),_:2},1024)])),_:2},1024),J("div",{class:"bot-btn-box",onClick:g[0]||(g[0]=W((()=>{}),["stop"]))},[a.canEdit&&["duringPayment","completePayment","waitPayment","waitSign"].includes(a.orderStatus)?(r(),m("div",{key:0,class:"bot-btn",onClick:W((e=>(a=>{f.value=a,p.value.open()})(a)),["stop"])}," 取消订单 ",8,["onClick"])):n("",!0),["duringPayment","completePayment","waitPayment","waitSign"].includes(a.orderStatus)&&a.canEdit?(r(),m("div",{key:1,class:"bot-btn",onClick:W((e=>(async a=>{try{Z({title:"加载中"});const e=await uni.$u.http.get(`product/paymentOrder/queryAppPaymentInfo?purchaseId=${a.purchaseOrderId}`),t=a.purchaseOrderId,l=e.data.purchasePrice||a.purchasePrice||0,s=e.data.paidPrice||a.paymentPrice||0,r=e.data.paidingPrice;uni.$u.http.post("product/purchase/queryUpdatePurchaseDetail",{purchaseId:t}).then((a=>{var e;2!=(null==(e=null==a?void 0:a.data)?void 0:e.status)?(aa(),A(`/pages/purchaseOrder/editPurchasePrice?id=${t}&purchasePrice=${l}&paidPrice=${s}&enRoutePrice=${r}`)):(new L).showToast("该采购订单已发起修改")}))}catch(e){console.error(e)}finally{aa()}})(a)),["stop"])}," 修改采购价 ",8,["onClick"])):n("",!0),["waitPayment","duringPayment"].includes(a.orderStatus)&&a.canEdit?(r(),m("div",{key:2,class:"bot-btn",onClick:W((e=>Y(a)),["stop"])}," 申请付款 ",8,["onClick"])):n("",!0),a.shortUrl&&a.canEdit&&"unSign"==a.orderStatus?(r(),m("div",{key:3,class:"bot-btn",onClick:W((e=>{return t=a.shortUrl,void E({data:t,success:function(){X({title:"复制成功",icon:"success"})}});var t}),["stop"])}," 复制签署链接 ",8,["onClick"])):n("",!0)])])),_:2},1032,["onClick"])))),128)),0==y(z).length?(r(),s(b,{key:0,class:"no-order"},{default:c((()=>[o("暂无采购订单")])),_:1})):n("",!0)])),_:1}),d(b,{class:"o-title"},{default:c((()=>[o(" 整备工单 "),d(b,{class:"right",onClick:g[1]||(g[1]=a=>("toPage"in t?t.toPage:y(A))(`/pages/workOrder/index?id=${y(h).id}`))},{default:c((()=>[o(i(x(a.stockStatus))+" ",1),x(a.stockStatus)?n("",!0):(r(),m("span",{key:0,class:"more_btns"},"查看更多")),d(O,{name:"arrow-right",color:"#CBCCCE",size:"14",bold:""})])),_:1})])),_:1}),(null==(l=null==(e=a.staticsData)?void 0:e.prepareRelations)?void 0:l.length)?(r(),s(b,{key:2,class:"work-order"},{default:c((()=>[d(b,{class:"price align-c"},{default:c((()=>[o("整备总额： "),d(b,null,{default:c((()=>[d(k,null,{default:c((()=>{var e;return[o(i((null==(e=a.staticsData)?void 0:e.amount)||0),1)]})),_:1}),o(" 元 ")])),_:1})])),_:1}),d(b,{class:"info-box"},{default:c((()=>{var e;return[(r(!0),m(_,null,v(null==(e=a.staticsData)?void 0:e.prepareRelations,((a,e)=>(r(),s(b,{key:e},{default:c((()=>[o(i(a.prepareName)+"：￥"+i(a.amount),1)])),_:2},1024)))),128))]})),_:1}),d(b,{class:"handle-btn"},{default:c((()=>[d(b,{onClick:g[2]||(g[2]=a=>("toPage"in t?t.toPage:y(A))(`/pages/workOrder/index?id=${y(h).id}`))},{default:c((()=>[o("查看详情")])),_:1}),G((r(),s(b,{onClick:g[3]||(g[3]=a=>("toPage"in t?t.toPage:y(A))(`/pages/workOrder/addOrder?carProductId=${y(h).id}`))},{default:c((()=>[o("新增整备 ")])),_:1})),[[$,["product:readyCondition:add"]]])])),_:1})])),_:1})):(r(),s(b,{key:3,class:"no-order"},{default:c((()=>[d(b,null,{default:c((()=>[o("暂无整备工单")])),_:1}),G((r(),s(b,{class:"add-btn",onClick:g[4]||(g[4]=a=>("toPage"in t?t.toPage:y(A))(`/pages/workOrder/addOrder?carProductId=${y(h).id}`))},{default:c((()=>[d(O,{name:"plus",color:"#fff",size:"12"}),o(" 新增整备 ")])),_:1})),[[$,["product:readyCondition:add"]]])])),_:1})),d(ya,{ref_key:"cancelRef",ref:p,title:"取消原因",onConfirm:V},null,512),d(Ca,{"association-modal":y(P),"onUpdate:associationModal":g[5]||(g[5]=a=>Q(P)?P.value=a:null),onConfirm:I},null,8,["association-modal"])]})),_:1})}}}),[["__scopeId","data-v-60380e16"]]),Fa=a(k({__name:"clueTracks",props:{infoData:{type:Object,default:{}},pageType:{type:String,default:""}},setup(a){const t=a;I((()=>t.infoData),(()=>{uni.$u.http.get("/product/client/browsing/collect/history/pageByCarId",{params:{current:1,size:-1,carId:t.infoData.carProductId}}).then((a=>{p.value=a.data.records}))}),{deep:!0,immediate:!0});const p=w([]),f=a=>{switch(a){case 0:return"收藏车辆";case 1:return"查看车辆详情";case 2:return"预约看车";case 3:return"电话咨询";case 4:return"取消收藏车辆"}};return(a,t)=>{const h=D,g=u,b=e(l("up-steps-item"),ea),k=e(l("up-steps"),ta);return r(),s(g,{class:"tracks"},{default:c((()=>[y(p).length>0?(r(),s(k,{key:0,class:"steps",activeColor:"#F75A1E",direction:"column",current:y(p).length-1,dot:""},{default:c((()=>[(r(!0),m(_,null,v(y(p),((e,t)=>(r(),s(b,{key:t,title:e.title},{desc:c((()=>[d(g,{class:"content"},{default:c((()=>[d(g,{class:"desc"},{default:c((()=>[d(g,null,{default:c((()=>[o(i(e.clientName),1),e.clientPhone?(r(),m(_,{key:0},[o("（"),d(h,{onClick:t=>("callPhone"in a?a.callPhone:y(Sa))(e.clientPhone)},{default:c((()=>[o(i(e.clientPhone),1)])),_:2},1032,["onClick"]),o("）")],64)):n("",!0)])),_:2},1024),d(g,null,{default:c((()=>[o(i(e.updateTime),1)])),_:2},1024)])),_:2},1024),d(g,{class:"title"},{default:c((()=>[o(i(f(e.type)),1),1==e.type&&e.browsingTime?(r(),s(h,{key:0},{default:c((()=>[o("，浏览"+i(e.browsingTime),1)])),_:2},1024)):n("",!0)])),_:2},1024),d(g,{class:"desc"},{default:c((()=>[o(i(e.shareName)+" 分享丨"+i(e.shareTime||"-"),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["title"])))),128))])),_:1},8,["current"])):(r(),s(g,{key:1,class:"no-content"},{default:c((()=>[d(g,null,{default:c((()=>[o("暂无数据")])),_:1})])),_:1}))])),_:1})}}}),[["__scopeId","data-v-3364c2ed"]]),Ma=a(k({__name:"index",setup(a){const t=ba(),f=B(),v=w(!1),h=w(1),g=w([]),k=()=>{v.value=!v.value},I=O((()=>{var a,e;const t=null==(a=z.value)?void 0:a.status,l=null==(e=z.value)?void 0:e.microStoreStatus;return Aa({detailStatus:t,detailMicroStoreStatus:l})})),C=w([{name:"车辆详情",id:1}]),E=w([]),N=w(null),T=w({}),x=window.navigator.userAgent.toLowerCase().includes("micromessenger");$((async()=>{x?(async()=>{if(window.navigator.userAgent.toLowerCase().includes("micromessenger")){(new L).showLoading("加载中");try{const a=await uni.$u.http.get("/admin/wx/getURLLink?path=/pagesA/carDetail/index");window.location.href=a.data+`?cq=${encodeURIComponent(`id=${t.value.id}&userId=${t.value.userId}`)}`}catch(a){window.location.href=`https://wxaurl.cn/IDf5Nv6vp8p?cq=${encodeURIComponent(`id=${t.value.id}&userId=${t.value.userId}`)}`}finally{(new L).hideLoading()}}})():t.value.pageKey||(!t.value.token&&f.isLogin&&(C.value.push({name:"订单与收支",id:2}),W()),C.value.push({name:"车辆轨迹",id:3},{name:"线索轨迹",id:4}))}));const F=({content:a,id:e,posterId:t})=>{a&&(T.value.documentText=a),e&&(T.value.documentTextId=e),t&&(T.value.posterId=e)};P((()=>{la("updateData",F)})),sa((()=>{ra("updateData",F)})),ca((()=>{x||(q(),t.value.pageKey||t.value.token||!f.isLogin||Q())}));const R=()=>{ea.value=!1},U=a=>{switch(a){case"OnSale":return"在售";case"SoldOut":return"已售";case"ForceCancel":return"退库";case"Locked":return"预定";default:return""}},V=a=>{switch(a){case"Intransit":return"在途";case"BeReady":return"在厅";case"Readiness":return"整备";case"UNDER_PREPARATION":return"整备中";case"COMPLETE_REPAIR":return"整备完成";case"Transition":return"转场";case"LendOut":return"外借";case"GoOut":return"外出";case"Outbound":return"已出库";default:return""}},Y=a=>{h.value=a.id},z=w({}),K=w({}),q=()=>{Z({title:"加载中"});const a=t.value.pageKey?{id:t.value.primaryKey}:{productId:t.value.id};let e="";e="qw"==t.value.pushType||"app"==t.value.pushType?"/product/merchant/car/product/detail":f.isLogin?t.value.pageKey?"/product/purchaseOrder/queryAllDetails":"/product/merchant/car/product/detail":"/product/merchant/car/product/noAuth/detail",uni.$u.http.get(e,{params:a}).then((a=>{var e,l;aa();const{price:s,exhibitionPrice:r,salesPrice:c,managerPrice:n,wholesalePrice:u,membershipPrice:o,carAttachmentInfo:i,orderCarCustomerId:d}=a.data;z.value={...a.data,price:wa(s),exhibitionPrice:wa(r),salesPrice:wa(c),managerPrice:wa(n),wholesalePrice:wa(u),membershipPrice:wa(o)};const p=uni.$u.pages(),m=f.userInfo,_=null==(l=null==(e=p[p.length-1])?void 0:e.$page)?void 0:l.fullPath.slice(1);K.value={title:z.value.carModelFullName,desc:"",userInfo:m,checkCarDetails:[z.value],checkCarIds:[t.value.id],fullPath:_,thumbData:_a(z.value.coverUrl||"https://sjmc.obs.cn-north-4.myhuaweicloud.com/static/login/logo_bg.jpg",20)};const v=(null==i?void 0:i.map((a=>({...a,attachmentUrl:decodeURIComponent(a.attachmentUrl),loaded:!1}))))||[],h=["Cover","APPEARANCE","TRIM","OTHER_PHOTOS","VehicleLicense","VehicleLicenseBack","RegisterCertificate","Nameplate","CLASSIFY_OTHER_PHOTOS","Unknown","Normal","AssessmentReport","OCRNameplate","AuditNameplate","Purchase","SalesOrder","ChaboshiReport","ChaboshiPDFReport","ChaboshiDouYinUPdfReport","VIOLATION","ID_CARD_FRONT","ID_CARD_BACK","PRICING_PAYMENT_APPLY","PAYMENT_VOUCHER","DCD_FILE","V268_FILE","CBS_FILE","CAR_CERTIFICATE_ATTACHMENT"],y=[];for(const t of h)y.push(...v.filter((a=>a.carAttachmentType==t)));g.value=y}))},H=w({current:1,size:1,total:0}),G=()=>{H.value.current*H.value.size>=H.value.total||(H.value.current++,W())},W=()=>{const a={...Da(H.value,"total"),carProductId:t.value.id};uni.$u.http.get("product/order/car/custom/findCustomerOrder",{params:a}).then((a=>{E.value=[...E.value,...a.data.results],H.value.total=a.data.count}))},Q=()=>{uni.$u.http.get("product/carProductPrepare/amountStatistics",{params:{carProductId:t.value.id}}).then((a=>{N.value=a.data}))},X=()=>{da("carAttachments",JSON.stringify(z.value.carAttachmentInfo));const a=(M("userBtnPermission")?JSON.parse(M("userBtnPermission")):[]).includes("product:edit")&&!t.value.pageKey&&"SoldOut"!=z.value.status&&"ToBeSigned"!=z.value.status&&"PaymentIng"!=z.value.status&&"Locked"!=z.value.status?0:1;A(`/pages/carManage/photoManage?type=0&pageKey=detail&id=${t.value.id}&detail=${a}&page=addcar`)},ea=w(!1),ta=w(""),va=w([]),ya=async()=>{Z({title:"加载中",mask:!0});const a=g.value.filter((a=>["Cover","APPEARANCE"].includes(a.carAttachmentType))).map((a=>a.attachmentUrl));va.value=a.length?a:[pa],ta.value=await ka("pagesA/carDetail/index"),ea.value=!0,aa()},ka=async a=>new Promise(((e,l)=>{uni.$u.http.post("product/common/generateSmallProgramCode",{carProductId:t.value.id,path:a}).then((a=>{0==a.code?e(a.data):l(a.message)}))})),Pa=w(!1),Ia=w(1),Ca=w(""),Sa=w(""),Ta=(a,e)=>{Ia.value=1==a.saleApproving?1:2,1==a.saleApproving&&(Sa.value=a.salesUserName||"-"),Pa.value=!0,Ca.value=e},Ma=()=>{Pa.value=!1,2==Ia.value&&(fa({url:`/pages/carManage/details/index?id=${Ca.value}`}),Ca.value="",Sa.value="")},Ra=w(),ja=a=>{var e;null==(e=Ra.value)||e.open([...a])},Ua=a=>{A(`/pages/carManage/details/index?id=${a[0].carProductId}`)};return na((()=>{ua("carAttachments")})),(a,P)=>{const w=b,A=u,L=D,O=e(l("up-tabs"),oa),B=e(l("up-modal"),j);return y(x)?n("",!0):(r(),s(A,{key:0,class:"carDetail"},{default:c((()=>[!y(t).token&&y(f).isLogin?(r(),s(ga,{key:0,title:"车辆详情",showBackBtn:y(f).isLogin},ia({_:2},[!y(t).pageKey&&y(I)?{name:"right",fn:c((()=>[d(w,{style:{width:"38rpx",height:"38rpx"},mode:"aspectFill",class:"share-btn",onClick:ya,src:ma})])),key:"0"}:void 0]),1032,["showBackBtn"])):n("",!0),d(Na,{sourceList:y(g),platno:y(z).productNo,videoPlay:!1,onClickSwiper:X},null,8,["sourceList","platno"]),d(A,{class:"cards"},{default:c((()=>[d(A,{class:"title"},{default:c((()=>[o(i(y(z).carModelFullName),1)])),_:1}),d(A,{class:"all-price"},{default:c((()=>["SoldOut"==y(z).status||"Locked"==y(z).status||"ToBeSigned"==y(z).status||"PaymentIng"==y(z).status?(r(),m(_,{key:0},[1==y(z).priceViewPermission?(r(),s(A,{key:0},{default:c((()=>[y(z).dealPrice?(r(),m(_,{key:0},[d(L,{class:"price-small mr6"},{default:c((()=>[o("成交价")])),_:1}),d(L,{class:"price"},{default:c((()=>[o(i(y(z).dealPrice),1)])),_:1}),d(L,{class:"price-small ml6"},{default:c((()=>[o("万")])),_:1})],64)):(r(),s(L,{key:1,class:"no-price"},{default:c((()=>[o("--")])),_:1}))])),_:1})):(r(),s(A,{key:1,class:"no-price"},{default:c((()=>[o("已成交")])),_:1}))],64)):"SoldOut"!=y(z).status&&"Locked"!=y(z).status&&"ToBeSigned"!=y(z).status&&"PaymentIng"!=y(z).status&&y(z).price?(r(),s(A,{key:1},{default:c((()=>[d(L,{class:"price"},{default:c((()=>[o(i(y(z).price),1)])),_:1}),d(L,{class:"price-small ml6"},{default:c((()=>[o("万")])),_:1})])),_:1})):(r(),s(A,{key:2,class:"no-price"},{default:c((()=>[o("未定价")])),_:1})),d(A,{onClick:k,class:"inside"},{default:c((()=>[d(L,null,{default:c((()=>[o("内部价")])),_:1}),J("img",{class:p(["img",{review:y(v)}]),src:"./static/carManage/arrow_blue.png",alt:""},null,2)])),_:1})])),_:1}),y(z).membershipPrice&&parseFloat(1e4*(y(z).price-y(z).membershipPrice)).toFixed(2)>0?(r(),s(A,{key:0,class:"vip-price"},{default:c((()=>[d(A,{class:"vip-price-bg"},{default:c((()=>[d(w,{src:"./static/carManage/vip1.png"}),d(A,null,{default:c((()=>[o("会员再享 "),d(L,null,{default:c((()=>[o(i(parseFloat(1e4*(y(z).price-y(z).membershipPrice)).toFixed(2)),1)])),_:1}),o(" 元优惠 ")])),_:1})])),_:1})])),_:1})):n("",!0),y(v)&&!y(t).pageKey?(r(),s(A,{key:1,class:"inside-info"},{default:c((()=>{var a,e;return["SoldOut"==y(z).status||"Locked"==y(z).status||"ToBeSigned"==y(z).status||"PaymentIng"==y(z).status?(r(),s(A,{key:0,class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("网络标价")])),_:1}),d(A,null,{default:c((()=>{var a;return[(null==(a=y(z))?void 0:a.price)?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>{var a;return[o(i(null==(a=y(z))?void 0:a.price),1)]})),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))]})),_:1})])),_:1})):n("",!0),d(A,{class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("展厅标价")])),_:1}),d(A,null,{default:c((()=>[y(z).exhibitionPrice?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>[o(i(y(z).exhibitionPrice),1)])),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))])),_:1})])),_:1}),-1!=y(z).salesPrice?(r(),s(A,{key:1,class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("销售底价")])),_:1}),d(A,null,{default:c((()=>[y(z).salesPrice?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>[o(i(y(z).salesPrice),1)])),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))])),_:1})])),_:1})):n("",!0),-1!=y(z).managerPrice?(r(),s(A,{key:2,class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("经理底价")])),_:1}),d(A,null,{default:c((()=>[y(z).managerPrice?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>[o(i(y(z).managerPrice),1)])),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))])),_:1})])),_:1})):n("",!0),-1!=y(z).wholesalePrice?(r(),s(A,{key:3,class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("批发价")])),_:1}),d(A,null,{default:c((()=>[y(z).wholesalePrice?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>[o(i(y(z).wholesalePrice),1)])),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))])),_:1})])),_:1})):n("",!0),-1!=(null==(e=null==(a=y(z))?void 0:a.purchaseDetail)?void 0:e.purchasePrice)?(r(),s(A,{key:4,class:"info-item"},{default:c((()=>[d(L,{class:"label"},{default:c((()=>[o("采购价")])),_:1}),d(A,null,{default:c((()=>{var a,e;return[(null==(e=null==(a=y(z))?void 0:a.purchaseDetail)?void 0:e.purchasePrice)?(r(),m(_,{key:0},[d(L,{class:"v-price"},{default:c((()=>{var a,e;return[o(i(null==(e=null==(a=y(z))?void 0:a.purchaseDetail)?void 0:e.purchasePrice),1)]})),_:1}),o(" 万元 ")],64)):(r(),s(L,{key:1},{default:c((()=>[o("未定价")])),_:1}))]})),_:1})])),_:1})):n("",!0)]})),_:1})):n("",!0),y(z).guidePrice?(r(),s(A,{key:2,class:"newCarPrice"},{default:c((()=>[o("新车指导价："+i(y(z).guidePrice)+"万 ",1)])),_:1})):n("",!0),y(z).regionId?(r(),s(A,{key:3},{default:c((()=>[d(A,{class:"mapTag"},{default:c((()=>[o(i(y(z).regionName),1)])),_:1})])),_:1})):n("",!0),d(A,{class:"tags"},{default:c((()=>{var a;return[1==y(z).choicenessFlag?(r(),s(A,{key:0,class:"boutiqueCar"})):n("",!0),0===y(z).choicenessFlag?(r(),s(A,{key:1,class:"discountedCar"})):n("",!0),y(z).status&&U(y(z).status).length?(r(),s(A,{key:2,class:"active"},{default:c((()=>[o(i(U(y(z).status)),1)])),_:1})):n("",!0),"Consign"==(null==(a=y(z).purchaseDetail)?void 0:a.purchaseType)?(r(),s(A,{key:3,class:"tag-item consign"},{default:c((()=>[o("寄售 ")])),_:1})):n("",!0),y(z).stockStatus&&"FirstInspection"!==y(z).stockStatus?(r(),s(A,{key:4},{default:c((()=>[o(i(V(y(z).stockStatus)),1)])),_:1})):n("",!0),"ON_SALE"==y(z).status||"SOLD_OUT"==y(z).status?(r(),s(A,{key:5},{default:c((()=>[o("上架"+i(y(z).onSaleDay)+"天 ",1)])),_:1})):n("",!0),y(z).warehouseDay&&"0"!==y(z).warehouseDay?(r(),s(A,{key:6},{default:c((()=>[o("库龄"+i(y(z).warehouseDay)+"天 ",1)])),_:1})):n("",!0),y(z).mileage?(r(),s(A,{key:7},{default:c((()=>[o(i(y(z).mileage)+"万公里",1)])),_:1})):n("",!0),y(z).registerDate?(r(),s(A,{key:8},{default:c((()=>[o(i(y(S)(y(z).registerDate).format("YYYY-MM")),1)])),_:1})):n("",!0),y(z).bodyColor?(r(),s(A,{key:9},{default:c((()=>[o(i(y(z).bodyColor),1)])),_:1})):n("",!0)]})),_:1}),d(O,{list:y(C),lineColor:"#3C73FF",activeStyle:{color:"#333",fontWeight:"bold",fontSize:"30rpx"},inactiveStyle:{color:"#8F959E",fontSize:"30rpx"},onClick:Y,scrollable:!(y(C).length>1&&y(C).length<4)},null,8,["list","scrollable"])])),_:1}),d(A,{class:"tab-content"},{default:c((()=>[1==y(h)?(r(),s(xa,{key:0,infoData:y(z),pageKey:y(t).pageKey},null,8,["infoData","pageKey"])):n("",!0),2==y(h)?(r(),s($a,{key:1,pages:y(H),orderData:y(E),staticsData:y(N),stockStatus:y(z).stockStatus,detailObj:y(z),onMore:G},null,8,["pages","orderData","staticsData","stockStatus","detailObj"])):n("",!0),3==y(h)?(r(),s(ha,{key:2,infoData:y(z),pageType:"car"},null,8,["infoData"])):n("",!0),4==y(h)?(r(),s(Fa,{key:3,infoData:y(z),pageType:"car"},null,8,["infoData"])):n("",!0)])),_:1}),!y(t).pageKey&&y(f).isLogin||"qw"==y(t).pushType||"app"==y(t).pushType?(r(),s(Ba,{key:1,onHandleSuccess:q,onToVerifyStroeVin:ja,rows:y(z),onHandleSaleAudit:Ta},null,8,["rows"])):n("",!0),y(ea)?(r(),s(Ea,{key:2,imageData:y(va),qrCodeData:y(ta),onClose:R,backData:y(T),listShareObj:y(K),carProductId:y(t).id,visible:y(ea),checkCarDetailList:y(Oa)(y(z))?[]:[y(z)]},null,8,["imageData","qrCodeData","backData","listShareObj","carProductId","visible","checkCarDetailList"])):n("",!0),d(B,{width:"540rpx",class:"saleAuditModal",showCancelButton:!0,show:y(Pa),showConfirmButton:!1,onCancel:Ma},{default:c((()=>[d(A,{class:"saleAuditBox"},{default:c((()=>[d(A,{class:"title"},{default:c((()=>[o("当前不可操作")])),_:1}),1==y(Ia)?(r(),s(A,{key:0,class:"text"},{default:c((()=>[o("车辆出售审核中，审批结束后可操作")])),_:1})):n("",!0),2==y(Ia)?(r(),s(A,{key:1,class:"text"},{default:c((()=>[o("车辆已出售，不能再次进行出售")])),_:1})):n("",!0),1==y(Ia)?(r(),s(A,{key:2,class:"text"},{default:c((()=>[o("销售员："),d(L,{class:"saler"},{default:c((()=>[o(i(y(Sa)),1)])),_:1})])),_:1})):n("",!0)])),_:1})])),_:1},8,["show"]),d(La,{ref_key:"noPurchaseCarInfoRef",ref:Ra,type:"entry",onConfirm:Ua},null,512)])),_:1}))}}}),[["__scopeId","data-v-dc2162bb"]]);export{Ma as default};
