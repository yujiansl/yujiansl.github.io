import{r as e,x as a,q as l,a9 as t,B as o,s,ak as r,E as u,X as c,Y as d,p as n,au as i,a0 as m,a1 as f,Z as p,ar as D,D as h,Q as v,d as y,bZ as _,c as g,w as C,i as b,I as A,am as k,K as V,b_ as x,M as T,at as I,o as S,a as w,u as M,k as P,y as L,g as $,h as N,R as B,n as F,t as j,b as Y,F as U,e as R,aU as K,aj as E,f as O,W as H,z as q,C as z,_ as G}from"./index-CK4DGatK.js";import{s as J}from"./addState.BIkq4e66.js";import{N as Q}from"./NavBar.DSs5OGCU.js";import{C as W}from"./cityPicker.CpzGRyNT.js";import{C as X}from"./colorPop.BYxZ8ilX.js";import{u as Z}from"./useDict.DwAUsZFY.js";import{c as ee}from"./crm.-ZWUD7KR.js";import{o as ae}from"./utils.KWGjglqg.js";import{a as le,b as te,d as oe,c as se,e as re}from"./validator.D4swjSxv.js";import{c as ue}from"./carSelect-emit.CejlvgP5.js";import{u as ce}from"./useQuery.3dd8K18V.js";import{a as de,g as ne,s as ie}from"./data.8ftChL3A.js";import{a as me}from"./index.HDA2F_3Q.js";import"./event.CJk5hinv.js";const fe=()=>{const y=ce(),_=e([{name:"客户信息",key:"",top:0},{name:"销售机会",title:"机会",key:"0",top:0},{name:"评估机会",title:"意向",key:"1",top:0}]),g=a((()=>y.value.highSeasType)),C=e(!1),b=e(!1),A=e(""),k=e(""),V=e(""),x=a((()=>_.value.some((e=>"0"===e.key)))),T=a((()=>_.value.some((e=>"1"===e.key))));l((()=>{_.value=[_.value[0],..._.value.filter((e=>g.value===e.key))]}));const I=t({customerDto:{name:"",phone:"",source:"",gender:2,age:"",addressProvinceId:"",addressCityId:"",addressCountryId:"",addressCode:"",address:"",wechat:"",idCard:""},sellAddDto:{intentionCode:"H",budgetMin:"",budgetMax:"",predictBuyCarTime:"",vehicleAge:"",brandId:"",seriesId:"",modelId:"",modelName:"",carModelGuidePrice:"",paymentType:0,carLayout:"",carFocus:"",description:"",inventorySource:[]},purchaseDto:{intentionCode:"H",brandId:"",seriesId:"",modelId:"",modelName:"",carModelGuidePrice:"",vin:"",kilometres:"",colorSourceValue:"",colorSource:"",factoryDate:"",registrationTime:"",priceMin:"",priceMax:"",description:""}});o((()=>{M(),F(),B(),s((()=>{for(let e=0;e<=2;e++)r().select(`#section-${e}`).boundingClientRect((a=>{_.value[e]&&(_.value[e].top=parseInt(a.top)-100)})).exec()}))})),ue.onEvent((({data:e})=>{const{brandId:a,brandName:l,seriesId:t,seriesName:o,id:s,name:r,price:u}=e;I.purchaseDto.brandId=a,I.purchaseDto.brandName=l,I.purchaseDto.seriesId=t,I.purchaseDto.seriesName=o,I.purchaseDto.modelId=s,I.purchaseDto.modelName=`${l} ${o} ${r}`,I.purchaseDto.carModelGuidePrice=u})),u((()=>{ae((e=>{const a=e.data||[];I.sellAddDto.inventorySource=a})),c("pickData"),d("pickData",(e=>{const{key:a,subKey:l,tKey:t}=e;t?I[l][t]=a:I[l]=a})),c("mulPickData"),d("mulPickData",(e=>{const{checkList:a,subKey:l,tKey:t}=e;t?I[l][t]=a:I[l]=a}))}));const S=e(0);const w=e({}),M=()=>{uni.$u.http.get("/product/carProductApp/getArea").then((e=>{w.value=e.data||{}}))},P=e([]),L=e(),$=e(),N=e(),B=()=>{uni.$u.http.get(ee.intentionInfolist,{data:{current:1,size:-1,type:"0"}}).then((e=>{var a;U.value=((null==(a=e.data)?void 0:a.results)||[]).map((e=>({key:e.code,value:e.code})))}))},F=()=>{uni.$u.http.get("product/common/model/color",{}).then((e=>{const a=e.data;P.value=[...a.bodyColors,{name:"其他颜色",value:""}]}))},j=e([]),Y=a((()=>J(j.value,I.customerDto.source))),U=e([]),R=a((()=>{var e;return J(U.value,null==(e=I.sellAddDto)?void 0:e.intentionCode)})),K=a((()=>{var e;return J(U.value,null==(e=I.purchaseDto)?void 0:e.intentionCode)})),E=e([]),O=a((()=>J(E.value,I.sellAddDto.vehicleAge))),H=e([]),q=a((()=>J(H.value,I.sellAddDto.carLayout))),z=e([]),G=a((()=>J(z.value,I.sellAddDto.carFocus)));function J(e,a){if(e||(e=[]),Array.isArray(a)){const l=e.filter((e=>a.includes(e.key))).map((e=>e.value));return(null==l?void 0:l.length)?l.join(","):"请选择"}{const l=e.filter((e=>e.key==a));return(null==l?void 0:l.length)?l[0].value:"请选择"}}function Q(e,a){var l,t;if(["factoryDate","registrationTime"].includes(a)){const o=null==(l=I.purchaseDto)?void 0:l.factoryDate,s=null==(t=I.purchaseDto)?void 0:t.registrationTime;o&&s&&!i(s).isAfter(o)&&(uni.$u.toast("上牌日期不能早于出厂日期"),I[e][a]="")}}const{customer_source:W,vehicle_age_type:X,car_layout:fe,car_focus_type:pe}=Z("customer_source","vehicle_age_type","car_layout","car_focus_type");function De(e){return null==e?void 0:e.map((e=>({key:e.value,value:e.label})))}n((()=>{W.value&&(j.value=De(W.value)),X.value&&(E.value=De(X.value)),fe.value&&(H.value=De(fe.value)),pe.value&&(z.value=De(pe.value))}));const he=e(),ve=new Map([["year","年"],["month","月"],["day","日"]]);return{form:I,title:"新增客户",tabActive:S,tabsList:_,isSellType:x,showDate:C,showDate2:b,dateValue:k,dateTitle:V,intentionCodeList:U,intentionCodeXsText:R,intentionCodepgText:K,vehicleAgeList:E,vehicleAgeText:O,carLayoutList:H,carLayoutText:q,carFocusList:z,carFocusText:G,sourceList:j,sourceText:Y,isPurchaseType:T,colorSources:P,colorValue:$,colorName:N,contentRef:he,colorPopRef:L,areaData:w,tabClick:async e=>{var a;await s();const l=document.getElementById("section-"+e.index),t=document.getElementById("page-box");l&&t&&(null==(a=he.value)||a.$el.scrollTo({top:l.offsetTop-100,behavior:"smooth"}))},toPagePicker:(e,a,l,t,o)=>{v(`/pages/carManage/pagePicker?title=${e}&list=${JSON.stringify(a)}&key=${l}&subKey=${t}&tKey=${o}`)},checkInput:(e,a,l,t)=>{"string"==typeof e?e=e.trim():"number"==typeof e&&(e=String(e)),s((()=>{I[a][l]=me(e,t)}))},inputAge:e=>{const a=e.detail.value;a&&!te(a)&&(new h).showToast("请输入年龄区间18-60")},inputWechat:e=>{const a=e.detail.value;a&&!oe(a)&&(new h).showToast("微信号格式不正确")},inputIdCard:e=>{const a=e.detail.value;a&&!se(a)&&(new h).showToast("身份证号格式不正确")},blurInput1:(e,a)=>{const l=I.sellAddDto.budgetMin,t=I.sellAddDto.budgetMax;if(l&&t&&parseFloat(l)>=parseFloat(t))return m({title:"最高价必须大于最低价",icon:"none"}),void(I.sellAddDto[a]="")},blurInput2:(e,a)=>{const l=I.purchaseDto.priceMin,t=I.purchaseDto.priceMax;if(l&&t&&parseFloat(l)>=parseFloat(t))return m({title:"最高价必须大于最低价",icon:"none"}),void(I.purchaseDto[a]="")},bindPickerChange:(e,a,l)=>{l?I[a][l]=e.detail.value:I[a]=e.detail.value,Q(a,l)},formatDate:function(e){return e?i(e).format("YYYY-MM-DD"):""},changeColor:(e,a)=>{$.value=e,N.value=a,L.value.open()},handleSubmit:async e=>{var a,l,t;if(!e)return void f();const{phone:o,idCard:s,name:r,source:u,age:c,wechat:d}=I.customerDto,{vin:n}=I.purchaseDto;if(!r)return m({title:"请输入客户名称",icon:"none"});if(!o)return m({title:"请输入联系电话",icon:"none"});if(!u)return m({title:"请选择来源",icon:"none"});if(o&&!le(o))return m({title:"联系电话格式错误",icon:"none"});if(c&&!te(c))return m({title:"年龄格式错误",icon:"none"});if(d&&!oe(d))return m({title:"微信号格式错误",icon:"none"});if(s&&!se(s))return m({title:"身份证号格式错误",icon:"none"});if(n&&!re(n))return m({title:"VIN码格式错误",icon:"none"});p({title:"提交中",mask:!0});const i={...y.value,...I};if(x.value){const e=(null==(a=I.sellAddDto)?void 0:a.inventorySource)||[],o=de((null==(l=I.sellAddDto)?void 0:l.carFocus)||[]),s=de((null==(t=I.sellAddDto)?void 0:t.carLayout)||[]),r={...I.sellAddDto,inventorySource:e,carLayout:s,carFocus:o};i.sellAddDto=r}else i.sellAddDto=null;if(T.value){const e=Object.values(I.purchaseDto).every((e=>!e))?[]:[I.purchaseDto];i.purchaseDto=e}else i.purchaseDto=null;const h=x.value?"addHighCustomerSell":"addHighCustomerPurchase";await uni.$u.http.post(ee[h],i),m({title:"提交成功",icon:"none"}),D("refreshList"),f()},sureColor:e=>{I.purchaseDto.colorSource=e.bodyColor,I.purchaseDto.colorSourceValue=e.bodyColorValue},onFormatter:function(e,a){return`${a}${ve.get(e)}`},getDetailByPhone:()=>{if(I.customerDto.phone)return I.customerDto.phone&&!le(I.customerDto.phone)?m({title:"联系电话格式错误",icon:"none"}):void uni.$u.http.post(ee.getcustomByphone,{phone:I.customerDto.phone}).then((e=>{!function(e){var a,l;const{customerDto:t,purchaseDto:o,sellAddDto:s}=e||{};(function(e){var a;if(e){I.customerDto=e;const l=null==(a=I.customerDto.addressCode)?void 0:a.split(",");I.customerDto.addressProvinceId=null==l?void 0:l[0],I.customerDto.addressCityId=null==l?void 0:l[1],I.customerDto.addressCountryId=null==l?void 0:l[2]}})(t),o&&(I.purchaseDto=ne(o)||{}),s&&(I.sellAddDto=ne(s));const r=ie((null==(a=I.sellAddDto)?void 0:a.carFocus)||""),u=ie((null==(l=I.sellAddDto)?void 0:l.carLayout)||"");I.sellAddDto={...I.sellAddDto,carLayout:u,carFocus:r}}(e.data||{})}))},sureAddressCity:e=>{const{provinceId:a,cityId:l,countryId:t,provinceName:o,cityName:s,countyName:r}=e;I.customerDto.addressCode=`${a},${l},${t}`,I.customerDto.address=`${o} ${s} ${r}`},openDate:(e,a,l)=>{["predictBuyCarTime"].includes(e)?b.value=!0:C.value=!0,A.value=e,k.value=a||i().format("YYYY-MM-DD"),V.value=l},dateConfirm:e=>{s((()=>{I.purchaseDto[A.value]=i(e.value).format("YYYY-MM-DD"),C.value=!1,Q("purchaseDto",A.value)}))},dateConfirm2:e=>{s((()=>{I.sellAddDto[A.value]=i(e.value).format("YYYY-MM-DD"),b.value=!1}))}}},pe=G(y({__name:"addCustom",setup(e){const{form:a,title:l,tabActive:t,tabsList:o,isSellType:s,showDate:r,showDate2:u,dateValue:c,dateTitle:d,intentionCodeList:n,intentionCodeXsText:m,intentionCodepgText:f,vehicleAgeList:p,vehicleAgeText:D,carLayoutList:h,carLayoutText:y,carFocusList:G,carFocusText:Z,sourceList:ee,sourceText:ae,isPurchaseType:le,colorSources:te,colorValue:oe,colorName:se,contentRef:re,colorPopRef:ue,areaData:ce,tabClick:de,toPagePicker:ne,checkInput:ie,inputAge:me,inputWechat:pe,inputIdCard:De,blurInput1:he,formatDate:ve,changeColor:ye,handleSubmit:_e,sureColor:ge,onFormatter:Ce,sureAddressCity:be,openDate:Ae,dateConfirm:ke,dateConfirm2:Ve}=fe(),xe=e=>{t.value=e.index,z({scrollTop:e.top,duration:100})};return _((e=>{const a=e.scrollTop;let l=-1;o.value.forEach(((e,t)=>{a>=(0===t?0:o.value[t-1].top)&&a<e.top?l=t-1:a>=e.top&&(l=t)})),-1===l&&-1!==t.value?l=t.value:t.value=l})),(e,_)=>{const z=A(V("up-tabs"),k),fe=A(V("up-sticky"),x),Te=b,Ie=N,Se=B,we=A(V("up-icon"),T),Me=E,Pe=H,Le=A(V("u-datetime-picker"),I);return S(),g(Te,{class:"page f-c-s"},{default:C((()=>[w(Q,{title:M(l)},null,8,["title"]),w(fe,{bgColor:"#fff"},{default:C((()=>[w(z,{current:M(t),onChange:xe,list:M(o),onClick:M(de),lineColor:"#ff5719"},null,8,["current","list","onClick"])])),_:1}),w(Te,{class:"content",id:"page-box",ref_key:"contentRef",ref:re},{default:C((()=>[P("div",{class:"warp"},[w(Te,{id:"section-0",class:"section"},{default:C((()=>[w(Te,{class:"form-box"},{default:C((()=>[w(Te,{class:"classy-title"},{default:C((()=>[$("客户信息")])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[w(Ie,null,{default:C((()=>[$("*")])),_:1}),$("客户名称")])),_:1}),w(Se,{modelValue:M(a).customerDto.name,"onUpdate:modelValue":_[0]||(_[0]=e=>M(a).customerDto.name=e),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[w(Ie,null,{default:C((()=>[$("*")])),_:1}),$("联系电话")])),_:1}),w(Se,{modelValue:M(a).customerDto.phone,"onUpdate:modelValue":_[1]||(_[1]=e=>M(a).customerDto.phone=e),modelModifiers:{trim:!0},placeholder:"请输入",maxlength:"11"},null,8,["modelValue"])])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[w(Ie,null,{default:C((()=>[$("*")])),_:1}),$("来源")])),_:1}),w(Te,{class:"f-b-c",onClick:_[2]||(_[2]=e=>M(ne)("来源",M(ee),M(a).customerDto.source||"","customerDto","source"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(ae)})},{default:C((()=>[$(j(M(ae)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[w(Ie,null,{default:C((()=>[$("*")])),_:1}),$("性别")])),_:1}),w(Te,{class:"tab-box"},{default:C((()=>[(S(!0),Y(U,null,R(M(J),((e,l)=>(S(),g(Ie,{key:l,class:F({active:M(a).customerDto.gender==e.value}),onClick:l=>M(a).customerDto.gender=e.value},{default:C((()=>[$(j(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("年龄")])),_:1}),w(Se,{modelValue:M(a).customerDto.age,"onUpdate:modelValue":_[3]||(_[3]=e=>M(a).customerDto.age=e),type:"number",placeholder:"请输入",onBlur:M(me)},null,8,["modelValue","onBlur"]),$(" 岁 ")])),_:1}),w(Te,{class:"form-item"},{default:C((()=>{var e,l,t,o,s,r;return[w(Te,null,{default:C((()=>[$("地址")])),_:1}),w(W,{areaData:M(ce),onSureCity:M(be),modelValue:M(a).customerDto.addressCode,"onUpdate:modelValue":_[4]||(_[4]=e=>M(a).customerDto.addressCode=e),cityInfo:{provinceId:null==(l=null==(e=M(a).customerDto.addressCode)?void 0:e.split(","))?void 0:l[0],cityId:null==(o=null==(t=M(a).customerDto.addressCode)?void 0:t.split(","))?void 0:o[1],countryId:null==(r=null==(s=M(a).customerDto.addressCode)?void 0:s.split(","))?void 0:r[2],fullCityName:M(a).customerDto.address}},null,8,["areaData","onSureCity","modelValue","cityInfo"]),w(we,{name:"arrow-right"})]})),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("微信号")])),_:1}),w(Se,{modelValue:M(a).customerDto.wechat,"onUpdate:modelValue":_[5]||(_[5]=e=>M(a).customerDto.wechat=e),modelModifiers:{trim:!0},placeholder:"请输入",maxlength:"64",onBlur:M(pe)},null,8,["modelValue","onBlur"])])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("身份证号")])),_:1}),w(Se,{maxlength:"18",modelValue:M(a).customerDto.idCard,"onUpdate:modelValue":_[6]||(_[6]=e=>M(a).customerDto.idCard=e),modelModifiers:{trim:!0},placeholder:"请输入",onBlur:M(De)},null,8,["modelValue","onBlur"])])),_:1})])),_:1})])),_:1}),M(s)?(S(),g(Te,{key:0,id:"section-1",class:"section"},{default:C((()=>[w(Te,{class:"form-box"},{default:C((()=>[w(Te,{class:"classy-title"},{default:C((()=>[$("销售机会")])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[w(Ie,null,{default:C((()=>[$("*")])),_:1}),$("购车方式")])),_:1}),w(Te,{class:"tab-box"},{default:C((()=>[w(Ie,{class:F({active:0===M(a).sellAddDto.paymentType}),onClick:_[7]||(_[7]=e=>M(a).sellAddDto.paymentType=0)},{default:C((()=>[$(" 分期 ")])),_:1},8,["class"]),w(Ie,{class:F({active:1===M(a).sellAddDto.paymentType}),onClick:_[8]||(_[8]=e=>M(a).sellAddDto.paymentType=1)},{default:C((()=>[$(" 全款 ")])),_:1},8,["class"])])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("意向程度")])),_:1}),w(Te,{class:"f-b-c",onClick:_[9]||(_[9]=e=>M(ne)("意向程度",M(n),M(a).sellAddDto.intentionCode||"","sellAddDto","intentionCode"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(m)})},{default:C((()=>[$(j(M(m)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("客户预算")])),_:1}),w(Se,{class:"number-input",type:"number",placeholder:"最低价",clearable:"",modelValue:M(a).sellAddDto.budgetMin,"onUpdate:modelValue":_[10]||(_[10]=e=>M(a).sellAddDto.budgetMin=e),onInput:_[11]||(_[11]=e=>M(ie)(e.detail.value,"sellAddDto","budgetMin","wanyuan")),onBlur:_[12]||(_[12]=e=>M(he)(e,"budgetMin"))},null,8,["modelValue"]),w(Ie,{class:"p-10"},{default:C((()=>[$("-")])),_:1}),w(Se,{class:"number-input",type:"number",placeholder:"最高价",modelValue:M(a).sellAddDto.budgetMax,"onUpdate:modelValue":_[13]||(_[13]=e=>M(a).sellAddDto.budgetMax=e),clearable:"",onInput:_[14]||(_[14]=e=>M(ie)(e.detail.value,"sellAddDto","budgetMax","wanyuan")),onBlur:_[15]||(_[15]=e=>M(he)(e,"budgetMax"))},null,8,["modelValue"]),w(Ie,{class:"p-10"},{default:C((()=>[$("万元")])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("预计买车日期")])),_:1}),w(Te,{class:F({placeholder:!M(a).sellAddDto.predictBuyCarTime}),onClick:_[16]||(_[16]=e=>M(Ae)("predictBuyCarTime",M(a).sellAddDto.predictBuyCarTime,"预计买车日期"))},{default:C((()=>[$(j(M(ve)(M(a).sellAddDto.predictBuyCarTime)||"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("车龄")])),_:1}),w(Te,{class:"f-b-c",onClick:_[17]||(_[17]=e=>M(ne)("车龄",M(p),M(a).sellAddDto.vehicleAge||"","sellAddDto","vehicleAge"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(D)})},{default:C((()=>[$(j(M(D)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("意向车系")])),_:1}),w(Te,{class:"f-b-c",onClick:_[18]||(_[18]=l=>("toPage"in e?e.toPage:M(v))(`/pagesB/comp/carSeries?${("qsStr"in e?e.qsStr:M(K))({data:JSON.stringify({check:M(a).sellAddDto.inventorySource})})}`))},{default:C((()=>{var e,l;return[w(Ie,{class:F({placeholder:!(null==(l=null==(e=M(a).sellAddDto)?void 0:e.inventorySource)?void 0:l.length)})},{default:C((()=>[$(j((M(a).sellAddDto.inventorySource||[]).map((e=>e.carSeriesName)).join(",")||"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})]})),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("车体形式")])),_:1}),w(Te,{class:"f-b-c",onClick:_[19]||(_[19]=e=>M(ne)("车体形式",M(h),M(a).sellAddDto.carLayout||"","sellAddDto","carLayout"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(y)})},{default:C((()=>[$(j(M(y)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("关注点")])),_:1}),w(Te,{class:"f-b-c",onClick:_[20]||(_[20]=e=>M(ne)("关注点",M(G),M(a).sellAddDto.carFocus||"","sellAddDto","carFocus"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(Z)})},{default:C((()=>[$(j(M(Z)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-textarea"},{default:C((()=>[w(Te,{class:"area-title"},{default:C((()=>[$("描述")])),_:1}),w(Me,{modelValue:M(a).sellAddDto.description,"onUpdate:modelValue":_[21]||(_[21]=e=>M(a).sellAddDto.description=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),w(Te,{class:"limit"},{default:C((()=>{var e;return[$(j((null==(e=M(a).sellAddDto.description)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1})])),_:1})])),_:1})):L("",!0),M(le)?(S(),g(Te,{key:1,id:"section-2",class:"section"},{default:C((()=>[w(Te,{class:"form-box"},{default:C((()=>[w(Te,{class:"classy-title"},{default:C((()=>[$("评估机会")])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("意向程度")])),_:1}),w(Te,{class:"f-b-c",onClick:_[22]||(_[22]=e=>M(ne)("意向程度",M(n),M(a).purchaseDto.intentionCode||"","purchaseDto","intentionCode"))},{default:C((()=>[w(Ie,{class:F({placeholder:"请选择"==M(f)})},{default:C((()=>[$(j(M(f)),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("评估车型")])),_:1}),w(Te,{class:"f-b-c",onClick:_[23]||(_[23]=a=>("toPage"in e?e.toPage:M(v))("/pages/assess/carSelect?selectType=model"))},{default:C((()=>[w(Ie,{class:F({placeholder:!M(a).purchaseDto.modelName})},{default:C((()=>[$(j(M(a).purchaseDto.modelName||"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("VIN码")])),_:1}),w(Se,{modelValue:M(a).purchaseDto.vin,"onUpdate:modelValue":_[24]||(_[24]=e=>M(a).purchaseDto.vin=e),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("公里数")])),_:1}),w(Se,{type:"digit",modelValue:M(a).purchaseDto.kilometres,"onUpdate:modelValue":_[25]||(_[25]=e=>M(a).purchaseDto.kilometres=e),modelModifiers:{trim:!0},placeholder:"请输入",onInput:_[26]||(_[26]=e=>M(ie)(e.detail.value,"purchaseDto","kilometres","wanyuan"))},null,8,["modelValue"]),$(" 万公里 ")])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("车身颜色")])),_:1}),w(Te,{class:"f-b-c",onClick:_[27]||(_[27]=e=>M(ye)(M(a).purchaseDto.colorSourceValue,M(a).purchaseDto.colorSource))},{default:C((()=>[w(Te,{class:F([{none:!M(a).purchaseDto.colorSource},"f-r-a"])},{default:C((()=>[M(a).purchaseDto.colorSourceValue?(S(),g(Ie,{key:0,class:"color-box",style:O(`background:${M(a).purchaseDto.colorSourceValue}`)},null,8,["style"])):L("",!0),$(" "+j(M(a).purchaseDto.colorSourceValue?M(a).purchaseDto.colorSource:M(a).purchaseDto.colorSource?"其他颜色":"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("出厂日期")])),_:1}),w(Te,{class:F({placeholder:!M(a).purchaseDto.factoryDate}),onClick:_[28]||(_[28]=e=>M(Ae)("factoryDate",M(a).purchaseDto.factoryDate,"出厂日期"))},{default:C((()=>[$(j(M(ve)(M(a).purchaseDto.factoryDate)||"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("上牌日期")])),_:1}),w(Te,{class:F({placeholder:!M(a).purchaseDto.registrationTime}),onClick:_[29]||(_[29]=e=>M(Ae)("registrationTime",M(a).purchaseDto.registrationTime,"上牌日期"))},{default:C((()=>[$(j(M(ve)(M(a).purchaseDto.registrationTime)||"请选择"),1)])),_:1},8,["class"]),w(we,{name:"arrow-right"})])),_:1}),w(Te,{class:"form-item"},{default:C((()=>[w(Te,null,{default:C((()=>[$("客户预估价格")])),_:1}),w(Se,{modelValue:M(a).purchaseDto.priceMin,"onUpdate:modelValue":_[30]||(_[30]=e=>M(a).purchaseDto.priceMin=e),type:"digit",placeholder:"请输入",onInput:_[31]||(_[31]=e=>M(ie)(e.detail.value,"purchaseDto","priceMin","wanyuan"))},null,8,["modelValue"]),w(Ie,{class:"p-10"},{default:C((()=>[$("万元")])),_:1})])),_:1}),w(Te,{class:"form-textarea"},{default:C((()=>[w(Te,{class:"area-title"},{default:C((()=>[$("详细车况")])),_:1}),w(Me,{modelValue:M(a).purchaseDto.description,"onUpdate:modelValue":_[32]||(_[32]=e=>M(a).purchaseDto.description=e),placeholder:"请输入",maxlength:"1000"},null,8,["modelValue"]),w(Te,{class:"limit"},{default:C((()=>{var e;return[$(j((null==(e=M(a).purchaseDto.description)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1})])),_:1})])),_:1})):L("",!0)])])),_:1},512),w(Te,{class:"bottom-btn"},{default:C((()=>[w(Pe,{onClick:_[33]||(_[33]=e=>M(_e)(!1))},{default:C((()=>[$("取消")])),_:1}),w(Pe,{class:"save-btn",onClick:_[34]||(_[34]=e=>M(_e)(!0))},{default:C((()=>[$("确定")])),_:1})])),_:1}),w(X,{ref_key:"colorPopRef",ref:ue,colorData:M(te),colorValue:M(oe),colorName:M(se),onSureColor:M(ge),title:"车身颜色"},null,8,["colorData","colorValue","colorName","onSureColor"]),w(Le,{show:M(r),modelValue:M(c),"onUpdate:modelValue":_[35]||(_[35]=e=>q(c)?c.value=e:null),title:M(d),mode:"date",confirmColor:"#ff5719",maxDate:M(i)().valueOf(),formatter:M(Ce),onCancel:_[36]||(_[36]=e=>r.value=!1),onConfirm:M(ke)},null,8,["show","modelValue","title","maxDate","formatter","onConfirm"]),w(Le,{show:M(u),modelValue:M(c),"onUpdate:modelValue":_[37]||(_[37]=e=>q(c)?c.value=e:null),title:M(d),mode:"date",confirmColor:"#ff5719",minDate:M(i)().valueOf(),formatter:M(Ce),onCancel:_[38]||(_[38]=e=>u.value=!1),onConfirm:M(Ve)},null,8,["show","modelValue","title","minDate","formatter","onConfirm"])])),_:1})}}}),[["__scopeId","data-v-53b8dec4"]]);export{pe as default};
