import{d as e,x as a,r as l,au as t,I as o,M as s,K as r,ac as u,at as n,b as i,o as m,a as d,w as c,i as f,c as p,g as _,t as h,P as k,u as v,h as Y,n as w,aj as M,W as T,F as C,a0 as b,_ as x}from"./index-CK4DGatK.js";import{_ as y}from"./close.Dhgi5Ijg.js";const D=x(e({__name:"remarkPop",props:{show:{type:Boolean},title:{default:"原因"}},emits:["submit","close"],setup(e,{emit:x}){const D=e,V=x,g=a((()=>["成交时间"].includes(D.title))),$=l({remark:"",dateTime:t().format("YYYY-MM-DD")}),j=l(!1),O=new Map([["year","年"],["month","月"],["day","日"]]);function F(e,a){return`${a}${O.get(e)}`}function I(){j.value=!1}function P({value:e}){$.value.dateTime=t(e).format("YYYY-MM-DD"),j.value=!1}const R=()=>{V("close")},U=()=>{const e=g.value?$.value.dateTime:$.value.remark;if(!e)return b({title:`${D.title}不可为空`,icon:"none"});V("submit",e)},q=()=>{$.value={remark:"",dateTime:t().format("YYYY-MM-DD")}};return(e,a)=>{const l=f,t=k,b=Y,x=o(r("up-icon"),s),V=M,O=T,B=o(r("u-popup"),u),K=o(r("up-datetime-picker"),n);return m(),i(C,null,[d(B,{mode:"bottom",round:20,closeOnClickOverlay:!0,show:D.show,onOpen:q},{default:c((()=>[d(l,{class:"edit-box"},{default:c((()=>[d(l,{class:"head"},{default:c((()=>[d(l,null,{default:c((()=>[_(h(e.title),1)])),_:1}),d(t,{onClick:R,class:"close-btn",src:y,mode:"aspectFill"})])),_:1}),v(g)?(m(),p(l,{key:0,class:"form-item"},{default:c((()=>[d(l,null,{default:c((()=>[d(b,null,{default:c((()=>[_("*")])),_:1}),_(h(D.title),1)])),_:1}),d(l,{class:w({placeholder:!v($).dateTime}),onClick:a[0]||(a[0]=e=>j.value=!0)},{default:c((()=>[_(h(v($).dateTime||"请选择"),1)])),_:1},8,["class"]),d(x,{name:"arrow-right"})])),_:1})):(m(),p(l,{key:1,class:"form-textarea"},{default:c((()=>[d(V,{modelValue:v($).remark,"onUpdate:modelValue":a[1]||(a[1]=e=>v($).remark=e),placeholder:`请输入${e.title}`,maxlength:"1000"},null,8,["modelValue","placeholder"]),d(l,{class:"limit"},{default:c((()=>{var e;return[_(h((null==(e=v($).remark)?void 0:e.length)||0)+"/1000",1)]})),_:1})])),_:1})),d(O,{onClick:U},{default:c((()=>[_("确定")])),_:1})])),_:1})])),_:1},8,["show"]),d(K,{ref:"pickerRef",confirmColor:"#fe391e",onCancel:I,onConfirm:P,title:D.title,show:v(j),formatter:F,mode:"date",modelValue:v($).dateTime,"onUpdate:modelValue":a[2]||(a[2]=e=>v($).dateTime=e)},null,8,["title","show","modelValue"])],64)}}}),[["__scopeId","data-v-0c27e6e4"]]);export{D as R};
