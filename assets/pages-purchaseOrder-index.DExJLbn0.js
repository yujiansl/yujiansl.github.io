import{d as a,r as e,E as t,Z as l,a2 as n,c as s,w as i,i as u,I as o,M as c,K as r,N as d,o as f,a as v,O as g,P as m,u as _,Q as p,a5 as b,y as h,g as C,b as y,F as P,e as w,t as k,_ as x}from"./index-CK4DGatK.js";import{i as j}from"./dev.3CSglq9A.js";import{_ as S}from"./add.BenfLO0n.js";import{N as R}from"./NavBar.DSs5OGCU.js";const z=x(a({__name:"index",setup(a){const x=e([]),z=e([]),N=e([]);t((()=>{$()}));const $=()=>{l({title:"加载中"}),uni.$u.http.get("/product/carPricing/getAppCount").then((a=>{const e=a.data;x.value=[{label:"待定价",val:"awaitAssess",count:e.waitPricingCount},{label:"待采购",val:"awaitPricing",count:e.awaitPricingCount},{label:"审核中",val:"auditPricing",count:e.auditPricingCount},{label:"已采购",val:"hasPurchased",count:e.hasPurchasedCount},{label:"战败",val:"lose",count:e.loseCount},{label:"审核拒绝",val:"auditRejection",count:e.auditRejectionCount}],z.value=[{label:"待签署",val:"waitSign",count:e.waitSignCount},{label:"待付款",val:"waitPayment",count:e.waitPaymentCount},{label:"付款中",val:"duringPayment",count:e.duringPaymentCount},{label:"已付全款",val:"completePayment",count:e.completePaymentCount},{label:"已取消",val:"cancel",count:e.cancelCount}],N.value=[{label:"待入库",val:"waitStock",count:e.waitStockCount},{label:"已入库",val:"completeStock",count:e.completeStockCount}],n()}))},A=(a,e)=>{p(`/pages/purchaseOrder/purchaseList?type=${a}&itemType=${e}`)},B=e(!1);async function D(){B.value=!0,await $(),setTimeout((()=>{B.value=!1}),200)}return(a,e)=>{const t=m,l=u,n=o(r("up-icon"),c),$=b,F=d("permissionBtn");return f(),s(l,{class:"page f-c-s"},{default:i((()=>[v(R,{title:"采购"},{right:i((()=>[g((f(),s(l,{class:"nav-right"},{default:i((()=>[v(t,{src:S,onClick:e[0]||(e[0]=e=>("toPage"in a?a.toPage:_(p))("/pages/fixPrice/addFix"))})])),_:1})),[[F,["fixPrice:add"]]])])),_:1}),v($,{"scroll-y":"","refresher-enabled":!0,"refresher-triggered":_(B),onRefresherrefresh:D,class:"scroll-view-box",style:{height:"100%"}},{default:i((()=>[v(l,{class:"main-box"},{default:i((()=>[v(l,{class:"title"},{default:i((()=>[C("采购状态")])),_:1}),v(l,{class:"inventory"},{default:i((()=>[(f(!0),y(P,null,w(_(x),((a,e)=>(f(),s(l,{key:e,onClick:e=>A(a.val,1)},{default:i((()=>[v(l,null,{default:i((()=>[C(k(a.label),1)])),_:2},1024),v(l,null,{default:i((()=>[C(k(a.count),1),v(n,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),v(l,{class:"main-box"},{default:i((()=>[v(l,{class:"title"},{default:i((()=>[C("订单状态")])),_:1}),v(l,{class:"inventory"},{default:i((()=>[(f(!0),y(P,null,w(_(z),((a,e)=>(f(),s(l,{key:e,onClick:e=>A(a.val,2)},{default:i((()=>[v(l,null,{default:i((()=>[C(k(a.label),1)])),_:2},1024),v(l,null,{default:i((()=>[C(k(a.count),1),v(n,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),("isDev"in a?a.isDev:_(j))?(f(),s(l,{key:0,class:"main-box"},{default:i((()=>[v(l,{class:"title"},{default:i((()=>[C("入库状态")])),_:1}),v(l,{class:"inventory"},{default:i((()=>[(f(!0),y(P,null,w(_(N),((a,e)=>(f(),s(l,{key:e,onClick:e=>A(a.val,3)},{default:i((()=>[v(l,null,{default:i((()=>[C(k(a.label),1)])),_:2},1024),v(l,null,{default:i((()=>[C(k(a.count),1),v(n,{name:"arrow-right",size:"10"})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):h("",!0)])),_:1},8,["refresher-triggered"])])),_:1})}}}),[["__scopeId","data-v-832902aa"]]);export{z as default};
