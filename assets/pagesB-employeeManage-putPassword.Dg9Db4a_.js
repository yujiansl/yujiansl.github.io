import{d as a,r as s,q as e,a9 as o,c as l,w as r,i as d,I as t,M as n,K as u,o as c,a as i,g as f,R as m,u as p,a0 as w,Z as _,$ as y,a1 as k,_ as v}from"./index-CK4DGatK.js";import{u as b}from"./useQuery.3dd8K18V.js";const g=v(a({__name:"putPassword",setup(a){const v=b(),g=s({});e((()=>{g.value=JSON.parse(v.value.objData)}));const z=o({password:"",confirmPassword:""}),V=s(!0),C=()=>{V.value=!V.value},P=s(!0),j=()=>{P.value=!P.value},x=async()=>{const a=(()=>{const{password:a,confirmPassword:s}=z;return a?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/.test(a)?s?a!=s?"两次密码不一致":"":"请再次确认密码":"新密码格式不正确":"请输入新密码"})();if(a)return void w({title:a,icon:"none"});_({title:"提交中"});0==(await y().put("/admin/user",{...g.value,password:z.password})).code&&(w({title:"修改成功",icon:"none"}),k())};return(a,s)=>{const e=d,o=m,w=t(u("up-icon"),n);return c(),l(e,{class:"page psw"},{default:r((()=>[i(e,{class:"content"},{default:r((()=>[i(e,{class:"form-box"},{default:r((()=>[i(e,{class:"form-item"},{default:r((()=>[i(e,null,{default:r((()=>[f("新密码")])),_:1}),i(o,{modelValue:p(z).password,"onUpdate:modelValue":s[0]||(s[0]=a=>p(z).password=a),password:p(V),placeholder:"8-16位的大小写字母、数字组成"},null,8,["modelValue","password"]),p(V)?(c(),l(w,{key:1,onClick:C,name:"eye-off",color:"rgb(96, 98, 102)",size:"28"})):(c(),l(w,{key:0,onClick:C,name:"eye",color:"rgb(96, 98, 102)",size:"28"}))])),_:1}),i(e,{class:"form-item"},{default:r((()=>[i(e,null,{default:r((()=>[f("再次确认密码")])),_:1}),i(o,{modelValue:p(z).confirmPassword,"onUpdate:modelValue":s[1]||(s[1]=a=>p(z).confirmPassword=a),password:p(P),placeholder:"请再次输入密码"},null,8,["modelValue","password"]),p(P)?(c(),l(w,{key:1,onClick:j,name:"eye-off",color:"rgb(96, 98, 102)",size:"28"})):(c(),l(w,{key:0,onClick:j,name:"eye",color:"rgb(96, 98, 102)",size:"28"}))])),_:1}),i(e,{class:"btns"},{default:r((()=>[i(e,{onClick:x,class:"add"},{default:r((()=>[f(" 保存 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-8750b87f"]]);export{g as default};
