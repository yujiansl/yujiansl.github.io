import{d as a,r as s,B as e,a3 as l,c as t,w as n,i as u,I as o,bt as c,K as r,o as d,a as v,g as i,t as f,u as _,n as p,b as I,F as b,h as g,D as h,bp as m,a2 as w,br as S,G as k,bs as y,a1 as P,_ as x}from"./index-CK4DGatK.js";const C=x(a({__name:"verifyCode",setup(a){const x=s(),C=s(59),L=s(null),$=()=>{L.value=setInterval((()=>{C.value>0?C.value--:clearInterval(L.value)}),1e3)};e((a=>{x.value=a.phone,$()}));const A=()=>{C.value>0||(C.value=59,clearInterval(L.value),$(),F())},F=()=>{(new h).showLoading("正在获取验证码"),m(x.value,"LOGIN").then((()=>{w()}))},G=a=>{S(),(new h).showLoading("登录中");const s=k("deviceInfo");y("APPSMS",`APPSMS@${x.value}@${s.model}@${s.deviceId}`,a)},M=()=>{P()};return l((()=>{clearInterval(L.value)})),(a,s)=>{const e=u,l=o(r("u-message-input"),c),h=g;return d(),t(e,{class:"page font-regular"},{default:n((()=>[v(e,{class:"type-btn",onClick:M},{default:n((()=>[i("账号密码登录")])),_:1}),v(e,{class:"title"},{default:n((()=>[i("请输入验证码")])),_:1}),v(e,{class:"sub-title"},{default:n((()=>[i("验证码已发送至"+f(_(x)),1)])),_:1}),v(l,{maxlength:4,focus:!0,onFinish:G}),v(e,{class:p(["send",{"s-color":_(C)<1}]),onClick:A},{default:n((()=>[_(C)>0?(d(),I(b,{key:0},[v(h,{class:"s-color"},{default:n((()=>[i(f(_(C)),1)])),_:1}),i(" S后可重新获取验证码")],64)):(d(),t(h,{key:1},{default:n((()=>[i("重新发送")])),_:1}))])),_:1},8,["class"])])),_:1})}}}),[["__scopeId","data-v-c5553135"]]);export{C as default};
