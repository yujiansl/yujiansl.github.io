import{d as e,r as a,v as l,I as r,a6 as i,K as u,b as t,o as n,F as s,c as p,y as c,a as o,i as v,w as d,e as M,n as m,u as g,g as A,t as x,h as y,s as b,a0 as f,_}from"./index-CK4DGatK.js";import{a as h}from"./index.HDA2F_3Q.js";const V=_(e({__name:"pricePicker",props:{priceArr:{type:Array,default:()=>[]},inputType:{type:String,default:"wanyuan"},unit:{type:String,default:"万元"}},emits:["update:priceArr"],setup(e,{emit:_}){const V=_,k=a({priceMin:"",priceMax:"",mileageArr:""}),F=e;l((()=>F.priceArr),(e=>{k.value.priceMin=e[0]||"",k.value.priceMax=e[1]||"",k.value.mileageArr=e[2]||""}),{immediate:!0,deep:!0});const C=a([{label:"1万公里内",value:"0,1"},{label:"3万公里内",value:"0,3"},{label:"5万公里内",value:"0,5"},{label:"8万公里内",value:"0,8"}]),$=(e,a)=>{b((()=>{k.value[a]=h(e,F.inputType),"startMileage"==a&&(k.value.mileageArr=e?`${k.value[a]},${k.value.endMileage}`:""),"endMileage"==a&&(k.value.mileageArr=e?`${k.value.startMileage},${k.value[a]}`:"");const l=[k.value.priceMin,k.value.priceMax];"万公里"==F.unit&&l.push(k.value.mileageArr),V("update:priceArr",l)}))},j=(e,a,l,r)=>{k.value[a]=e;const i=[k.value.priceMin,k.value.priceMax];"万公里"==F.unit&&i.push(k.value.mileageArr),V("update:priceArr",i);const u=k.value[a],t=k.value[l];if(u&&t&&("start"==r&&parseFloat(u)>parseFloat(t)||"end"==r&&parseFloat(u)<parseFloat(t))){f({title:"结束必须大于开始",icon:"none"}),k.value[a]="";const e=[k.value.priceMin,k.value.priceMax];return"万公里"==F.unit&&e.push(k.value.mileageArr),void V("update:priceArr",e)}};return(a,l)=>{const b=v,f=r(u("up-input"),i),_=y;return n(),t(s,null,["万公里"==e.unit?(n(),p(b,{key:0,class:"sub-content"},{default:d((()=>[(n(!0),t(s,null,M(g(C),(e=>(n(),p(b,{onClick:a=>((e,a)=>{k.value[e]=k.value[e]==a.value?"":a.value;{const a=k.value[e]?k.value[e].split(","):["",""];k.value.priceMin=a[0],k.value.priceMax=a[1]}const l=[k.value.priceMin,k.value.priceMax];"万公里"==F.unit&&l.push(k.value.mileageArr),V("update:priceArr",l)})("mileageArr",e),class:m({active:g(k).mileageArr==e.value}),key:e.label},{default:d((()=>[A(x(e.label),1)])),_:2},1032,["onClick","class"])))),128))])),_:1})):c("",!0),o(b,{class:"custom"},{default:d((()=>[o(f,{clearable:"",type:"digit",placeholder:"请输入",modelValue:g(k).priceMin,"onUpdate:modelValue":l[0]||(l[0]=e=>g(k).priceMin=e),onChange:l[1]||(l[1]=a=>$(a,"万公里"==e.unit?"startMileage":"priceMin")),onBlur:l[2]||(l[2]=e=>j(e,"priceMin","priceMax","start"))},null,8,["modelValue"]),o(_,{class:"line"},{default:d((()=>[A("-")])),_:1}),o(f,{clearable:"",type:"digit",placeholder:"请输入",modelValue:g(k).priceMax,"onUpdate:modelValue":l[3]||(l[3]=e=>g(k).priceMax=e),onChange:l[4]||(l[4]=a=>$(a,"万公里"==e.unit?"endMileage":"priceMax")),onBlur:l[5]||(l[5]=e=>j(e,"priceMax","priceMin","end"))},null,8,["modelValue"]),o(_,{class:"unit"},{default:d((()=>[A(x(e.unit),1)])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-3bed556a"]]);export{V as P};
