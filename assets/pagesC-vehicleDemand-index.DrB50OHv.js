import{d as s,r as a,a9 as t,B as e,E as o,X as r,Y as l,Z as i,$ as n,a2 as u,c as m,w as c,i as d,I as p,b8 as f,K as j,o as _,a as y,u as b,g as h,t as v,ad as L,O as g,b as k,F as x,e as D,T as w,Q as S,_ as C}from"./index-CK4DGatK.js";import{S as R,L as I}from"./listItem.CXGoSUbv.js";import{L as O}from"./ListLoadRefreshView.CnNC2lkG.js";import{m as T}from"./state.B0y7zlHh.js";import{o as F}from"./omit.DzeQdT5l.js";import"./u-dropdown-item.B66HFyYv.js";import"./brandDrop.WDU7kvw8.js";import"./time._VqwKl0d.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const U=C(s({__name:"index",setup(s){a();const C=a(),U=a([]),V=a(),Y=t({current:1,size:10,total:0,status:"",sort:1}),Z=a({});async function $(){var s,a;i({title:"加载中",mask:!0});try{const s={...F(Y,"total"),status:1},a=await n().post(T.conditionalSearch,s);Y.total=+a.data.count;const t=a.data.results;U.value=1===Y.current?t:[...U.value,...t]}finally{1==Y.current&&(null==(s=V.value)||s.initTop()),null==(a=V.value)||a.loadFinish(),u()}}e((s=>{Y.status=s.type?Number(s.type):""})),o((()=>{r("sellData"),l("sellData",(s=>{Z.value=s})),r("refreshList"),l("refreshList",(()=>{z()})),$()}));const z=()=>{Y.current=1,$()},A=()=>{Y.current++,$()},B=s=>{Object.assign(Y,s),Y.current=1,$()};return(s,a)=>{const t=d,e=p(j("u-empty"),f);return _(),m(t,{class:"page f-c-s"},{default:c((()=>[y(R,{ref_key:"filterRef",ref:C,onSearch:B,sellData:b(Z)},null,8,["sellData"]),y(t,{class:"total"},{default:c((()=>[h(" 共找到"+v(b(Y).total)+"个 ",1)])),_:1}),b(Y).total?(_(),m(O,L({key:0,ref_key:"listLoadRef",ref:V,class:"scroll-view-box"},b(Y),{istop:!1,onLoadMore:A,onLoadRefresh:z}),{default:c((()=>[g(y(t,{class:"list-box"},{default:c((()=>[(_(!0),k(x,null,D(b(U),((s,a)=>(_(),m(I,{key:a,item:s,onClick:a=>(s=>{S(`/pagesC/myPurchase/details?id=${s.id}&page=vehicleDemand`)})(s)},null,8,["item","onClick"])))),128))])),_:1},512),[[w,b(U).length]])])),_:1},16)):(_(),m(e,{key:1,mode:"list",text:"暂无数据"}))])),_:1})}}}),[["__scopeId","data-v-1b501d93"]]);export{U as default};
