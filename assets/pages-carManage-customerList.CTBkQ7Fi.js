import{d as a,r as e,B as s,Z as l,a2 as t,c as u,w as d,i as r,I as o,M as c,K as i,b8 as n,o as m,a as p,R as f,u as h,z as v,b as _,F as k,e as y,n as b,y as g,k as x,P as I,h as w,g as N,t as z,ar as C,a1 as V,_ as j}from"./index-CK4DGatK.js";import{a as B}from"./user.CTa_O_oz.js";const F=j(a({__name:"customerList",setup(a){const j=e([]),F=e(),M=e("");s((a=>{a.keyword&&(M.value=a.keyword),U(),a.id&&(F.value=a.id)}));const U=()=>{l({title:"加载中"}),uni.$u.http.get("/product/member/getAllUser",{params:{search:M.value}}).then((a=>{j.value=(a.data||[]).map((a=>({...a,id:a.userId||a.id,userId:a.userId||a.id}))),t()}))},A=a=>{a.detail.value||U()};return(a,e)=>{const s=o(i("up-icon"),c),l=f,t=r,D=I,K=w,L=o(i("up-empty"),n);return m(),u(t,{class:"page f-c-s"},{default:d((()=>[p(t,{class:"search-box"},{default:d((()=>[p(t,null,{default:d((()=>[p(s,{name:"search",size:"20"}),p(l,{modelValue:h(M),"onUpdate:modelValue":e[0]||(e[0]=a=>v(M)?M.value=a:null),type:"text",placeholder:"搜索","confirm-type":"search",onInput:A,onConfirm:U},null,8,["modelValue"])])),_:1})])),_:1}),p(t,{class:"f-list"},{default:d((()=>[h(j).length?(m(!0),_(k,{key:0},y(h(j),((a,e)=>(m(),u(t,{key:e,class:b(["user-list",{active:h(F)==a.id}]),onClick:e=>(a=>{F.value=a.id,C("customerData",{...a,name:a.name,phone:a.phone,id:a.id,idNumber:a.idNumber}),V()})(a)},{default:d((()=>[p(t,{class:"item-box"},{default:d((()=>[p(D,{class:"avatar",src:a.avatar||h(B)},null,8,["src"]),x("div",{class:"up-box"},[p(t,null,{default:d((()=>[p(K,{class:"name"},{default:d((()=>[N(z(a.name),1)])),_:2},1024),a.phone?(m(),u(K,{key:0},{default:d((()=>[N("("+z(a.phone)+")",1)])),_:2},1024)):g("",!0),1==a.member?(m(),u(K,{key:1,class:"tag"},{default:d((()=>[N("会员")])),_:1})):g("",!0)])),_:2},1024),a.idNumber?(m(),_("div",{key:0,class:"id-number"},"身份证号: "+z(a.idNumber),1)):g("",!0)])])),_:2},1024),h(F)==a.id?(m(),u(s,{key:0,name:"checkbox-mark",color:"#F6531B",size:"20"})):g("",!0)])),_:2},1032,["class","onClick"])))),128)):(m(),u(L,{key:1,mode:"data",icon:"http://cdn.uviewui.com/uview/empty/data.png"}))])),_:1})])),_:1})}}}),[["__scopeId","data-v-c348ef45"]]);export{F as default};
