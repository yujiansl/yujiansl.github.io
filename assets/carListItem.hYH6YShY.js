import{f as e}from"./time._VqwKl0d.js";import{z as t}from"./image.DobRSNlT.js";import{d as a,x as s,c as l,o as i,i as r,n as u,w as d,y as c,a as m,g as n,t as o,u as f,S as p,P as y,h as _,b as g,F as k,k as S,Q as h,ar as O,a1 as N,a0 as C,_ as P}from"./index-CK4DGatK.js";const T=P(a({__name:"carListItem",props:{item:{type:Object,default:()=>{}},occasion:{type:String,default:"public"},isOrders:{type:Boolean,default:!1},isCoupon:{type:Boolean,default:!1},itemType:{type:String,default:""},isSold:{type:Boolean,default:!1},hasCheck:{type:Boolean,default:!1},hasCarAuth:{type:Boolean,default:!0},hasOrderAuth:{type:Boolean,default:!0},maxSelect:{type:Number},isChecked:{type:Boolean,default:!1},quick:{type:String,default:""},from:{type:String,default:""},testDrive:{type:String,default:""}},emits:["select"],setup(a,{emit:P}){const T=a,v=P,D=s((()=>{const{orderStatus:e,paymentMethod:t,amountReceived:a,mortgageAmount:s}=T.item;return"FullPaymentReceived"===e&&"Mortgage"===t?s+a:a})),I=e=>{switch(e){case"OnSale":return"在售";case"SoldOut":return"已售";case"ForceCancel":return"退库";case"Locked":return"预定";default:return""}},B=e=>{switch(e){case"Intransit":return"在途";case"BeReady":return"在厅";case"Readiness":return"整备";case"UNDER_PREPARATION":return"整备中";case"COMPLETE_REPAIR":return"整备完成";case"Transition":return"转场";case"LendOut":return"外借";case"GoOut":return"外出";case"Outbound":return"已出库";default:return""}};return(s,P)=>{const b=r,x=y,w=_;return i(),l(b,{onClick:P[1]||(P[1]=e=>(e=>{if("1"!=T.testDrive){if("detail"!==T.itemType)if(T.quick){const t="search-quick"===T.from?e.id:e.carProductId;"reserve"==T.quick?h(`/pages/carManage/details/carSell?carProductId=${t}&type=reserve`):h(`/pages/carManage/details/carSell?carProductId=${t}`)}else if(T.hasCheck)v("select");else if(T.isCoupon&&(O("couponData",{label:e.productNo,val:e.id}),N()),T.isOrders)T.hasOrderAuth?h(`/pages/sells/details/index?id=${e.id}`):C({title:"暂无权限",icon:"none"});else if(T.hasCarAuth){let t=e.id;(T.isSold||"PaymentIng"===e.orderStatus)&&(t=e.carProductId),h(`/pages/carManage/details/index?id=${t}`)}else C({title:"暂无权限",icon:"none"})}else h(`/pages/carManage/testDriveDetail?type=4&id=${e.carProductId}`)})(a.item)),class:u(["list-item",{auditing:1==a.item.saleApproving}])},{default:d((()=>[a.isOrders?(i(),l(b,{key:0,class:"status"},{default:d((()=>[m(b,null,{default:d((()=>[n(o(("formatCardTime"in s?s.formatCardTime:f(e))(a.item.createTime))+"创建",1)])),_:1}),m(b,{class:u({gray:"CANCEL_ORDER"==a.item.orderStatus||"CANCEL_RESERVE"==a.item.orderStatus})},{default:d((()=>[n(o(a.item.orderStatusName),1)])),_:1},8,["class"])])),_:1})):c("",!0),m(b,{class:"item-box"},{default:d((()=>[a.hasCheck?(i(),l(b,{key:0,onClick:P[0]||(P[0]=p((e=>v("select")),["stop"]))},{default:d((()=>[m(x,{class:"img",src:T.isChecked?"/static/carManage/select_y.png":"/static/carManage/select_n.png"},null,8,["src"])])),_:1})):c("",!0),m(b,{class:"left"},{default:d((()=>[m(x,{src:("zipImg"in s?s.zipImg:f(t))(a.item.coverUrl,50),mode:"aspectFill"},null,8,["src"]),m(b,{class:"plateno"},{default:d((()=>[n("No."+o(a.item.productNo),1)])),_:1})])),_:1}),m(b,{style:{flex:"1"}},{default:d((()=>[m(b,null,{default:d((()=>[1==a.item.choicenessFlag?(i(),l(w,{key:0,class:"boutiqueCar"})):c("",!0),0===a.item.choicenessFlag?(i(),l(w,{key:1,class:"discountedCar"})):c("",!0),"Consign"==a.item.purchaseType?(i(),l(w,{key:2,class:"consign"})):c("",!0),m(w,{class:"name"},{default:d((()=>{var e;return[(null==(e=a.item.carSeriesName)?void 0:e.indexOf(a.item.carBrandName))<0?(i(),l(w,{key:0},{default:d((()=>[n(o(a.item.carBrandName),1)])),_:1})):c("",!0),n(" "+o(a.item.carSeriesName),1)]})),_:1})])),_:1}),m(b,{class:"model-name"},{default:d((()=>[n(o(a.item.carModelName),1)])),_:1}),m(b,{class:"arguments"},{default:d((()=>[n(o(a.item.registerDate||"-")+" | "+o(a.item.mileage||"-")+"万公里",1)])),_:1}),m(b,{class:"price-box"},{default:d((()=>[m(b,{class:"price"},{default:d((()=>["SoldOut"==a.item.status||"Locked"==a.item.status||"ToBeSigned"==a.item.status||"PaymentIng"==a.item.status?(i(),g(k,{key:0},[1==a.item.priceViewPermission?(i(),l(b,{key:0},{default:d((()=>[a.item.dealPrice?(i(),g(k,{key:0},[m(w,{class:"deal-name"},{default:d((()=>[n("成交价")])),_:1}),m(w,{class:"large"},{default:d((()=>[n(o((a.item.dealPrice+"").split(".")[0])+".",1)])),_:1}),m(w,{class:"large"},{default:d((()=>[n(o((a.item.dealPrice+"").split(".")[1]),1)])),_:1}),m(w,{class:"small"},{default:d((()=>[n("万")])),_:1})],64)):(i(),l(w,{key:1,class:"noAuthView"},{default:d((()=>[n("--")])),_:1}))])),_:1})):(i(),l(b,{key:1},{default:d((()=>[m(w,{class:"noAuthView"},{default:d((()=>[n("无权限查看")])),_:1})])),_:1}))],64)):"SoldOut"!=a.item.status&&"Locked"!=a.item.status&&"ToBeSigned"!=a.item.status&&"PaymentIng"!=a.item.status&&a.item.price?(i(),g(k,{key:1},[m(w,{class:"large"},{default:d((()=>[n(o((a.item.price+"").split(".")[0])+".",1)])),_:1}),m(w,{class:"large"},{default:d((()=>[n(o((a.item.price+"").split(".")[1]||"000"),1)])),_:1}),m(w,{class:"small"},{default:d((()=>[n("万")])),_:1})],64)):(i(),l(b,{key:2,class:"no-price"},{default:d((()=>[n("未定价")])),_:1}))])),_:1}),a.isSold?(i(),l(b,{key:0,class:"text-deco"},{default:d((()=>[n("网络标价： "),a.item.price?(i(),l(w,{key:0},{default:d((()=>[n(o(a.item.price)+"万",1)])),_:1})):(i(),l(w,{key:1},{default:d((()=>[n("未定价")])),_:1}))])),_:1})):c("",!0)])),_:1}),a.isOrders?c("",!0):(i(),l(b,{key:0,class:"tags"},{default:d((()=>{var e;return[a.item.status&&(null==(e=I(a.item.status))?void 0:e.length)?(i(),l(b,{key:0},{default:d((()=>[n(o(I(a.item.status)),1)])),_:1})):c("",!0),a.item.stockStatus&&"FirstInspection"!==a.item.stockStatus?(i(),l(b,{key:1},{default:d((()=>[n(o(B(a.item.stockStatus)),1)])),_:1})):c("",!0),"OnSale"==a.item.status&&a.item.listingNum&&"0"!==a.item.listingNum||"SoldOut"==a.item.status&&a.item.onSaleDays&&"0"!==a.item.onSaleDays||"ToBeSigned"==a.item.status&&a.item.onSaleDays&&"0"!==a.item.onSaleDays||"PaymentIng"==a.item.status&&a.item.onSaleDays&&"0"!==a.item.onSaleDays?(i(),l(b,{key:2},{default:d((()=>[n("上架"+o(a.isSold?a.item.onSaleDays:a.item.listingNum)+"天",1)])),_:1})):c("",!0),a.isSold&&a.item.inventoryDays&&"0"!==a.item.inventoryDays||!a.isSold&&a.item.warehouseNum&&"0"!==a.item.warehouseNum?(i(),l(b,{key:3},{default:d((()=>[n("库龄"+o(a.isSold?a.item.inventoryDays:a.item.warehouseNum)+"天",1)])),_:1})):c("",!0)]})),_:1})),a.isOrders?c("",!0):(i(),l(b,{key:1,style:{display:"flex","justify-content":"space-between"},class:"arguments appraiser"},{default:d((()=>[n(" 评估师："+o(a.item.appraiser||"杨林"),1)])),_:1})),a.item.orderStatus&&a.isOrders?(i(),l(b,{key:2,class:"info"},{default:d((()=>[m(b,null,{default:d((()=>[m(b,{style:{display:"flex","justify-content":"space-between"}},{default:d((()=>[m(w,null,{default:d((()=>[n("客户："+o(a.item.customerName||"-"),1)])),_:1}),"Locked"!=a.item.status&&"ToBeSigned"!=a.item.status||1!=a.item.reservationTimeout?c("",!0):(i(),l(b,{key:0,class:"labels"},{default:d((()=>[m(w,null,{default:d((()=>[n("超时")])),_:1})])),_:1}))])),_:1}),m(b,null,{default:d((()=>[n("销售员："+o(a.item.salesUserName||"-"),1)])),_:1}),m(b,null,{default:d((()=>[n("评估师："+o(a.item.appraiser||"-"),1)])),_:1}),m(b,null,{default:d((()=>[n("销售日期："+o(a.item.soldTime||"-"),1)])),_:1})])),_:1})])),_:1})):c("",!0),"SoldOut"!=a.item.status&&"PaymentIng"!=a.item.status||a.isOrders?c("",!0):(i(),l(b,{key:3,class:"sold-sale"},{default:d((()=>[m(b,{class:"sold-item"},{default:d((()=>[n("销售日期："+o(a.item.soldTime||"-"),1)])),_:1}),m(b,{class:"sold-item"},{default:d((()=>[n("销售员："+o(a.item.salesUserName||"-"),1)])),_:1})])),_:1})),"Locked"!=a.item.status&&"ToBeSigned"!=a.item.status||a.isOrders?c("",!0):(i(),l(b,{key:4,class:"sold-sale"},{default:d((()=>[m(b,{class:"sold-item"},{default:d((()=>[n("预定日期："+o(a.item.reserveTime||"-"),1)])),_:1}),m(b,{class:"sold-item flex-between"},{default:d((()=>[m(w,null,{default:d((()=>[n("销售员："+o(a.item.salesUserName||"-"),1)])),_:1}),"Locked"!=a.item.status&&"ToBeSigned"!=a.item.status||1!=a.item.reservationTimeout?c("",!0):(i(),l(b,{key:0,class:"labels"},{default:d((()=>[m(w,null,{default:d((()=>[n("超时")])),_:1})])),_:1}))])),_:1})])),_:1})),"ForceCancel"!=a.item.status||a.isOrders?c("",!0):(i(),l(b,{key:5,class:"sold-sale"},{default:d((()=>[m(b,{class:"sold-item"},{default:d((()=>[n("退库日期："+o(a.item.reasonTime||"-"),1)])),_:1}),m(b,{class:"sold-item"},{default:d((()=>[n("退库原因："+o(a.item.reasonType||"-"),1)])),_:1})])),_:1}))])),_:1})])),_:1}),a.item.orderStatus&&a.isOrders&&1==a.item.priceViewPermission?(i(),l(b,{key:1,class:"prices"},{default:d((()=>[S("span",null,[n("定金："),m(w,null,{default:d((()=>[n(o(a.item.deposit||0)+"元",1)])),_:1})]),S("span",{class:"ml20"},[n("已收："),m(w,null,{default:d((()=>[n(o(f(D))+"元",1)])),_:1})]),S("span",{class:"ml20"},[n("成交价："),m(w,null,{default:d((()=>[n(o(a.item.dealPrice||0)+"万元",1)])),_:1})])])),_:1})):c("",!0)])),_:1},8,["class"])}}}),[["__scopeId","data-v-08101cb5"]]);export{T as c};
