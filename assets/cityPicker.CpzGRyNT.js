import{d as e,r as a,v as l,c as u,o as v,w as n,a as i,i as t,n as s,u as o,g as d,t as c,a7 as m,s as r,_ as g}from"./index-CK4DGatK.js";const p=g(e({__name:"cityPicker",props:{cityInfo:{type:Object,default:()=>{}},areaData:{type:Object,default:()=>({})},column:{type:Number,default:3}},emits:["sureCity"],setup(e,{emit:g}){const p=a(),b=a(),y=a(),R=a(),f=a(),I=a(),h=a(),N=a(),_=a([]),C=g,j=e;l((()=>j.cityInfo),(e=>{if(e.provinceId){const{provinceId:a,cityId:l,countryId:u,fullCityName:v}=e;y.value=a,R.value=l,f.value=u||"",v&&(b.value=v)}}),{immediate:!0,deep:!0}),l((()=>j.areaData),(e=>{var a;if(null==(a=null==e?void 0:e.areaList)?void 0:a.length){p.value=3==j.column?[[],[],[]]:[[],[]],N.value=3==j.column?[0,0,0]:[0,0];const a=e.areaList;I.value=a,p.value[0]=a,p.value[1]=a[0].subRegions||[],3==j.column&&(p.value[2]=a[0].subRegions[0].subRegions)}}),{immediate:!0,deep:!0});const k=e=>{var a,l,u,v;0==e.detail.column?(N.value.splice(0,1,e.detail.value),_.value[0]=Number(I.value[e.detail.value].code),h.value=Number(I.value[e.detail.value].id),0==(null==(a=I.value[e.detail.value].subRegions)?void 0:a.length)?3==j.column?p.value=[p.value[0],[[]],[[]]]:p.value=[p.value[0],[[]]]:(null==(l=I.value[e.detail.value].subRegions)?void 0:l.length)>0&&0==(null==(v=null==(u=I.value[e.detail.value].subRegions[0])?void 0:u.subRegions)?void 0:v.length)?3==j.column?p.value=[p.value[0],I.value[e.detail.value].subRegions,[[]]]:p.value=[p.value[0],I.value[e.detail.value].subRegions]:(p.value[1]=I.value[e.detail.value].subRegions,3==j.column&&(p.value[2]=p.value[1][0].subRegions))):1==e.detail.column?(N.value.splice(1,1,e.detail.value),_.value[1]=Number(p.value[1][e.detail.value].code),3==j.column&&(0==p.value[1][e.detail.value].subRegions.length?p.value=[p.value[0],p.value[1],[[]]]:p.value[2]=p.value[1][e.detail.value].subRegions)):N.value.splice(2,1,e.detail.value)},w=e=>{var a;y.value=p.value[0][N.value[0]].id,null==p.value[1][N.value[1]].name?r((()=>{b.value=p.value[0][N.value[0]].name})):2==j.column||null==(null==(a=p.value[2][N.value[2]])?void 0:a.name)?r((()=>{b.value=p.value[0][N.value[0]].name+" "+p.value[1][N.value[1]].name,R.value=p.value[1][N.value[1]].id,f.value=""})):r((()=>{b.value=p.value[0][N.value[0]].name+" "+p.value[1][N.value[1]].name+" "+p.value[2][N.value[2]].name,R.value=p.value[1][N.value[1]].id,f.value=p.value[2][N.value[2]].id})),r((()=>{var e,a,l;C("sureCity",{provinceId:y.value,provinceName:null==(e=p.value[0][N.value[0]])?void 0:e.name,cityId:R.value,cityName:null==(a=p.value[1][N.value[1]])?void 0:a.name,countryId:f.value,countyName:2==j.column?"":null==(l=p.value[2][N.value[2]])?void 0:l.name})}))};return(e,a)=>{const l=t,r=m;return v(),u(r,{mode:"multiSelector",range:o(p),"range-key":"name",value:o(N),onChange:w,onColumnchange:k},{default:n((()=>[i(l,{class:s(["city-wrap",{placeholder:!o(b)}])},{default:n((()=>[d(c(o(b)||"请选择"),1)])),_:1},8,["class"])])),_:1},8,["range","value"])}}}),[["__scopeId","data-v-08a126f0"]]);export{p as C};
