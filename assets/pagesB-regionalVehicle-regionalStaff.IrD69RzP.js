import{d as a,E as s,aR as t,X as e,B as l,a9 as o,r,Z as i,a2 as n,c,w as d,i as u,I as m,M as f,K as p,o as _,a as g,u as y,Q as j,h,g as b,ad as v,b as L,t as I,F as R,e as w,_ as x}from"./index-CK4DGatK.js";import{N as B}from"./NavBar.DSs5OGCU.js";import{L as k}from"./ListLoadRefreshView.CnNC2lkG.js";import{e as M}from"./employItem.CBSu_Ex6.js";import{o as S}from"./omit.DzeQdT5l.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const V=x(a({__name:"regionalStaff",setup(a){s((()=>{C()})),t((()=>{e("deptData")})),l((a=>{x.id=a.id}));const x=o({current:1,size:20,total:0,deptId:null}),V=r([]),z=r(),C=async()=>{var a;try{i({title:"加载中"});const a={...S(x,"total")},s=await uni.$u.http.get("/product/regionManage/getSalesListByRegionId",{params:a});x.total=s.data.count;const t=s.data.results;V.value=1===x.current?t:[...V.value,...t]}finally{n(),null==(a=z.value)||a.loadFinish()}},F=()=>{x.current=1,C()},N=()=>{console.log(123),x.current++,C()};return(a,s)=>{const t=h,e=u,l=m(p("up-icon"),f);return _(),c(e,{class:"employee"},{default:d((()=>[g(B,null,{title:d((()=>[g(e,{class:"head-drop",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:d((()=>[g(t,{class:"name"},{default:d((()=>[b("区域人员")])),_:1})])),_:1})])),right:d((()=>[g(e,{class:"nav-right"},{default:d((()=>[g(l,{name:"search",size:"30",bold:"",color:"#000",onClick:s[0]||(s[0]=s=>("toPage"in a?a.toPage:y(j))("/pagesB/regionalVehicle/searchs?id="+y(x).id))})])),_:1})])),_:1}),g(e,{class:"contents"},{default:d((()=>[g(e,{class:"inner"},{default:d((()=>[g(k,v({ref_key:"listLoadRef",ref:z,class:"scroll-view-box"},y(x),{istop:!1,onLoadMore:N,onLoadRefresh:F}),{default:d((()=>[g(e,{class:"employ-list"},{default:d((()=>[g(e,{class:"sub-title"},{default:d((()=>[b("共"+I(y(x).total)+"位区域人员",1)])),_:1}),(_(!0),L(R,null,w(y(V),(a=>(_(),c(M,{key:a.userId,item:a},null,8,["item"])))),128))])),_:1})])),_:1},16)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5f98c5f9"]]);export{V as default};
