import{d as a,r as s,B as t,E as e,D as o,$ as l,a2 as r,c as n,w as i,i as u,o as p,a as c,g as d,t as m,u as f,Q as v,ad as _,b as j,F as g,e as y,_ as b}from"./index-CK4DGatK.js";import{L}from"./ListLoadRefreshView.CnNC2lkG.js";import{L as w}from"./listItem.D5sNKmhh.js";import{o as h}from"./omit.DzeQdT5l.js";import"./refuse.BD_7bSsj.js";import"./close.Dhgi5Ijg.js";import"./_baseGet.CmhOSbYr.js";import"./_getTag.DG-N9UUn.js";import"./isObject.C8HfsiHw.js";import"./isSymbol.Bym6OQCA.js";import"./_Uint8Array.B4mhORiM.js";import"./_baseClone.Cc-Y92km.js";const x=b(a({__name:"index",setup(a){const b=s([]),x=s(),A=s({current:1,size:10,total:0,deal:0,applyStatus:0});t((a=>{A.value.status=a.type,A.value.processApproval=a.processApproval,k()})),e((()=>{B()}));const k=async()=>{var a,s;(new o).showLoading("加载中");try{const a={...h(A.value,"total")},s=await l().get("product/applyBind/page",{params:a});A.value.total=s.data.count;const t=s.data.results;b.value=1===A.value.current?t:[...b.value,...t]}finally{1==A.value.current&&(null==(a=x.value)||a.initTop()),null==(s=x.value)||s.loadFinish(),r()}},B=()=>{A.value.current=1,k()},C=()=>{A.value.current++,k()};return(a,s)=>{const t=u;return p(),n(t,{class:"page f-c-s"},{default:i((()=>[c(t,{class:"f-b-c total"},{default:i((()=>[c(t,null,{default:i((()=>[d("共 "+m(f(A).total)+" 个",1)])),_:1}),c(t,{class:"handle-btn",onClick:s[0]||(s[0]=s=>("toPage"in a?a.toPage:f(v))("/pagesA/mine/unBind/processed"))},{default:i((()=>[d("已处理")])),_:1})])),_:1}),c(L,_({ref_key:"listLoadRef",ref:x,class:"scroll-view-box"},f(A),{istop:!1,onLoadMore:C,onLoadRefresh:B}),{"list-cont":i((()=>[(p(!0),j(g,null,y(f(b),((a,s)=>(p(),n(w,{key:s,item:a,status:f(A).status,onConfirm:B},null,8,["item","status"])))),128))])),_:1},16)])),_:1})}}}),[["__scopeId","data-v-dc00d9e4"]]);export{x as default};
